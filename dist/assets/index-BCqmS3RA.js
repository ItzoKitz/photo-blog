(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&i(l)}).observe(document,{childList:!0,subtree:!0});function t(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerPolicy&&(a.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?a.credentials="include":o.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function i(o){if(o.ep)return;o.ep=!0;const a=t(o);fetch(o.href,a)}})();function Kl(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}function Nx(n){if(Object.prototype.hasOwnProperty.call(n,"__esModule"))return n;var e=n.default;if(typeof e=="function"){var t=function i(){var o=!1;try{o=this instanceof i}catch{}return o?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(n).forEach(function(i){var o=Object.getOwnPropertyDescriptor(n,i);Object.defineProperty(t,i,o.get?o:{enumerable:!0,get:function(){return n[i]}})}),t}var Gc={exports:{}},yo={},Kc={exports:{}},Ee={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Nm;function Ux(){if(Nm)return Ee;Nm=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),m=Symbol.iterator;function g(R){return R===null||typeof R!="object"?null:(R=m&&R[m]||R["@@iterator"],typeof R=="function"?R:null)}var y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},x=Object.assign,S={};function C(R,W,ne){this.props=R,this.context=W,this.refs=S,this.updater=ne||y}C.prototype.isReactComponent={},C.prototype.setState=function(R,W){if(typeof R!="object"&&typeof R!="function"&&R!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,R,W,"setState")},C.prototype.forceUpdate=function(R){this.updater.enqueueForceUpdate(this,R,"forceUpdate")};function P(){}P.prototype=C.prototype;function I(R,W,ne){this.props=R,this.context=W,this.refs=S,this.updater=ne||y}var A=I.prototype=new P;A.constructor=I,x(A,C.prototype),A.isPureReactComponent=!0;var j=Array.isArray,H=Object.prototype.hasOwnProperty,T={current:null},V={key:!0,ref:!0,__self:!0,__source:!0};function k(R,W,ne){var Z,Y={},ie=null,ve=null;if(W!=null)for(Z in W.ref!==void 0&&(ve=W.ref),W.key!==void 0&&(ie=""+W.key),W)H.call(W,Z)&&!V.hasOwnProperty(Z)&&(Y[Z]=W[Z]);var de=arguments.length-2;if(de===1)Y.children=ne;else if(1<de){for(var fe=Array(de),xe=0;xe<de;xe++)fe[xe]=arguments[xe+2];Y.children=fe}if(R&&R.defaultProps)for(Z in de=R.defaultProps,de)Y[Z]===void 0&&(Y[Z]=de[Z]);return{$$typeof:n,type:R,key:ie,ref:ve,props:Y,_owner:T.current}}function _(R,W){return{$$typeof:n,type:R.type,key:W,ref:R.ref,props:R.props,_owner:R._owner}}function F(R){return typeof R=="object"&&R!==null&&R.$$typeof===n}function z(R){var W={"=":"=0",":":"=2"};return"$"+R.replace(/[=:]/g,function(ne){return W[ne]})}var B=/\/+/g;function N(R,W){return typeof R=="object"&&R!==null&&R.key!=null?z(""+R.key):W.toString(36)}function L(R,W,ne,Z,Y){var ie=typeof R;(ie==="undefined"||ie==="boolean")&&(R=null);var ve=!1;if(R===null)ve=!0;else switch(ie){case"string":case"number":ve=!0;break;case"object":switch(R.$$typeof){case n:case e:ve=!0}}if(ve)return ve=R,Y=Y(ve),R=Z===""?"."+N(ve,0):Z,j(Y)?(ne="",R!=null&&(ne=R.replace(B,"$&/")+"/"),L(Y,W,ne,"",function(xe){return xe})):Y!=null&&(F(Y)&&(Y=_(Y,ne+(!Y.key||ve&&ve.key===Y.key?"":(""+Y.key).replace(B,"$&/")+"/")+R)),W.push(Y)),1;if(ve=0,Z=Z===""?".":Z+":",j(R))for(var de=0;de<R.length;de++){ie=R[de];var fe=Z+N(ie,de);ve+=L(ie,W,ne,fe,Y)}else if(fe=g(R),typeof fe=="function")for(R=fe.call(R),de=0;!(ie=R.next()).done;)ie=ie.value,fe=Z+N(ie,de++),ve+=L(ie,W,ne,fe,Y);else if(ie==="object")throw W=String(R),Error("Objects are not valid as a React child (found: "+(W==="[object Object]"?"object with keys {"+Object.keys(R).join(", ")+"}":W)+"). If you meant to render a collection of children, use an array instead.");return ve}function q(R,W,ne){if(R==null)return R;var Z=[],Y=0;return L(R,Z,"","",function(ie){return W.call(ne,ie,Y++)}),Z}function D(R){if(R._status===-1){var W=R._result;W=W(),W.then(function(ne){(R._status===0||R._status===-1)&&(R._status=1,R._result=ne)},function(ne){(R._status===0||R._status===-1)&&(R._status=2,R._result=ne)}),R._status===-1&&(R._status=0,R._result=W)}if(R._status===1)return R._result.default;throw R._result}var E={current:null},X={transition:null},U={ReactCurrentDispatcher:E,ReactCurrentBatchConfig:X,ReactCurrentOwner:T};function K(){throw Error("act(...) is not supported in production builds of React.")}return Ee.Children={map:q,forEach:function(R,W,ne){q(R,function(){W.apply(this,arguments)},ne)},count:function(R){var W=0;return q(R,function(){W++}),W},toArray:function(R){return q(R,function(W){return W})||[]},only:function(R){if(!F(R))throw Error("React.Children.only expected to receive a single React element child.");return R}},Ee.Component=C,Ee.Fragment=t,Ee.Profiler=o,Ee.PureComponent=I,Ee.StrictMode=i,Ee.Suspense=d,Ee.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=U,Ee.act=K,Ee.cloneElement=function(R,W,ne){if(R==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+R+".");var Z=x({},R.props),Y=R.key,ie=R.ref,ve=R._owner;if(W!=null){if(W.ref!==void 0&&(ie=W.ref,ve=T.current),W.key!==void 0&&(Y=""+W.key),R.type&&R.type.defaultProps)var de=R.type.defaultProps;for(fe in W)H.call(W,fe)&&!V.hasOwnProperty(fe)&&(Z[fe]=W[fe]===void 0&&de!==void 0?de[fe]:W[fe])}var fe=arguments.length-2;if(fe===1)Z.children=ne;else if(1<fe){de=Array(fe);for(var xe=0;xe<fe;xe++)de[xe]=arguments[xe+2];Z.children=de}return{$$typeof:n,type:R.type,key:Y,ref:ie,props:Z,_owner:ve}},Ee.createContext=function(R){return R={$$typeof:l,_currentValue:R,_currentValue2:R,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},R.Provider={$$typeof:a,_context:R},R.Consumer=R},Ee.createElement=k,Ee.createFactory=function(R){var W=k.bind(null,R);return W.type=R,W},Ee.createRef=function(){return{current:null}},Ee.forwardRef=function(R){return{$$typeof:c,render:R}},Ee.isValidElement=F,Ee.lazy=function(R){return{$$typeof:f,_payload:{_status:-1,_result:R},_init:D}},Ee.memo=function(R,W){return{$$typeof:p,type:R,compare:W===void 0?null:W}},Ee.startTransition=function(R){var W=X.transition;X.transition={};try{R()}finally{X.transition=W}},Ee.unstable_act=K,Ee.useCallback=function(R,W){return E.current.useCallback(R,W)},Ee.useContext=function(R){return E.current.useContext(R)},Ee.useDebugValue=function(){},Ee.useDeferredValue=function(R){return E.current.useDeferredValue(R)},Ee.useEffect=function(R,W){return E.current.useEffect(R,W)},Ee.useId=function(){return E.current.useId()},Ee.useImperativeHandle=function(R,W,ne){return E.current.useImperativeHandle(R,W,ne)},Ee.useInsertionEffect=function(R,W){return E.current.useInsertionEffect(R,W)},Ee.useLayoutEffect=function(R,W){return E.current.useLayoutEffect(R,W)},Ee.useMemo=function(R,W){return E.current.useMemo(R,W)},Ee.useReducer=function(R,W,ne){return E.current.useReducer(R,W,ne)},Ee.useRef=function(R){return E.current.useRef(R)},Ee.useState=function(R){return E.current.useState(R)},Ee.useSyncExternalStore=function(R,W,ne){return E.current.useSyncExternalStore(R,W,ne)},Ee.useTransition=function(){return E.current.useTransition()},Ee.version="18.3.1",Ee}var Um;function wh(){return Um||(Um=1,Kc.exports=Ux()),Kc.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bm;function Bx(){if(Bm)return yo;Bm=1;var n=wh(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,o=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function l(c,d,p){var f,m={},g=null,y=null;p!==void 0&&(g=""+p),d.key!==void 0&&(g=""+d.key),d.ref!==void 0&&(y=d.ref);for(f in d)i.call(d,f)&&!a.hasOwnProperty(f)&&(m[f]=d[f]);if(c&&c.defaultProps)for(f in d=c.defaultProps,d)m[f]===void 0&&(m[f]=d[f]);return{$$typeof:e,type:c,key:g,ref:y,props:m,_owner:o.current}}return yo.Fragment=t,yo.jsx=l,yo.jsxs=l,yo}var $m;function $x(){return $m||($m=1,Gc.exports=Bx()),Gc.exports}var O=$x(),J=wh();const je=Kl(J);var el={},qc={exports:{}},Xt={},Xc={exports:{}},Yc={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zm;function zx(){return zm||(zm=1,(function(n){function e(X,U){var K=X.length;X.push(U);e:for(;0<K;){var R=K-1>>>1,W=X[R];if(0<o(W,U))X[R]=U,X[K]=W,K=R;else break e}}function t(X){return X.length===0?null:X[0]}function i(X){if(X.length===0)return null;var U=X[0],K=X.pop();if(K!==U){X[0]=K;e:for(var R=0,W=X.length,ne=W>>>1;R<ne;){var Z=2*(R+1)-1,Y=X[Z],ie=Z+1,ve=X[ie];if(0>o(Y,K))ie<W&&0>o(ve,Y)?(X[R]=ve,X[ie]=K,R=ie):(X[R]=Y,X[Z]=K,R=Z);else if(ie<W&&0>o(ve,K))X[R]=ve,X[ie]=K,R=ie;else break e}}return U}function o(X,U){var K=X.sortIndex-U.sortIndex;return K!==0?K:X.id-U.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;n.unstable_now=function(){return a.now()}}else{var l=Date,c=l.now();n.unstable_now=function(){return l.now()-c}}var d=[],p=[],f=1,m=null,g=3,y=!1,x=!1,S=!1,C=typeof setTimeout=="function"?setTimeout:null,P=typeof clearTimeout=="function"?clearTimeout:null,I=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function A(X){for(var U=t(p);U!==null;){if(U.callback===null)i(p);else if(U.startTime<=X)i(p),U.sortIndex=U.expirationTime,e(d,U);else break;U=t(p)}}function j(X){if(S=!1,A(X),!x)if(t(d)!==null)x=!0,D(H);else{var U=t(p);U!==null&&E(j,U.startTime-X)}}function H(X,U){x=!1,S&&(S=!1,P(k),k=-1),y=!0;var K=g;try{for(A(U),m=t(d);m!==null&&(!(m.expirationTime>U)||X&&!z());){var R=m.callback;if(typeof R=="function"){m.callback=null,g=m.priorityLevel;var W=R(m.expirationTime<=U);U=n.unstable_now(),typeof W=="function"?m.callback=W:m===t(d)&&i(d),A(U)}else i(d);m=t(d)}if(m!==null)var ne=!0;else{var Z=t(p);Z!==null&&E(j,Z.startTime-U),ne=!1}return ne}finally{m=null,g=K,y=!1}}var T=!1,V=null,k=-1,_=5,F=-1;function z(){return!(n.unstable_now()-F<_)}function B(){if(V!==null){var X=n.unstable_now();F=X;var U=!0;try{U=V(!0,X)}finally{U?N():(T=!1,V=null)}}else T=!1}var N;if(typeof I=="function")N=function(){I(B)};else if(typeof MessageChannel<"u"){var L=new MessageChannel,q=L.port2;L.port1.onmessage=B,N=function(){q.postMessage(null)}}else N=function(){C(B,0)};function D(X){V=X,T||(T=!0,N())}function E(X,U){k=C(function(){X(n.unstable_now())},U)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(X){X.callback=null},n.unstable_continueExecution=function(){x||y||(x=!0,D(H))},n.unstable_forceFrameRate=function(X){0>X||125<X?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):_=0<X?Math.floor(1e3/X):5},n.unstable_getCurrentPriorityLevel=function(){return g},n.unstable_getFirstCallbackNode=function(){return t(d)},n.unstable_next=function(X){switch(g){case 1:case 2:case 3:var U=3;break;default:U=g}var K=g;g=U;try{return X()}finally{g=K}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(X,U){switch(X){case 1:case 2:case 3:case 4:case 5:break;default:X=3}var K=g;g=X;try{return U()}finally{g=K}},n.unstable_scheduleCallback=function(X,U,K){var R=n.unstable_now();switch(typeof K=="object"&&K!==null?(K=K.delay,K=typeof K=="number"&&0<K?R+K:R):K=R,X){case 1:var W=-1;break;case 2:W=250;break;case 5:W=1073741823;break;case 4:W=1e4;break;default:W=5e3}return W=K+W,X={id:f++,callback:U,priorityLevel:X,startTime:K,expirationTime:W,sortIndex:-1},K>R?(X.sortIndex=K,e(p,X),t(d)===null&&X===t(p)&&(S?(P(k),k=-1):S=!0,E(j,K-R))):(X.sortIndex=W,e(d,X),x||y||(x=!0,D(H))),X},n.unstable_shouldYield=z,n.unstable_wrapCallback=function(X){var U=g;return function(){var K=g;g=U;try{return X.apply(this,arguments)}finally{g=K}}}})(Yc)),Yc}var Vm;function Vx(){return Vm||(Vm=1,Xc.exports=zx()),Xc.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hm;function Hx(){if(Hm)return Xt;Hm=1;var n=wh(),e=Vx();function t(r){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+r,u=1;u<arguments.length;u++)s+="&args[]="+encodeURIComponent(arguments[u]);return"Minified React error #"+r+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,o={};function a(r,s){l(r,s),l(r+"Capture",s)}function l(r,s){for(o[r]=s,r=0;r<s.length;r++)i.add(s[r])}var c=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),d=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},m={};function g(r){return d.call(m,r)?!0:d.call(f,r)?!1:p.test(r)?m[r]=!0:(f[r]=!0,!1)}function y(r,s,u,h){if(u!==null&&u.type===0)return!1;switch(typeof s){case"function":case"symbol":return!0;case"boolean":return h?!1:u!==null?!u.acceptsBooleans:(r=r.toLowerCase().slice(0,5),r!=="data-"&&r!=="aria-");default:return!1}}function x(r,s,u,h){if(s===null||typeof s>"u"||y(r,s,u,h))return!0;if(h)return!1;if(u!==null)switch(u.type){case 3:return!s;case 4:return s===!1;case 5:return isNaN(s);case 6:return isNaN(s)||1>s}return!1}function S(r,s,u,h,v,w,b){this.acceptsBooleans=s===2||s===3||s===4,this.attributeName=h,this.attributeNamespace=v,this.mustUseProperty=u,this.propertyName=r,this.type=s,this.sanitizeURL=w,this.removeEmptyString=b}var C={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(r){C[r]=new S(r,0,!1,r,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(r){var s=r[0];C[s]=new S(s,1,!1,r[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(r){C[r]=new S(r,2,!1,r.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(r){C[r]=new S(r,2,!1,r,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(r){C[r]=new S(r,3,!1,r.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(r){C[r]=new S(r,3,!0,r,null,!1,!1)}),["capture","download"].forEach(function(r){C[r]=new S(r,4,!1,r,null,!1,!1)}),["cols","rows","size","span"].forEach(function(r){C[r]=new S(r,6,!1,r,null,!1,!1)}),["rowSpan","start"].forEach(function(r){C[r]=new S(r,5,!1,r.toLowerCase(),null,!1,!1)});var P=/[\-:]([a-z])/g;function I(r){return r[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(r){var s=r.replace(P,I);C[s]=new S(s,1,!1,r,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(r){var s=r.replace(P,I);C[s]=new S(s,1,!1,r,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(r){var s=r.replace(P,I);C[s]=new S(s,1,!1,r,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(r){C[r]=new S(r,1,!1,r.toLowerCase(),null,!1,!1)}),C.xlinkHref=new S("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(r){C[r]=new S(r,1,!1,r.toLowerCase(),null,!0,!0)});function A(r,s,u,h){var v=C.hasOwnProperty(s)?C[s]:null;(v!==null?v.type!==0:h||!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(x(s,u,v,h)&&(u=null),h||v===null?g(s)&&(u===null?r.removeAttribute(s):r.setAttribute(s,""+u)):v.mustUseProperty?r[v.propertyName]=u===null?v.type===3?!1:"":u:(s=v.attributeName,h=v.attributeNamespace,u===null?r.removeAttribute(s):(v=v.type,u=v===3||v===4&&u===!0?"":""+u,h?r.setAttributeNS(h,s,u):r.setAttribute(s,u))))}var j=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,H=Symbol.for("react.element"),T=Symbol.for("react.portal"),V=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),_=Symbol.for("react.profiler"),F=Symbol.for("react.provider"),z=Symbol.for("react.context"),B=Symbol.for("react.forward_ref"),N=Symbol.for("react.suspense"),L=Symbol.for("react.suspense_list"),q=Symbol.for("react.memo"),D=Symbol.for("react.lazy"),E=Symbol.for("react.offscreen"),X=Symbol.iterator;function U(r){return r===null||typeof r!="object"?null:(r=X&&r[X]||r["@@iterator"],typeof r=="function"?r:null)}var K=Object.assign,R;function W(r){if(R===void 0)try{throw Error()}catch(u){var s=u.stack.trim().match(/\n( *(at )?)/);R=s&&s[1]||""}return`
`+R+r}var ne=!1;function Z(r,s){if(!r||ne)return"";ne=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch(te){var h=te}Reflect.construct(r,[],s)}else{try{s.call()}catch(te){h=te}r.call(s.prototype)}else{try{throw Error()}catch(te){h=te}r()}}catch(te){if(te&&h&&typeof te.stack=="string"){for(var v=te.stack.split(`
`),w=h.stack.split(`
`),b=v.length-1,M=w.length-1;1<=b&&0<=M&&v[b]!==w[M];)M--;for(;1<=b&&0<=M;b--,M--)if(v[b]!==w[M]){if(b!==1||M!==1)do if(b--,M--,0>M||v[b]!==w[M]){var $=`
`+v[b].replace(" at new "," at ");return r.displayName&&$.includes("<anonymous>")&&($=$.replace("<anonymous>",r.displayName)),$}while(1<=b&&0<=M);break}}}finally{ne=!1,Error.prepareStackTrace=u}return(r=r?r.displayName||r.name:"")?W(r):""}function Y(r){switch(r.tag){case 5:return W(r.type);case 16:return W("Lazy");case 13:return W("Suspense");case 19:return W("SuspenseList");case 0:case 2:case 15:return r=Z(r.type,!1),r;case 11:return r=Z(r.type.render,!1),r;case 1:return r=Z(r.type,!0),r;default:return""}}function ie(r){if(r==null)return null;if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case V:return"Fragment";case T:return"Portal";case _:return"Profiler";case k:return"StrictMode";case N:return"Suspense";case L:return"SuspenseList"}if(typeof r=="object")switch(r.$$typeof){case z:return(r.displayName||"Context")+".Consumer";case F:return(r._context.displayName||"Context")+".Provider";case B:var s=r.render;return r=r.displayName,r||(r=s.displayName||s.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case q:return s=r.displayName||null,s!==null?s:ie(r.type)||"Memo";case D:s=r._payload,r=r._init;try{return ie(r(s))}catch{}}return null}function ve(r){var s=r.type;switch(r.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return r=s.render,r=r.displayName||r.name||"",s.displayName||(r!==""?"ForwardRef("+r+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ie(s);case 8:return s===k?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function de(r){switch(typeof r){case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function fe(r){var s=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function xe(r){var s=fe(r)?"checked":"value",u=Object.getOwnPropertyDescriptor(r.constructor.prototype,s),h=""+r[s];if(!r.hasOwnProperty(s)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var v=u.get,w=u.set;return Object.defineProperty(r,s,{configurable:!0,get:function(){return v.call(this)},set:function(b){h=""+b,w.call(this,b)}}),Object.defineProperty(r,s,{enumerable:u.enumerable}),{getValue:function(){return h},setValue:function(b){h=""+b},stopTracking:function(){r._valueTracker=null,delete r[s]}}}}function Pe(r){r._valueTracker||(r._valueTracker=xe(r))}function Me(r){if(!r)return!1;var s=r._valueTracker;if(!s)return!0;var u=s.getValue(),h="";return r&&(h=fe(r)?r.checked?"true":"false":r.value),r=h,r!==u?(s.setValue(r),!0):!1}function Nt(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}function Et(r,s){var u=s.checked;return K({},s,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:u??r._wrapperState.initialChecked})}function Ue(r,s){var u=s.defaultValue==null?"":s.defaultValue,h=s.checked!=null?s.checked:s.defaultChecked;u=de(s.value!=null?s.value:u),r._wrapperState={initialChecked:h,initialValue:u,controlled:s.type==="checkbox"||s.type==="radio"?s.checked!=null:s.value!=null}}function rt(r,s){s=s.checked,s!=null&&A(r,"checked",s,!1)}function Te(r,s){rt(r,s);var u=de(s.value),h=s.type;if(u!=null)h==="number"?(u===0&&r.value===""||r.value!=u)&&(r.value=""+u):r.value!==""+u&&(r.value=""+u);else if(h==="submit"||h==="reset"){r.removeAttribute("value");return}s.hasOwnProperty("value")?Ve(r,s.type,u):s.hasOwnProperty("defaultValue")&&Ve(r,s.type,de(s.defaultValue)),s.checked==null&&s.defaultChecked!=null&&(r.defaultChecked=!!s.defaultChecked)}function Oe(r,s,u){if(s.hasOwnProperty("value")||s.hasOwnProperty("defaultValue")){var h=s.type;if(!(h!=="submit"&&h!=="reset"||s.value!==void 0&&s.value!==null))return;s=""+r._wrapperState.initialValue,u||s===r.value||(r.value=s),r.defaultValue=s}u=r.name,u!==""&&(r.name=""),r.defaultChecked=!!r._wrapperState.initialChecked,u!==""&&(r.name=u)}function Ve(r,s,u){(s!=="number"||Nt(r.ownerDocument)!==r)&&(u==null?r.defaultValue=""+r._wrapperState.initialValue:r.defaultValue!==""+u&&(r.defaultValue=""+u))}var He=Array.isArray;function Fe(r,s,u,h){if(r=r.options,s){s={};for(var v=0;v<u.length;v++)s["$"+u[v]]=!0;for(u=0;u<r.length;u++)v=s.hasOwnProperty("$"+r[u].value),r[u].selected!==v&&(r[u].selected=v),v&&h&&(r[u].defaultSelected=!0)}else{for(u=""+de(u),s=null,v=0;v<r.length;v++){if(r[v].value===u){r[v].selected=!0,h&&(r[v].defaultSelected=!0);return}s!==null||r[v].disabled||(s=r[v])}s!==null&&(s.selected=!0)}}function gt(r,s){if(s.dangerouslySetInnerHTML!=null)throw Error(t(91));return K({},s,{value:void 0,defaultValue:void 0,children:""+r._wrapperState.initialValue})}function qe(r,s){var u=s.value;if(u==null){if(u=s.children,s=s.defaultValue,u!=null){if(s!=null)throw Error(t(92));if(He(u)){if(1<u.length)throw Error(t(93));u=u[0]}s=u}s==null&&(s=""),u=s}r._wrapperState={initialValue:de(u)}}function oe(r,s){var u=de(s.value),h=de(s.defaultValue);u!=null&&(u=""+u,u!==r.value&&(r.value=u),s.defaultValue==null&&r.defaultValue!==u&&(r.defaultValue=u)),h!=null&&(r.defaultValue=""+h)}function he(r){var s=r.textContent;s===r._wrapperState.initialValue&&s!==""&&s!==null&&(r.value=s)}function Re(r){switch(r){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function $e(r,s){return r==null||r==="http://www.w3.org/1999/xhtml"?Re(s):r==="http://www.w3.org/2000/svg"&&s==="foreignObject"?"http://www.w3.org/1999/xhtml":r}var De,jt=(function(r){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(s,u,h,v){MSApp.execUnsafeLocalFunction(function(){return r(s,u,h,v)})}:r})(function(r,s){if(r.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in r)r.innerHTML=s;else{for(De=De||document.createElement("div"),De.innerHTML="<svg>"+s.valueOf().toString()+"</svg>",s=De.firstChild;r.firstChild;)r.removeChild(r.firstChild);for(;s.firstChild;)r.appendChild(s.firstChild)}});function Be(r,s){if(s){var u=r.firstChild;if(u&&u===r.lastChild&&u.nodeType===3){u.nodeValue=s;return}}r.textContent=s}var ot={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},xt=["Webkit","ms","Moz","O"];Object.keys(ot).forEach(function(r){xt.forEach(function(s){s=s+r.charAt(0).toUpperCase()+r.substring(1),ot[s]=ot[r]})});function It(r,s,u){return s==null||typeof s=="boolean"||s===""?"":u||typeof s!="number"||s===0||ot.hasOwnProperty(r)&&ot[r]?(""+s).trim():s+"px"}function St(r,s){r=r.style;for(var u in s)if(s.hasOwnProperty(u)){var h=u.indexOf("--")===0,v=It(u,s[u],h);u==="float"&&(u="cssFloat"),h?r.setProperty(u,v):r[u]=v}}var en=K({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function vn(r,s){if(s){if(en[r]&&(s.children!=null||s.dangerouslySetInnerHTML!=null))throw Error(t(137,r));if(s.dangerouslySetInnerHTML!=null){if(s.children!=null)throw Error(t(60));if(typeof s.dangerouslySetInnerHTML!="object"||!("__html"in s.dangerouslySetInnerHTML))throw Error(t(61))}if(s.style!=null&&typeof s.style!="object")throw Error(t(62))}}function qn(r,s){if(r.indexOf("-")===-1)return typeof s.is=="string";switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var yn=null;function hr(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var Xn=null,fr=null,Ut=null;function wn(r){if(r=no(r)){if(typeof Xn!="function")throw Error(t(280));var s=r.stateNode;s&&(s=ma(s),Xn(r.stateNode,r.type,s))}}function Yn(r){fr?Ut?Ut.push(r):Ut=[r]:fr=r}function pr(){if(fr){var r=fr,s=Ut;if(Ut=fr=null,wn(r),s)for(r=0;r<s.length;r++)wn(s[r])}}function Rs(r,s){return r(s)}function Rn(){}var xn=!1;function of(r,s,u){if(xn)return r(s,u);xn=!0;try{return Rs(r,s,u)}finally{xn=!1,(fr!==null||Ut!==null)&&(Rn(),pr())}}function Ls(r,s){var u=r.stateNode;if(u===null)return null;var h=ma(u);if(h===null)return null;u=h[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(r=r.type,h=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!h;break e;default:r=!1}if(r)return null;if(u&&typeof u!="function")throw Error(t(231,s,typeof u));return u}var cu=!1;if(c)try{var Ms={};Object.defineProperty(Ms,"passive",{get:function(){cu=!0}}),window.addEventListener("test",Ms,Ms),window.removeEventListener("test",Ms,Ms)}catch{cu=!1}function Hw(r,s,u,h,v,w,b,M,$){var te=Array.prototype.slice.call(arguments,3);try{s.apply(u,te)}catch(se){this.onError(se)}}var Fs=!1,Ko=null,qo=!1,du=null,Ww={onError:function(r){Fs=!0,Ko=r}};function Gw(r,s,u,h,v,w,b,M,$){Fs=!1,Ko=null,Hw.apply(Ww,arguments)}function Kw(r,s,u,h,v,w,b,M,$){if(Gw.apply(this,arguments),Fs){if(Fs){var te=Ko;Fs=!1,Ko=null}else throw Error(t(198));qo||(qo=!0,du=te)}}function Zr(r){var s=r,u=r;if(r.alternate)for(;s.return;)s=s.return;else{r=s;do s=r,(s.flags&4098)!==0&&(u=s.return),r=s.return;while(r)}return s.tag===3?u:null}function af(r){if(r.tag===13){var s=r.memoizedState;if(s===null&&(r=r.alternate,r!==null&&(s=r.memoizedState)),s!==null)return s.dehydrated}return null}function lf(r){if(Zr(r)!==r)throw Error(t(188))}function qw(r){var s=r.alternate;if(!s){if(s=Zr(r),s===null)throw Error(t(188));return s!==r?null:r}for(var u=r,h=s;;){var v=u.return;if(v===null)break;var w=v.alternate;if(w===null){if(h=v.return,h!==null){u=h;continue}break}if(v.child===w.child){for(w=v.child;w;){if(w===u)return lf(v),r;if(w===h)return lf(v),s;w=w.sibling}throw Error(t(188))}if(u.return!==h.return)u=v,h=w;else{for(var b=!1,M=v.child;M;){if(M===u){b=!0,u=v,h=w;break}if(M===h){b=!0,h=v,u=w;break}M=M.sibling}if(!b){for(M=w.child;M;){if(M===u){b=!0,u=w,h=v;break}if(M===h){b=!0,h=w,u=v;break}M=M.sibling}if(!b)throw Error(t(189))}}if(u.alternate!==h)throw Error(t(190))}if(u.tag!==3)throw Error(t(188));return u.stateNode.current===u?r:s}function uf(r){return r=qw(r),r!==null?cf(r):null}function cf(r){if(r.tag===5||r.tag===6)return r;for(r=r.child;r!==null;){var s=cf(r);if(s!==null)return s;r=r.sibling}return null}var df=e.unstable_scheduleCallback,hf=e.unstable_cancelCallback,Xw=e.unstable_shouldYield,Yw=e.unstable_requestPaint,at=e.unstable_now,Qw=e.unstable_getCurrentPriorityLevel,hu=e.unstable_ImmediatePriority,ff=e.unstable_UserBlockingPriority,Xo=e.unstable_NormalPriority,Jw=e.unstable_LowPriority,pf=e.unstable_IdlePriority,Yo=null,Ln=null;function Zw(r){if(Ln&&typeof Ln.onCommitFiberRoot=="function")try{Ln.onCommitFiberRoot(Yo,r,void 0,(r.current.flags&128)===128)}catch{}}var Sn=Math.clz32?Math.clz32:n1,e1=Math.log,t1=Math.LN2;function n1(r){return r>>>=0,r===0?32:31-(e1(r)/t1|0)|0}var Qo=64,Jo=4194304;function Ns(r){switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return r&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return r}}function Zo(r,s){var u=r.pendingLanes;if(u===0)return 0;var h=0,v=r.suspendedLanes,w=r.pingedLanes,b=u&268435455;if(b!==0){var M=b&~v;M!==0?h=Ns(M):(w&=b,w!==0&&(h=Ns(w)))}else b=u&~v,b!==0?h=Ns(b):w!==0&&(h=Ns(w));if(h===0)return 0;if(s!==0&&s!==h&&(s&v)===0&&(v=h&-h,w=s&-s,v>=w||v===16&&(w&4194240)!==0))return s;if((h&4)!==0&&(h|=u&16),s=r.entangledLanes,s!==0)for(r=r.entanglements,s&=h;0<s;)u=31-Sn(s),v=1<<u,h|=r[u],s&=~v;return h}function r1(r,s){switch(r){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function i1(r,s){for(var u=r.suspendedLanes,h=r.pingedLanes,v=r.expirationTimes,w=r.pendingLanes;0<w;){var b=31-Sn(w),M=1<<b,$=v[b];$===-1?((M&u)===0||(M&h)!==0)&&(v[b]=r1(M,s)):$<=s&&(r.expiredLanes|=M),w&=~M}}function fu(r){return r=r.pendingLanes&-1073741825,r!==0?r:r&1073741824?1073741824:0}function mf(){var r=Qo;return Qo<<=1,(Qo&4194240)===0&&(Qo=64),r}function pu(r){for(var s=[],u=0;31>u;u++)s.push(r);return s}function Us(r,s,u){r.pendingLanes|=s,s!==536870912&&(r.suspendedLanes=0,r.pingedLanes=0),r=r.eventTimes,s=31-Sn(s),r[s]=u}function s1(r,s){var u=r.pendingLanes&~s;r.pendingLanes=s,r.suspendedLanes=0,r.pingedLanes=0,r.expiredLanes&=s,r.mutableReadLanes&=s,r.entangledLanes&=s,s=r.entanglements;var h=r.eventTimes;for(r=r.expirationTimes;0<u;){var v=31-Sn(u),w=1<<v;s[v]=0,h[v]=-1,r[v]=-1,u&=~w}}function mu(r,s){var u=r.entangledLanes|=s;for(r=r.entanglements;u;){var h=31-Sn(u),v=1<<h;v&s|r[h]&s&&(r[h]|=s),u&=~v}}var Ne=0;function gf(r){return r&=-r,1<r?4<r?(r&268435455)!==0?16:536870912:4:1}var vf,gu,yf,wf,xf,vu=!1,ea=[],mr=null,gr=null,vr=null,Bs=new Map,$s=new Map,yr=[],o1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Sf(r,s){switch(r){case"focusin":case"focusout":mr=null;break;case"dragenter":case"dragleave":gr=null;break;case"mouseover":case"mouseout":vr=null;break;case"pointerover":case"pointerout":Bs.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":$s.delete(s.pointerId)}}function zs(r,s,u,h,v,w){return r===null||r.nativeEvent!==w?(r={blockedOn:s,domEventName:u,eventSystemFlags:h,nativeEvent:w,targetContainers:[v]},s!==null&&(s=no(s),s!==null&&gu(s)),r):(r.eventSystemFlags|=h,s=r.targetContainers,v!==null&&s.indexOf(v)===-1&&s.push(v),r)}function a1(r,s,u,h,v){switch(s){case"focusin":return mr=zs(mr,r,s,u,h,v),!0;case"dragenter":return gr=zs(gr,r,s,u,h,v),!0;case"mouseover":return vr=zs(vr,r,s,u,h,v),!0;case"pointerover":var w=v.pointerId;return Bs.set(w,zs(Bs.get(w)||null,r,s,u,h,v)),!0;case"gotpointercapture":return w=v.pointerId,$s.set(w,zs($s.get(w)||null,r,s,u,h,v)),!0}return!1}function bf(r){var s=ei(r.target);if(s!==null){var u=Zr(s);if(u!==null){if(s=u.tag,s===13){if(s=af(u),s!==null){r.blockedOn=s,xf(r.priority,function(){yf(u)});return}}else if(s===3&&u.stateNode.current.memoizedState.isDehydrated){r.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}r.blockedOn=null}function ta(r){if(r.blockedOn!==null)return!1;for(var s=r.targetContainers;0<s.length;){var u=wu(r.domEventName,r.eventSystemFlags,s[0],r.nativeEvent);if(u===null){u=r.nativeEvent;var h=new u.constructor(u.type,u);yn=h,u.target.dispatchEvent(h),yn=null}else return s=no(u),s!==null&&gu(s),r.blockedOn=u,!1;s.shift()}return!0}function kf(r,s,u){ta(r)&&u.delete(s)}function l1(){vu=!1,mr!==null&&ta(mr)&&(mr=null),gr!==null&&ta(gr)&&(gr=null),vr!==null&&ta(vr)&&(vr=null),Bs.forEach(kf),$s.forEach(kf)}function Vs(r,s){r.blockedOn===s&&(r.blockedOn=null,vu||(vu=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,l1)))}function Hs(r){function s(v){return Vs(v,r)}if(0<ea.length){Vs(ea[0],r);for(var u=1;u<ea.length;u++){var h=ea[u];h.blockedOn===r&&(h.blockedOn=null)}}for(mr!==null&&Vs(mr,r),gr!==null&&Vs(gr,r),vr!==null&&Vs(vr,r),Bs.forEach(s),$s.forEach(s),u=0;u<yr.length;u++)h=yr[u],h.blockedOn===r&&(h.blockedOn=null);for(;0<yr.length&&(u=yr[0],u.blockedOn===null);)bf(u),u.blockedOn===null&&yr.shift()}var Fi=j.ReactCurrentBatchConfig,na=!0;function u1(r,s,u,h){var v=Ne,w=Fi.transition;Fi.transition=null;try{Ne=1,yu(r,s,u,h)}finally{Ne=v,Fi.transition=w}}function c1(r,s,u,h){var v=Ne,w=Fi.transition;Fi.transition=null;try{Ne=4,yu(r,s,u,h)}finally{Ne=v,Fi.transition=w}}function yu(r,s,u,h){if(na){var v=wu(r,s,u,h);if(v===null)Mu(r,s,h,ra,u),Sf(r,h);else if(a1(v,r,s,u,h))h.stopPropagation();else if(Sf(r,h),s&4&&-1<o1.indexOf(r)){for(;v!==null;){var w=no(v);if(w!==null&&vf(w),w=wu(r,s,u,h),w===null&&Mu(r,s,h,ra,u),w===v)break;v=w}v!==null&&h.stopPropagation()}else Mu(r,s,h,null,u)}}var ra=null;function wu(r,s,u,h){if(ra=null,r=hr(h),r=ei(r),r!==null)if(s=Zr(r),s===null)r=null;else if(u=s.tag,u===13){if(r=af(s),r!==null)return r;r=null}else if(u===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;r=null}else s!==r&&(r=null);return ra=r,null}function Cf(r){switch(r){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Qw()){case hu:return 1;case ff:return 4;case Xo:case Jw:return 16;case pf:return 536870912;default:return 16}default:return 16}}var wr=null,xu=null,ia=null;function _f(){if(ia)return ia;var r,s=xu,u=s.length,h,v="value"in wr?wr.value:wr.textContent,w=v.length;for(r=0;r<u&&s[r]===v[r];r++);var b=u-r;for(h=1;h<=b&&s[u-h]===v[w-h];h++);return ia=v.slice(r,1<h?1-h:void 0)}function sa(r){var s=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&s===13&&(r=13)):r=s,r===10&&(r=13),32<=r||r===13?r:0}function oa(){return!0}function Pf(){return!1}function tn(r){function s(u,h,v,w,b){this._reactName=u,this._targetInst=v,this.type=h,this.nativeEvent=w,this.target=b,this.currentTarget=null;for(var M in r)r.hasOwnProperty(M)&&(u=r[M],this[M]=u?u(w):w[M]);return this.isDefaultPrevented=(w.defaultPrevented!=null?w.defaultPrevented:w.returnValue===!1)?oa:Pf,this.isPropagationStopped=Pf,this}return K(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=oa)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=oa)},persist:function(){},isPersistent:oa}),s}var Ni={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Su=tn(Ni),Ws=K({},Ni,{view:0,detail:0}),d1=tn(Ws),bu,ku,Gs,aa=K({},Ws,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:_u,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==Gs&&(Gs&&r.type==="mousemove"?(bu=r.screenX-Gs.screenX,ku=r.screenY-Gs.screenY):ku=bu=0,Gs=r),bu)},movementY:function(r){return"movementY"in r?r.movementY:ku}}),Ef=tn(aa),h1=K({},aa,{dataTransfer:0}),f1=tn(h1),p1=K({},Ws,{relatedTarget:0}),Cu=tn(p1),m1=K({},Ni,{animationName:0,elapsedTime:0,pseudoElement:0}),g1=tn(m1),v1=K({},Ni,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),y1=tn(v1),w1=K({},Ni,{data:0}),Af=tn(w1),x1={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},S1={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},b1={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function k1(r){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(r):(r=b1[r])?!!s[r]:!1}function _u(){return k1}var C1=K({},Ws,{key:function(r){if(r.key){var s=x1[r.key]||r.key;if(s!=="Unidentified")return s}return r.type==="keypress"?(r=sa(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?S1[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:_u,charCode:function(r){return r.type==="keypress"?sa(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?sa(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),_1=tn(C1),P1=K({},aa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Tf=tn(P1),E1=K({},Ws,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:_u}),A1=tn(E1),T1=K({},Ni,{propertyName:0,elapsedTime:0,pseudoElement:0}),D1=tn(T1),j1=K({},aa,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),I1=tn(j1),O1=[9,13,27,32],Pu=c&&"CompositionEvent"in window,Ks=null;c&&"documentMode"in document&&(Ks=document.documentMode);var R1=c&&"TextEvent"in window&&!Ks,Df=c&&(!Pu||Ks&&8<Ks&&11>=Ks),jf=" ",If=!1;function Of(r,s){switch(r){case"keyup":return O1.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Rf(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var Ui=!1;function L1(r,s){switch(r){case"compositionend":return Rf(s);case"keypress":return s.which!==32?null:(If=!0,jf);case"textInput":return r=s.data,r===jf&&If?null:r;default:return null}}function M1(r,s){if(Ui)return r==="compositionend"||!Pu&&Of(r,s)?(r=_f(),ia=xu=wr=null,Ui=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Df&&s.locale!=="ko"?null:s.data;default:return null}}var F1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Lf(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s==="input"?!!F1[r.type]:s==="textarea"}function Mf(r,s,u,h){Yn(h),s=ha(s,"onChange"),0<s.length&&(u=new Su("onChange","change",null,u,h),r.push({event:u,listeners:s}))}var qs=null,Xs=null;function N1(r){ep(r,0)}function la(r){var s=Hi(r);if(Me(s))return r}function U1(r,s){if(r==="change")return s}var Ff=!1;if(c){var Eu;if(c){var Au="oninput"in document;if(!Au){var Nf=document.createElement("div");Nf.setAttribute("oninput","return;"),Au=typeof Nf.oninput=="function"}Eu=Au}else Eu=!1;Ff=Eu&&(!document.documentMode||9<document.documentMode)}function Uf(){qs&&(qs.detachEvent("onpropertychange",Bf),Xs=qs=null)}function Bf(r){if(r.propertyName==="value"&&la(Xs)){var s=[];Mf(s,Xs,r,hr(r)),of(N1,s)}}function B1(r,s,u){r==="focusin"?(Uf(),qs=s,Xs=u,qs.attachEvent("onpropertychange",Bf)):r==="focusout"&&Uf()}function $1(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return la(Xs)}function z1(r,s){if(r==="click")return la(s)}function V1(r,s){if(r==="input"||r==="change")return la(s)}function H1(r,s){return r===s&&(r!==0||1/r===1/s)||r!==r&&s!==s}var bn=typeof Object.is=="function"?Object.is:H1;function Ys(r,s){if(bn(r,s))return!0;if(typeof r!="object"||r===null||typeof s!="object"||s===null)return!1;var u=Object.keys(r),h=Object.keys(s);if(u.length!==h.length)return!1;for(h=0;h<u.length;h++){var v=u[h];if(!d.call(s,v)||!bn(r[v],s[v]))return!1}return!0}function $f(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function zf(r,s){var u=$f(r);r=0;for(var h;u;){if(u.nodeType===3){if(h=r+u.textContent.length,r<=s&&h>=s)return{node:u,offset:s-r};r=h}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=$f(u)}}function Vf(r,s){return r&&s?r===s?!0:r&&r.nodeType===3?!1:s&&s.nodeType===3?Vf(r,s.parentNode):"contains"in r?r.contains(s):r.compareDocumentPosition?!!(r.compareDocumentPosition(s)&16):!1:!1}function Hf(){for(var r=window,s=Nt();s instanceof r.HTMLIFrameElement;){try{var u=typeof s.contentWindow.location.href=="string"}catch{u=!1}if(u)r=s.contentWindow;else break;s=Nt(r.document)}return s}function Tu(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s&&(s==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||s==="textarea"||r.contentEditable==="true")}function W1(r){var s=Hf(),u=r.focusedElem,h=r.selectionRange;if(s!==u&&u&&u.ownerDocument&&Vf(u.ownerDocument.documentElement,u)){if(h!==null&&Tu(u)){if(s=h.start,r=h.end,r===void 0&&(r=s),"selectionStart"in u)u.selectionStart=s,u.selectionEnd=Math.min(r,u.value.length);else if(r=(s=u.ownerDocument||document)&&s.defaultView||window,r.getSelection){r=r.getSelection();var v=u.textContent.length,w=Math.min(h.start,v);h=h.end===void 0?w:Math.min(h.end,v),!r.extend&&w>h&&(v=h,h=w,w=v),v=zf(u,w);var b=zf(u,h);v&&b&&(r.rangeCount!==1||r.anchorNode!==v.node||r.anchorOffset!==v.offset||r.focusNode!==b.node||r.focusOffset!==b.offset)&&(s=s.createRange(),s.setStart(v.node,v.offset),r.removeAllRanges(),w>h?(r.addRange(s),r.extend(b.node,b.offset)):(s.setEnd(b.node,b.offset),r.addRange(s)))}}for(s=[],r=u;r=r.parentNode;)r.nodeType===1&&s.push({element:r,left:r.scrollLeft,top:r.scrollTop});for(typeof u.focus=="function"&&u.focus(),u=0;u<s.length;u++)r=s[u],r.element.scrollLeft=r.left,r.element.scrollTop=r.top}}var G1=c&&"documentMode"in document&&11>=document.documentMode,Bi=null,Du=null,Qs=null,ju=!1;function Wf(r,s,u){var h=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;ju||Bi==null||Bi!==Nt(h)||(h=Bi,"selectionStart"in h&&Tu(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),Qs&&Ys(Qs,h)||(Qs=h,h=ha(Du,"onSelect"),0<h.length&&(s=new Su("onSelect","select",null,s,u),r.push({event:s,listeners:h}),s.target=Bi)))}function ua(r,s){var u={};return u[r.toLowerCase()]=s.toLowerCase(),u["Webkit"+r]="webkit"+s,u["Moz"+r]="moz"+s,u}var $i={animationend:ua("Animation","AnimationEnd"),animationiteration:ua("Animation","AnimationIteration"),animationstart:ua("Animation","AnimationStart"),transitionend:ua("Transition","TransitionEnd")},Iu={},Gf={};c&&(Gf=document.createElement("div").style,"AnimationEvent"in window||(delete $i.animationend.animation,delete $i.animationiteration.animation,delete $i.animationstart.animation),"TransitionEvent"in window||delete $i.transitionend.transition);function ca(r){if(Iu[r])return Iu[r];if(!$i[r])return r;var s=$i[r],u;for(u in s)if(s.hasOwnProperty(u)&&u in Gf)return Iu[r]=s[u];return r}var Kf=ca("animationend"),qf=ca("animationiteration"),Xf=ca("animationstart"),Yf=ca("transitionend"),Qf=new Map,Jf="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function xr(r,s){Qf.set(r,s),a(s,[r])}for(var Ou=0;Ou<Jf.length;Ou++){var Ru=Jf[Ou],K1=Ru.toLowerCase(),q1=Ru[0].toUpperCase()+Ru.slice(1);xr(K1,"on"+q1)}xr(Kf,"onAnimationEnd"),xr(qf,"onAnimationIteration"),xr(Xf,"onAnimationStart"),xr("dblclick","onDoubleClick"),xr("focusin","onFocus"),xr("focusout","onBlur"),xr(Yf,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Js="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),X1=new Set("cancel close invalid load scroll toggle".split(" ").concat(Js));function Zf(r,s,u){var h=r.type||"unknown-event";r.currentTarget=u,Kw(h,s,void 0,r),r.currentTarget=null}function ep(r,s){s=(s&4)!==0;for(var u=0;u<r.length;u++){var h=r[u],v=h.event;h=h.listeners;e:{var w=void 0;if(s)for(var b=h.length-1;0<=b;b--){var M=h[b],$=M.instance,te=M.currentTarget;if(M=M.listener,$!==w&&v.isPropagationStopped())break e;Zf(v,M,te),w=$}else for(b=0;b<h.length;b++){if(M=h[b],$=M.instance,te=M.currentTarget,M=M.listener,$!==w&&v.isPropagationStopped())break e;Zf(v,M,te),w=$}}}if(qo)throw r=du,qo=!1,du=null,r}function Xe(r,s){var u=s[zu];u===void 0&&(u=s[zu]=new Set);var h=r+"__bubble";u.has(h)||(tp(s,r,2,!1),u.add(h))}function Lu(r,s,u){var h=0;s&&(h|=4),tp(u,r,h,s)}var da="_reactListening"+Math.random().toString(36).slice(2);function Zs(r){if(!r[da]){r[da]=!0,i.forEach(function(u){u!=="selectionchange"&&(X1.has(u)||Lu(u,!1,r),Lu(u,!0,r))});var s=r.nodeType===9?r:r.ownerDocument;s===null||s[da]||(s[da]=!0,Lu("selectionchange",!1,s))}}function tp(r,s,u,h){switch(Cf(s)){case 1:var v=u1;break;case 4:v=c1;break;default:v=yu}u=v.bind(null,s,u,r),v=void 0,!cu||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(v=!0),h?v!==void 0?r.addEventListener(s,u,{capture:!0,passive:v}):r.addEventListener(s,u,!0):v!==void 0?r.addEventListener(s,u,{passive:v}):r.addEventListener(s,u,!1)}function Mu(r,s,u,h,v){var w=h;if((s&1)===0&&(s&2)===0&&h!==null)e:for(;;){if(h===null)return;var b=h.tag;if(b===3||b===4){var M=h.stateNode.containerInfo;if(M===v||M.nodeType===8&&M.parentNode===v)break;if(b===4)for(b=h.return;b!==null;){var $=b.tag;if(($===3||$===4)&&($=b.stateNode.containerInfo,$===v||$.nodeType===8&&$.parentNode===v))return;b=b.return}for(;M!==null;){if(b=ei(M),b===null)return;if($=b.tag,$===5||$===6){h=w=b;continue e}M=M.parentNode}}h=h.return}of(function(){var te=w,se=hr(u),ae=[];e:{var re=Qf.get(r);if(re!==void 0){var ue=Su,pe=r;switch(r){case"keypress":if(sa(u)===0)break e;case"keydown":case"keyup":ue=_1;break;case"focusin":pe="focus",ue=Cu;break;case"focusout":pe="blur",ue=Cu;break;case"beforeblur":case"afterblur":ue=Cu;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ue=Ef;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ue=f1;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ue=A1;break;case Kf:case qf:case Xf:ue=g1;break;case Yf:ue=D1;break;case"scroll":ue=d1;break;case"wheel":ue=I1;break;case"copy":case"cut":case"paste":ue=y1;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ue=Tf}var me=(s&4)!==0,lt=!me&&r==="scroll",Q=me?re!==null?re+"Capture":null:re;me=[];for(var G=te,ee;G!==null;){ee=G;var le=ee.stateNode;if(ee.tag===5&&le!==null&&(ee=le,Q!==null&&(le=Ls(G,Q),le!=null&&me.push(eo(G,le,ee)))),lt)break;G=G.return}0<me.length&&(re=new ue(re,pe,null,u,se),ae.push({event:re,listeners:me}))}}if((s&7)===0){e:{if(re=r==="mouseover"||r==="pointerover",ue=r==="mouseout"||r==="pointerout",re&&u!==yn&&(pe=u.relatedTarget||u.fromElement)&&(ei(pe)||pe[Qn]))break e;if((ue||re)&&(re=se.window===se?se:(re=se.ownerDocument)?re.defaultView||re.parentWindow:window,ue?(pe=u.relatedTarget||u.toElement,ue=te,pe=pe?ei(pe):null,pe!==null&&(lt=Zr(pe),pe!==lt||pe.tag!==5&&pe.tag!==6)&&(pe=null)):(ue=null,pe=te),ue!==pe)){if(me=Ef,le="onMouseLeave",Q="onMouseEnter",G="mouse",(r==="pointerout"||r==="pointerover")&&(me=Tf,le="onPointerLeave",Q="onPointerEnter",G="pointer"),lt=ue==null?re:Hi(ue),ee=pe==null?re:Hi(pe),re=new me(le,G+"leave",ue,u,se),re.target=lt,re.relatedTarget=ee,le=null,ei(se)===te&&(me=new me(Q,G+"enter",pe,u,se),me.target=ee,me.relatedTarget=lt,le=me),lt=le,ue&&pe)t:{for(me=ue,Q=pe,G=0,ee=me;ee;ee=zi(ee))G++;for(ee=0,le=Q;le;le=zi(le))ee++;for(;0<G-ee;)me=zi(me),G--;for(;0<ee-G;)Q=zi(Q),ee--;for(;G--;){if(me===Q||Q!==null&&me===Q.alternate)break t;me=zi(me),Q=zi(Q)}me=null}else me=null;ue!==null&&np(ae,re,ue,me,!1),pe!==null&&lt!==null&&np(ae,lt,pe,me,!0)}}e:{if(re=te?Hi(te):window,ue=re.nodeName&&re.nodeName.toLowerCase(),ue==="select"||ue==="input"&&re.type==="file")var ge=U1;else if(Lf(re))if(Ff)ge=V1;else{ge=$1;var ye=B1}else(ue=re.nodeName)&&ue.toLowerCase()==="input"&&(re.type==="checkbox"||re.type==="radio")&&(ge=z1);if(ge&&(ge=ge(r,te))){Mf(ae,ge,u,se);break e}ye&&ye(r,re,te),r==="focusout"&&(ye=re._wrapperState)&&ye.controlled&&re.type==="number"&&Ve(re,"number",re.value)}switch(ye=te?Hi(te):window,r){case"focusin":(Lf(ye)||ye.contentEditable==="true")&&(Bi=ye,Du=te,Qs=null);break;case"focusout":Qs=Du=Bi=null;break;case"mousedown":ju=!0;break;case"contextmenu":case"mouseup":case"dragend":ju=!1,Wf(ae,u,se);break;case"selectionchange":if(G1)break;case"keydown":case"keyup":Wf(ae,u,se)}var we;if(Pu)e:{switch(r){case"compositionstart":var Ce="onCompositionStart";break e;case"compositionend":Ce="onCompositionEnd";break e;case"compositionupdate":Ce="onCompositionUpdate";break e}Ce=void 0}else Ui?Of(r,u)&&(Ce="onCompositionEnd"):r==="keydown"&&u.keyCode===229&&(Ce="onCompositionStart");Ce&&(Df&&u.locale!=="ko"&&(Ui||Ce!=="onCompositionStart"?Ce==="onCompositionEnd"&&Ui&&(we=_f()):(wr=se,xu="value"in wr?wr.value:wr.textContent,Ui=!0)),ye=ha(te,Ce),0<ye.length&&(Ce=new Af(Ce,r,null,u,se),ae.push({event:Ce,listeners:ye}),we?Ce.data=we:(we=Rf(u),we!==null&&(Ce.data=we)))),(we=R1?L1(r,u):M1(r,u))&&(te=ha(te,"onBeforeInput"),0<te.length&&(se=new Af("onBeforeInput","beforeinput",null,u,se),ae.push({event:se,listeners:te}),se.data=we))}ep(ae,s)})}function eo(r,s,u){return{instance:r,listener:s,currentTarget:u}}function ha(r,s){for(var u=s+"Capture",h=[];r!==null;){var v=r,w=v.stateNode;v.tag===5&&w!==null&&(v=w,w=Ls(r,u),w!=null&&h.unshift(eo(r,w,v)),w=Ls(r,s),w!=null&&h.push(eo(r,w,v))),r=r.return}return h}function zi(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5);return r||null}function np(r,s,u,h,v){for(var w=s._reactName,b=[];u!==null&&u!==h;){var M=u,$=M.alternate,te=M.stateNode;if($!==null&&$===h)break;M.tag===5&&te!==null&&(M=te,v?($=Ls(u,w),$!=null&&b.unshift(eo(u,$,M))):v||($=Ls(u,w),$!=null&&b.push(eo(u,$,M)))),u=u.return}b.length!==0&&r.push({event:s,listeners:b})}var Y1=/\r\n?/g,Q1=/\u0000|\uFFFD/g;function rp(r){return(typeof r=="string"?r:""+r).replace(Y1,`
`).replace(Q1,"")}function fa(r,s,u){if(s=rp(s),rp(r)!==s&&u)throw Error(t(425))}function pa(){}var Fu=null,Nu=null;function Uu(r,s){return r==="textarea"||r==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Bu=typeof setTimeout=="function"?setTimeout:void 0,J1=typeof clearTimeout=="function"?clearTimeout:void 0,ip=typeof Promise=="function"?Promise:void 0,Z1=typeof queueMicrotask=="function"?queueMicrotask:typeof ip<"u"?function(r){return ip.resolve(null).then(r).catch(ex)}:Bu;function ex(r){setTimeout(function(){throw r})}function $u(r,s){var u=s,h=0;do{var v=u.nextSibling;if(r.removeChild(u),v&&v.nodeType===8)if(u=v.data,u==="/$"){if(h===0){r.removeChild(v),Hs(s);return}h--}else u!=="$"&&u!=="$?"&&u!=="$!"||h++;u=v}while(u);Hs(s)}function Sr(r){for(;r!=null;r=r.nextSibling){var s=r.nodeType;if(s===1||s===3)break;if(s===8){if(s=r.data,s==="$"||s==="$!"||s==="$?")break;if(s==="/$")return null}}return r}function sp(r){r=r.previousSibling;for(var s=0;r;){if(r.nodeType===8){var u=r.data;if(u==="$"||u==="$!"||u==="$?"){if(s===0)return r;s--}else u==="/$"&&s++}r=r.previousSibling}return null}var Vi=Math.random().toString(36).slice(2),Mn="__reactFiber$"+Vi,to="__reactProps$"+Vi,Qn="__reactContainer$"+Vi,zu="__reactEvents$"+Vi,tx="__reactListeners$"+Vi,nx="__reactHandles$"+Vi;function ei(r){var s=r[Mn];if(s)return s;for(var u=r.parentNode;u;){if(s=u[Qn]||u[Mn]){if(u=s.alternate,s.child!==null||u!==null&&u.child!==null)for(r=sp(r);r!==null;){if(u=r[Mn])return u;r=sp(r)}return s}r=u,u=r.parentNode}return null}function no(r){return r=r[Mn]||r[Qn],!r||r.tag!==5&&r.tag!==6&&r.tag!==13&&r.tag!==3?null:r}function Hi(r){if(r.tag===5||r.tag===6)return r.stateNode;throw Error(t(33))}function ma(r){return r[to]||null}var Vu=[],Wi=-1;function br(r){return{current:r}}function Ye(r){0>Wi||(r.current=Vu[Wi],Vu[Wi]=null,Wi--)}function We(r,s){Wi++,Vu[Wi]=r.current,r.current=s}var kr={},Ot=br(kr),Ht=br(!1),ti=kr;function Gi(r,s){var u=r.type.contextTypes;if(!u)return kr;var h=r.stateNode;if(h&&h.__reactInternalMemoizedUnmaskedChildContext===s)return h.__reactInternalMemoizedMaskedChildContext;var v={},w;for(w in u)v[w]=s[w];return h&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=s,r.__reactInternalMemoizedMaskedChildContext=v),v}function Wt(r){return r=r.childContextTypes,r!=null}function ga(){Ye(Ht),Ye(Ot)}function op(r,s,u){if(Ot.current!==kr)throw Error(t(168));We(Ot,s),We(Ht,u)}function ap(r,s,u){var h=r.stateNode;if(s=s.childContextTypes,typeof h.getChildContext!="function")return u;h=h.getChildContext();for(var v in h)if(!(v in s))throw Error(t(108,ve(r)||"Unknown",v));return K({},u,h)}function va(r){return r=(r=r.stateNode)&&r.__reactInternalMemoizedMergedChildContext||kr,ti=Ot.current,We(Ot,r),We(Ht,Ht.current),!0}function lp(r,s,u){var h=r.stateNode;if(!h)throw Error(t(169));u?(r=ap(r,s,ti),h.__reactInternalMemoizedMergedChildContext=r,Ye(Ht),Ye(Ot),We(Ot,r)):Ye(Ht),We(Ht,u)}var Jn=null,ya=!1,Hu=!1;function up(r){Jn===null?Jn=[r]:Jn.push(r)}function rx(r){ya=!0,up(r)}function Cr(){if(!Hu&&Jn!==null){Hu=!0;var r=0,s=Ne;try{var u=Jn;for(Ne=1;r<u.length;r++){var h=u[r];do h=h(!0);while(h!==null)}Jn=null,ya=!1}catch(v){throw Jn!==null&&(Jn=Jn.slice(r+1)),df(hu,Cr),v}finally{Ne=s,Hu=!1}}return null}var Ki=[],qi=0,wa=null,xa=0,ln=[],un=0,ni=null,Zn=1,er="";function ri(r,s){Ki[qi++]=xa,Ki[qi++]=wa,wa=r,xa=s}function cp(r,s,u){ln[un++]=Zn,ln[un++]=er,ln[un++]=ni,ni=r;var h=Zn;r=er;var v=32-Sn(h)-1;h&=~(1<<v),u+=1;var w=32-Sn(s)+v;if(30<w){var b=v-v%5;w=(h&(1<<b)-1).toString(32),h>>=b,v-=b,Zn=1<<32-Sn(s)+v|u<<v|h,er=w+r}else Zn=1<<w|u<<v|h,er=r}function Wu(r){r.return!==null&&(ri(r,1),cp(r,1,0))}function Gu(r){for(;r===wa;)wa=Ki[--qi],Ki[qi]=null,xa=Ki[--qi],Ki[qi]=null;for(;r===ni;)ni=ln[--un],ln[un]=null,er=ln[--un],ln[un]=null,Zn=ln[--un],ln[un]=null}var nn=null,rn=null,Qe=!1,kn=null;function dp(r,s){var u=fn(5,null,null,0);u.elementType="DELETED",u.stateNode=s,u.return=r,s=r.deletions,s===null?(r.deletions=[u],r.flags|=16):s.push(u)}function hp(r,s){switch(r.tag){case 5:var u=r.type;return s=s.nodeType!==1||u.toLowerCase()!==s.nodeName.toLowerCase()?null:s,s!==null?(r.stateNode=s,nn=r,rn=Sr(s.firstChild),!0):!1;case 6:return s=r.pendingProps===""||s.nodeType!==3?null:s,s!==null?(r.stateNode=s,nn=r,rn=null,!0):!1;case 13:return s=s.nodeType!==8?null:s,s!==null?(u=ni!==null?{id:Zn,overflow:er}:null,r.memoizedState={dehydrated:s,treeContext:u,retryLane:1073741824},u=fn(18,null,null,0),u.stateNode=s,u.return=r,r.child=u,nn=r,rn=null,!0):!1;default:return!1}}function Ku(r){return(r.mode&1)!==0&&(r.flags&128)===0}function qu(r){if(Qe){var s=rn;if(s){var u=s;if(!hp(r,s)){if(Ku(r))throw Error(t(418));s=Sr(u.nextSibling);var h=nn;s&&hp(r,s)?dp(h,u):(r.flags=r.flags&-4097|2,Qe=!1,nn=r)}}else{if(Ku(r))throw Error(t(418));r.flags=r.flags&-4097|2,Qe=!1,nn=r}}}function fp(r){for(r=r.return;r!==null&&r.tag!==5&&r.tag!==3&&r.tag!==13;)r=r.return;nn=r}function Sa(r){if(r!==nn)return!1;if(!Qe)return fp(r),Qe=!0,!1;var s;if((s=r.tag!==3)&&!(s=r.tag!==5)&&(s=r.type,s=s!=="head"&&s!=="body"&&!Uu(r.type,r.memoizedProps)),s&&(s=rn)){if(Ku(r))throw pp(),Error(t(418));for(;s;)dp(r,s),s=Sr(s.nextSibling)}if(fp(r),r.tag===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(t(317));e:{for(r=r.nextSibling,s=0;r;){if(r.nodeType===8){var u=r.data;if(u==="/$"){if(s===0){rn=Sr(r.nextSibling);break e}s--}else u!=="$"&&u!=="$!"&&u!=="$?"||s++}r=r.nextSibling}rn=null}}else rn=nn?Sr(r.stateNode.nextSibling):null;return!0}function pp(){for(var r=rn;r;)r=Sr(r.nextSibling)}function Xi(){rn=nn=null,Qe=!1}function Xu(r){kn===null?kn=[r]:kn.push(r)}var ix=j.ReactCurrentBatchConfig;function ro(r,s,u){if(r=u.ref,r!==null&&typeof r!="function"&&typeof r!="object"){if(u._owner){if(u=u._owner,u){if(u.tag!==1)throw Error(t(309));var h=u.stateNode}if(!h)throw Error(t(147,r));var v=h,w=""+r;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===w?s.ref:(s=function(b){var M=v.refs;b===null?delete M[w]:M[w]=b},s._stringRef=w,s)}if(typeof r!="string")throw Error(t(284));if(!u._owner)throw Error(t(290,r))}return r}function ba(r,s){throw r=Object.prototype.toString.call(s),Error(t(31,r==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":r))}function mp(r){var s=r._init;return s(r._payload)}function gp(r){function s(Q,G){if(r){var ee=Q.deletions;ee===null?(Q.deletions=[G],Q.flags|=16):ee.push(G)}}function u(Q,G){if(!r)return null;for(;G!==null;)s(Q,G),G=G.sibling;return null}function h(Q,G){for(Q=new Map;G!==null;)G.key!==null?Q.set(G.key,G):Q.set(G.index,G),G=G.sibling;return Q}function v(Q,G){return Q=Ir(Q,G),Q.index=0,Q.sibling=null,Q}function w(Q,G,ee){return Q.index=ee,r?(ee=Q.alternate,ee!==null?(ee=ee.index,ee<G?(Q.flags|=2,G):ee):(Q.flags|=2,G)):(Q.flags|=1048576,G)}function b(Q){return r&&Q.alternate===null&&(Q.flags|=2),Q}function M(Q,G,ee,le){return G===null||G.tag!==6?(G=Bc(ee,Q.mode,le),G.return=Q,G):(G=v(G,ee),G.return=Q,G)}function $(Q,G,ee,le){var ge=ee.type;return ge===V?se(Q,G,ee.props.children,le,ee.key):G!==null&&(G.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===D&&mp(ge)===G.type)?(le=v(G,ee.props),le.ref=ro(Q,G,ee),le.return=Q,le):(le=Ga(ee.type,ee.key,ee.props,null,Q.mode,le),le.ref=ro(Q,G,ee),le.return=Q,le)}function te(Q,G,ee,le){return G===null||G.tag!==4||G.stateNode.containerInfo!==ee.containerInfo||G.stateNode.implementation!==ee.implementation?(G=$c(ee,Q.mode,le),G.return=Q,G):(G=v(G,ee.children||[]),G.return=Q,G)}function se(Q,G,ee,le,ge){return G===null||G.tag!==7?(G=di(ee,Q.mode,le,ge),G.return=Q,G):(G=v(G,ee),G.return=Q,G)}function ae(Q,G,ee){if(typeof G=="string"&&G!==""||typeof G=="number")return G=Bc(""+G,Q.mode,ee),G.return=Q,G;if(typeof G=="object"&&G!==null){switch(G.$$typeof){case H:return ee=Ga(G.type,G.key,G.props,null,Q.mode,ee),ee.ref=ro(Q,null,G),ee.return=Q,ee;case T:return G=$c(G,Q.mode,ee),G.return=Q,G;case D:var le=G._init;return ae(Q,le(G._payload),ee)}if(He(G)||U(G))return G=di(G,Q.mode,ee,null),G.return=Q,G;ba(Q,G)}return null}function re(Q,G,ee,le){var ge=G!==null?G.key:null;if(typeof ee=="string"&&ee!==""||typeof ee=="number")return ge!==null?null:M(Q,G,""+ee,le);if(typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case H:return ee.key===ge?$(Q,G,ee,le):null;case T:return ee.key===ge?te(Q,G,ee,le):null;case D:return ge=ee._init,re(Q,G,ge(ee._payload),le)}if(He(ee)||U(ee))return ge!==null?null:se(Q,G,ee,le,null);ba(Q,ee)}return null}function ue(Q,G,ee,le,ge){if(typeof le=="string"&&le!==""||typeof le=="number")return Q=Q.get(ee)||null,M(G,Q,""+le,ge);if(typeof le=="object"&&le!==null){switch(le.$$typeof){case H:return Q=Q.get(le.key===null?ee:le.key)||null,$(G,Q,le,ge);case T:return Q=Q.get(le.key===null?ee:le.key)||null,te(G,Q,le,ge);case D:var ye=le._init;return ue(Q,G,ee,ye(le._payload),ge)}if(He(le)||U(le))return Q=Q.get(ee)||null,se(G,Q,le,ge,null);ba(G,le)}return null}function pe(Q,G,ee,le){for(var ge=null,ye=null,we=G,Ce=G=0,Ct=null;we!==null&&Ce<ee.length;Ce++){we.index>Ce?(Ct=we,we=null):Ct=we.sibling;var Le=re(Q,we,ee[Ce],le);if(Le===null){we===null&&(we=Ct);break}r&&we&&Le.alternate===null&&s(Q,we),G=w(Le,G,Ce),ye===null?ge=Le:ye.sibling=Le,ye=Le,we=Ct}if(Ce===ee.length)return u(Q,we),Qe&&ri(Q,Ce),ge;if(we===null){for(;Ce<ee.length;Ce++)we=ae(Q,ee[Ce],le),we!==null&&(G=w(we,G,Ce),ye===null?ge=we:ye.sibling=we,ye=we);return Qe&&ri(Q,Ce),ge}for(we=h(Q,we);Ce<ee.length;Ce++)Ct=ue(we,Q,Ce,ee[Ce],le),Ct!==null&&(r&&Ct.alternate!==null&&we.delete(Ct.key===null?Ce:Ct.key),G=w(Ct,G,Ce),ye===null?ge=Ct:ye.sibling=Ct,ye=Ct);return r&&we.forEach(function(Or){return s(Q,Or)}),Qe&&ri(Q,Ce),ge}function me(Q,G,ee,le){var ge=U(ee);if(typeof ge!="function")throw Error(t(150));if(ee=ge.call(ee),ee==null)throw Error(t(151));for(var ye=ge=null,we=G,Ce=G=0,Ct=null,Le=ee.next();we!==null&&!Le.done;Ce++,Le=ee.next()){we.index>Ce?(Ct=we,we=null):Ct=we.sibling;var Or=re(Q,we,Le.value,le);if(Or===null){we===null&&(we=Ct);break}r&&we&&Or.alternate===null&&s(Q,we),G=w(Or,G,Ce),ye===null?ge=Or:ye.sibling=Or,ye=Or,we=Ct}if(Le.done)return u(Q,we),Qe&&ri(Q,Ce),ge;if(we===null){for(;!Le.done;Ce++,Le=ee.next())Le=ae(Q,Le.value,le),Le!==null&&(G=w(Le,G,Ce),ye===null?ge=Le:ye.sibling=Le,ye=Le);return Qe&&ri(Q,Ce),ge}for(we=h(Q,we);!Le.done;Ce++,Le=ee.next())Le=ue(we,Q,Ce,Le.value,le),Le!==null&&(r&&Le.alternate!==null&&we.delete(Le.key===null?Ce:Le.key),G=w(Le,G,Ce),ye===null?ge=Le:ye.sibling=Le,ye=Le);return r&&we.forEach(function(Fx){return s(Q,Fx)}),Qe&&ri(Q,Ce),ge}function lt(Q,G,ee,le){if(typeof ee=="object"&&ee!==null&&ee.type===V&&ee.key===null&&(ee=ee.props.children),typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case H:e:{for(var ge=ee.key,ye=G;ye!==null;){if(ye.key===ge){if(ge=ee.type,ge===V){if(ye.tag===7){u(Q,ye.sibling),G=v(ye,ee.props.children),G.return=Q,Q=G;break e}}else if(ye.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===D&&mp(ge)===ye.type){u(Q,ye.sibling),G=v(ye,ee.props),G.ref=ro(Q,ye,ee),G.return=Q,Q=G;break e}u(Q,ye);break}else s(Q,ye);ye=ye.sibling}ee.type===V?(G=di(ee.props.children,Q.mode,le,ee.key),G.return=Q,Q=G):(le=Ga(ee.type,ee.key,ee.props,null,Q.mode,le),le.ref=ro(Q,G,ee),le.return=Q,Q=le)}return b(Q);case T:e:{for(ye=ee.key;G!==null;){if(G.key===ye)if(G.tag===4&&G.stateNode.containerInfo===ee.containerInfo&&G.stateNode.implementation===ee.implementation){u(Q,G.sibling),G=v(G,ee.children||[]),G.return=Q,Q=G;break e}else{u(Q,G);break}else s(Q,G);G=G.sibling}G=$c(ee,Q.mode,le),G.return=Q,Q=G}return b(Q);case D:return ye=ee._init,lt(Q,G,ye(ee._payload),le)}if(He(ee))return pe(Q,G,ee,le);if(U(ee))return me(Q,G,ee,le);ba(Q,ee)}return typeof ee=="string"&&ee!==""||typeof ee=="number"?(ee=""+ee,G!==null&&G.tag===6?(u(Q,G.sibling),G=v(G,ee),G.return=Q,Q=G):(u(Q,G),G=Bc(ee,Q.mode,le),G.return=Q,Q=G),b(Q)):u(Q,G)}return lt}var Yi=gp(!0),vp=gp(!1),ka=br(null),Ca=null,Qi=null,Yu=null;function Qu(){Yu=Qi=Ca=null}function Ju(r){var s=ka.current;Ye(ka),r._currentValue=s}function Zu(r,s,u){for(;r!==null;){var h=r.alternate;if((r.childLanes&s)!==s?(r.childLanes|=s,h!==null&&(h.childLanes|=s)):h!==null&&(h.childLanes&s)!==s&&(h.childLanes|=s),r===u)break;r=r.return}}function Ji(r,s){Ca=r,Yu=Qi=null,r=r.dependencies,r!==null&&r.firstContext!==null&&((r.lanes&s)!==0&&(Gt=!0),r.firstContext=null)}function cn(r){var s=r._currentValue;if(Yu!==r)if(r={context:r,memoizedValue:s,next:null},Qi===null){if(Ca===null)throw Error(t(308));Qi=r,Ca.dependencies={lanes:0,firstContext:r}}else Qi=Qi.next=r;return s}var ii=null;function ec(r){ii===null?ii=[r]:ii.push(r)}function yp(r,s,u,h){var v=s.interleaved;return v===null?(u.next=u,ec(s)):(u.next=v.next,v.next=u),s.interleaved=u,tr(r,h)}function tr(r,s){r.lanes|=s;var u=r.alternate;for(u!==null&&(u.lanes|=s),u=r,r=r.return;r!==null;)r.childLanes|=s,u=r.alternate,u!==null&&(u.childLanes|=s),u=r,r=r.return;return u.tag===3?u.stateNode:null}var _r=!1;function tc(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function wp(r,s){r=r.updateQueue,s.updateQueue===r&&(s.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,effects:r.effects})}function nr(r,s){return{eventTime:r,lane:s,tag:0,payload:null,callback:null,next:null}}function Pr(r,s,u){var h=r.updateQueue;if(h===null)return null;if(h=h.shared,(Ie&2)!==0){var v=h.pending;return v===null?s.next=s:(s.next=v.next,v.next=s),h.pending=s,tr(r,u)}return v=h.interleaved,v===null?(s.next=s,ec(h)):(s.next=v.next,v.next=s),h.interleaved=s,tr(r,u)}function _a(r,s,u){if(s=s.updateQueue,s!==null&&(s=s.shared,(u&4194240)!==0)){var h=s.lanes;h&=r.pendingLanes,u|=h,s.lanes=u,mu(r,u)}}function xp(r,s){var u=r.updateQueue,h=r.alternate;if(h!==null&&(h=h.updateQueue,u===h)){var v=null,w=null;if(u=u.firstBaseUpdate,u!==null){do{var b={eventTime:u.eventTime,lane:u.lane,tag:u.tag,payload:u.payload,callback:u.callback,next:null};w===null?v=w=b:w=w.next=b,u=u.next}while(u!==null);w===null?v=w=s:w=w.next=s}else v=w=s;u={baseState:h.baseState,firstBaseUpdate:v,lastBaseUpdate:w,shared:h.shared,effects:h.effects},r.updateQueue=u;return}r=u.lastBaseUpdate,r===null?u.firstBaseUpdate=s:r.next=s,u.lastBaseUpdate=s}function Pa(r,s,u,h){var v=r.updateQueue;_r=!1;var w=v.firstBaseUpdate,b=v.lastBaseUpdate,M=v.shared.pending;if(M!==null){v.shared.pending=null;var $=M,te=$.next;$.next=null,b===null?w=te:b.next=te,b=$;var se=r.alternate;se!==null&&(se=se.updateQueue,M=se.lastBaseUpdate,M!==b&&(M===null?se.firstBaseUpdate=te:M.next=te,se.lastBaseUpdate=$))}if(w!==null){var ae=v.baseState;b=0,se=te=$=null,M=w;do{var re=M.lane,ue=M.eventTime;if((h&re)===re){se!==null&&(se=se.next={eventTime:ue,lane:0,tag:M.tag,payload:M.payload,callback:M.callback,next:null});e:{var pe=r,me=M;switch(re=s,ue=u,me.tag){case 1:if(pe=me.payload,typeof pe=="function"){ae=pe.call(ue,ae,re);break e}ae=pe;break e;case 3:pe.flags=pe.flags&-65537|128;case 0:if(pe=me.payload,re=typeof pe=="function"?pe.call(ue,ae,re):pe,re==null)break e;ae=K({},ae,re);break e;case 2:_r=!0}}M.callback!==null&&M.lane!==0&&(r.flags|=64,re=v.effects,re===null?v.effects=[M]:re.push(M))}else ue={eventTime:ue,lane:re,tag:M.tag,payload:M.payload,callback:M.callback,next:null},se===null?(te=se=ue,$=ae):se=se.next=ue,b|=re;if(M=M.next,M===null){if(M=v.shared.pending,M===null)break;re=M,M=re.next,re.next=null,v.lastBaseUpdate=re,v.shared.pending=null}}while(!0);if(se===null&&($=ae),v.baseState=$,v.firstBaseUpdate=te,v.lastBaseUpdate=se,s=v.shared.interleaved,s!==null){v=s;do b|=v.lane,v=v.next;while(v!==s)}else w===null&&(v.shared.lanes=0);ai|=b,r.lanes=b,r.memoizedState=ae}}function Sp(r,s,u){if(r=s.effects,s.effects=null,r!==null)for(s=0;s<r.length;s++){var h=r[s],v=h.callback;if(v!==null){if(h.callback=null,h=u,typeof v!="function")throw Error(t(191,v));v.call(h)}}}var io={},Fn=br(io),so=br(io),oo=br(io);function si(r){if(r===io)throw Error(t(174));return r}function nc(r,s){switch(We(oo,s),We(so,r),We(Fn,io),r=s.nodeType,r){case 9:case 11:s=(s=s.documentElement)?s.namespaceURI:$e(null,"");break;default:r=r===8?s.parentNode:s,s=r.namespaceURI||null,r=r.tagName,s=$e(s,r)}Ye(Fn),We(Fn,s)}function Zi(){Ye(Fn),Ye(so),Ye(oo)}function bp(r){si(oo.current);var s=si(Fn.current),u=$e(s,r.type);s!==u&&(We(so,r),We(Fn,u))}function rc(r){so.current===r&&(Ye(Fn),Ye(so))}var Ze=br(0);function Ea(r){for(var s=r;s!==null;){if(s.tag===13){var u=s.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||u.data==="$?"||u.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var ic=[];function sc(){for(var r=0;r<ic.length;r++)ic[r]._workInProgressVersionPrimary=null;ic.length=0}var Aa=j.ReactCurrentDispatcher,oc=j.ReactCurrentBatchConfig,oi=0,et=null,vt=null,bt=null,Ta=!1,ao=!1,lo=0,sx=0;function Rt(){throw Error(t(321))}function ac(r,s){if(s===null)return!1;for(var u=0;u<s.length&&u<r.length;u++)if(!bn(r[u],s[u]))return!1;return!0}function lc(r,s,u,h,v,w){if(oi=w,et=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,Aa.current=r===null||r.memoizedState===null?ux:cx,r=u(h,v),ao){w=0;do{if(ao=!1,lo=0,25<=w)throw Error(t(301));w+=1,bt=vt=null,s.updateQueue=null,Aa.current=dx,r=u(h,v)}while(ao)}if(Aa.current=Ia,s=vt!==null&&vt.next!==null,oi=0,bt=vt=et=null,Ta=!1,s)throw Error(t(300));return r}function uc(){var r=lo!==0;return lo=0,r}function Nn(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return bt===null?et.memoizedState=bt=r:bt=bt.next=r,bt}function dn(){if(vt===null){var r=et.alternate;r=r!==null?r.memoizedState:null}else r=vt.next;var s=bt===null?et.memoizedState:bt.next;if(s!==null)bt=s,vt=r;else{if(r===null)throw Error(t(310));vt=r,r={memoizedState:vt.memoizedState,baseState:vt.baseState,baseQueue:vt.baseQueue,queue:vt.queue,next:null},bt===null?et.memoizedState=bt=r:bt=bt.next=r}return bt}function uo(r,s){return typeof s=="function"?s(r):s}function cc(r){var s=dn(),u=s.queue;if(u===null)throw Error(t(311));u.lastRenderedReducer=r;var h=vt,v=h.baseQueue,w=u.pending;if(w!==null){if(v!==null){var b=v.next;v.next=w.next,w.next=b}h.baseQueue=v=w,u.pending=null}if(v!==null){w=v.next,h=h.baseState;var M=b=null,$=null,te=w;do{var se=te.lane;if((oi&se)===se)$!==null&&($=$.next={lane:0,action:te.action,hasEagerState:te.hasEagerState,eagerState:te.eagerState,next:null}),h=te.hasEagerState?te.eagerState:r(h,te.action);else{var ae={lane:se,action:te.action,hasEagerState:te.hasEagerState,eagerState:te.eagerState,next:null};$===null?(M=$=ae,b=h):$=$.next=ae,et.lanes|=se,ai|=se}te=te.next}while(te!==null&&te!==w);$===null?b=h:$.next=M,bn(h,s.memoizedState)||(Gt=!0),s.memoizedState=h,s.baseState=b,s.baseQueue=$,u.lastRenderedState=h}if(r=u.interleaved,r!==null){v=r;do w=v.lane,et.lanes|=w,ai|=w,v=v.next;while(v!==r)}else v===null&&(u.lanes=0);return[s.memoizedState,u.dispatch]}function dc(r){var s=dn(),u=s.queue;if(u===null)throw Error(t(311));u.lastRenderedReducer=r;var h=u.dispatch,v=u.pending,w=s.memoizedState;if(v!==null){u.pending=null;var b=v=v.next;do w=r(w,b.action),b=b.next;while(b!==v);bn(w,s.memoizedState)||(Gt=!0),s.memoizedState=w,s.baseQueue===null&&(s.baseState=w),u.lastRenderedState=w}return[w,h]}function kp(){}function Cp(r,s){var u=et,h=dn(),v=s(),w=!bn(h.memoizedState,v);if(w&&(h.memoizedState=v,Gt=!0),h=h.queue,hc(Ep.bind(null,u,h,r),[r]),h.getSnapshot!==s||w||bt!==null&&bt.memoizedState.tag&1){if(u.flags|=2048,co(9,Pp.bind(null,u,h,v,s),void 0,null),kt===null)throw Error(t(349));(oi&30)!==0||_p(u,s,v)}return v}function _p(r,s,u){r.flags|=16384,r={getSnapshot:s,value:u},s=et.updateQueue,s===null?(s={lastEffect:null,stores:null},et.updateQueue=s,s.stores=[r]):(u=s.stores,u===null?s.stores=[r]:u.push(r))}function Pp(r,s,u,h){s.value=u,s.getSnapshot=h,Ap(s)&&Tp(r)}function Ep(r,s,u){return u(function(){Ap(s)&&Tp(r)})}function Ap(r){var s=r.getSnapshot;r=r.value;try{var u=s();return!bn(r,u)}catch{return!0}}function Tp(r){var s=tr(r,1);s!==null&&En(s,r,1,-1)}function Dp(r){var s=Nn();return typeof r=="function"&&(r=r()),s.memoizedState=s.baseState=r,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:uo,lastRenderedState:r},s.queue=r,r=r.dispatch=lx.bind(null,et,r),[s.memoizedState,r]}function co(r,s,u,h){return r={tag:r,create:s,destroy:u,deps:h,next:null},s=et.updateQueue,s===null?(s={lastEffect:null,stores:null},et.updateQueue=s,s.lastEffect=r.next=r):(u=s.lastEffect,u===null?s.lastEffect=r.next=r:(h=u.next,u.next=r,r.next=h,s.lastEffect=r)),r}function jp(){return dn().memoizedState}function Da(r,s,u,h){var v=Nn();et.flags|=r,v.memoizedState=co(1|s,u,void 0,h===void 0?null:h)}function ja(r,s,u,h){var v=dn();h=h===void 0?null:h;var w=void 0;if(vt!==null){var b=vt.memoizedState;if(w=b.destroy,h!==null&&ac(h,b.deps)){v.memoizedState=co(s,u,w,h);return}}et.flags|=r,v.memoizedState=co(1|s,u,w,h)}function Ip(r,s){return Da(8390656,8,r,s)}function hc(r,s){return ja(2048,8,r,s)}function Op(r,s){return ja(4,2,r,s)}function Rp(r,s){return ja(4,4,r,s)}function Lp(r,s){if(typeof s=="function")return r=r(),s(r),function(){s(null)};if(s!=null)return r=r(),s.current=r,function(){s.current=null}}function Mp(r,s,u){return u=u!=null?u.concat([r]):null,ja(4,4,Lp.bind(null,s,r),u)}function fc(){}function Fp(r,s){var u=dn();s=s===void 0?null:s;var h=u.memoizedState;return h!==null&&s!==null&&ac(s,h[1])?h[0]:(u.memoizedState=[r,s],r)}function Np(r,s){var u=dn();s=s===void 0?null:s;var h=u.memoizedState;return h!==null&&s!==null&&ac(s,h[1])?h[0]:(r=r(),u.memoizedState=[r,s],r)}function Up(r,s,u){return(oi&21)===0?(r.baseState&&(r.baseState=!1,Gt=!0),r.memoizedState=u):(bn(u,s)||(u=mf(),et.lanes|=u,ai|=u,r.baseState=!0),s)}function ox(r,s){var u=Ne;Ne=u!==0&&4>u?u:4,r(!0);var h=oc.transition;oc.transition={};try{r(!1),s()}finally{Ne=u,oc.transition=h}}function Bp(){return dn().memoizedState}function ax(r,s,u){var h=Dr(r);if(u={lane:h,action:u,hasEagerState:!1,eagerState:null,next:null},$p(r))zp(s,u);else if(u=yp(r,s,u,h),u!==null){var v=$t();En(u,r,h,v),Vp(u,s,h)}}function lx(r,s,u){var h=Dr(r),v={lane:h,action:u,hasEagerState:!1,eagerState:null,next:null};if($p(r))zp(s,v);else{var w=r.alternate;if(r.lanes===0&&(w===null||w.lanes===0)&&(w=s.lastRenderedReducer,w!==null))try{var b=s.lastRenderedState,M=w(b,u);if(v.hasEagerState=!0,v.eagerState=M,bn(M,b)){var $=s.interleaved;$===null?(v.next=v,ec(s)):(v.next=$.next,$.next=v),s.interleaved=v;return}}catch{}finally{}u=yp(r,s,v,h),u!==null&&(v=$t(),En(u,r,h,v),Vp(u,s,h))}}function $p(r){var s=r.alternate;return r===et||s!==null&&s===et}function zp(r,s){ao=Ta=!0;var u=r.pending;u===null?s.next=s:(s.next=u.next,u.next=s),r.pending=s}function Vp(r,s,u){if((u&4194240)!==0){var h=s.lanes;h&=r.pendingLanes,u|=h,s.lanes=u,mu(r,u)}}var Ia={readContext:cn,useCallback:Rt,useContext:Rt,useEffect:Rt,useImperativeHandle:Rt,useInsertionEffect:Rt,useLayoutEffect:Rt,useMemo:Rt,useReducer:Rt,useRef:Rt,useState:Rt,useDebugValue:Rt,useDeferredValue:Rt,useTransition:Rt,useMutableSource:Rt,useSyncExternalStore:Rt,useId:Rt,unstable_isNewReconciler:!1},ux={readContext:cn,useCallback:function(r,s){return Nn().memoizedState=[r,s===void 0?null:s],r},useContext:cn,useEffect:Ip,useImperativeHandle:function(r,s,u){return u=u!=null?u.concat([r]):null,Da(4194308,4,Lp.bind(null,s,r),u)},useLayoutEffect:function(r,s){return Da(4194308,4,r,s)},useInsertionEffect:function(r,s){return Da(4,2,r,s)},useMemo:function(r,s){var u=Nn();return s=s===void 0?null:s,r=r(),u.memoizedState=[r,s],r},useReducer:function(r,s,u){var h=Nn();return s=u!==void 0?u(s):s,h.memoizedState=h.baseState=s,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:s},h.queue=r,r=r.dispatch=ax.bind(null,et,r),[h.memoizedState,r]},useRef:function(r){var s=Nn();return r={current:r},s.memoizedState=r},useState:Dp,useDebugValue:fc,useDeferredValue:function(r){return Nn().memoizedState=r},useTransition:function(){var r=Dp(!1),s=r[0];return r=ox.bind(null,r[1]),Nn().memoizedState=r,[s,r]},useMutableSource:function(){},useSyncExternalStore:function(r,s,u){var h=et,v=Nn();if(Qe){if(u===void 0)throw Error(t(407));u=u()}else{if(u=s(),kt===null)throw Error(t(349));(oi&30)!==0||_p(h,s,u)}v.memoizedState=u;var w={value:u,getSnapshot:s};return v.queue=w,Ip(Ep.bind(null,h,w,r),[r]),h.flags|=2048,co(9,Pp.bind(null,h,w,u,s),void 0,null),u},useId:function(){var r=Nn(),s=kt.identifierPrefix;if(Qe){var u=er,h=Zn;u=(h&~(1<<32-Sn(h)-1)).toString(32)+u,s=":"+s+"R"+u,u=lo++,0<u&&(s+="H"+u.toString(32)),s+=":"}else u=sx++,s=":"+s+"r"+u.toString(32)+":";return r.memoizedState=s},unstable_isNewReconciler:!1},cx={readContext:cn,useCallback:Fp,useContext:cn,useEffect:hc,useImperativeHandle:Mp,useInsertionEffect:Op,useLayoutEffect:Rp,useMemo:Np,useReducer:cc,useRef:jp,useState:function(){return cc(uo)},useDebugValue:fc,useDeferredValue:function(r){var s=dn();return Up(s,vt.memoizedState,r)},useTransition:function(){var r=cc(uo)[0],s=dn().memoizedState;return[r,s]},useMutableSource:kp,useSyncExternalStore:Cp,useId:Bp,unstable_isNewReconciler:!1},dx={readContext:cn,useCallback:Fp,useContext:cn,useEffect:hc,useImperativeHandle:Mp,useInsertionEffect:Op,useLayoutEffect:Rp,useMemo:Np,useReducer:dc,useRef:jp,useState:function(){return dc(uo)},useDebugValue:fc,useDeferredValue:function(r){var s=dn();return vt===null?s.memoizedState=r:Up(s,vt.memoizedState,r)},useTransition:function(){var r=dc(uo)[0],s=dn().memoizedState;return[r,s]},useMutableSource:kp,useSyncExternalStore:Cp,useId:Bp,unstable_isNewReconciler:!1};function Cn(r,s){if(r&&r.defaultProps){s=K({},s),r=r.defaultProps;for(var u in r)s[u]===void 0&&(s[u]=r[u]);return s}return s}function pc(r,s,u,h){s=r.memoizedState,u=u(h,s),u=u==null?s:K({},s,u),r.memoizedState=u,r.lanes===0&&(r.updateQueue.baseState=u)}var Oa={isMounted:function(r){return(r=r._reactInternals)?Zr(r)===r:!1},enqueueSetState:function(r,s,u){r=r._reactInternals;var h=$t(),v=Dr(r),w=nr(h,v);w.payload=s,u!=null&&(w.callback=u),s=Pr(r,w,v),s!==null&&(En(s,r,v,h),_a(s,r,v))},enqueueReplaceState:function(r,s,u){r=r._reactInternals;var h=$t(),v=Dr(r),w=nr(h,v);w.tag=1,w.payload=s,u!=null&&(w.callback=u),s=Pr(r,w,v),s!==null&&(En(s,r,v,h),_a(s,r,v))},enqueueForceUpdate:function(r,s){r=r._reactInternals;var u=$t(),h=Dr(r),v=nr(u,h);v.tag=2,s!=null&&(v.callback=s),s=Pr(r,v,h),s!==null&&(En(s,r,h,u),_a(s,r,h))}};function Hp(r,s,u,h,v,w,b){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(h,w,b):s.prototype&&s.prototype.isPureReactComponent?!Ys(u,h)||!Ys(v,w):!0}function Wp(r,s,u){var h=!1,v=kr,w=s.contextType;return typeof w=="object"&&w!==null?w=cn(w):(v=Wt(s)?ti:Ot.current,h=s.contextTypes,w=(h=h!=null)?Gi(r,v):kr),s=new s(u,w),r.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=Oa,r.stateNode=s,s._reactInternals=r,h&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=v,r.__reactInternalMemoizedMaskedChildContext=w),s}function Gp(r,s,u,h){r=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(u,h),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(u,h),s.state!==r&&Oa.enqueueReplaceState(s,s.state,null)}function mc(r,s,u,h){var v=r.stateNode;v.props=u,v.state=r.memoizedState,v.refs={},tc(r);var w=s.contextType;typeof w=="object"&&w!==null?v.context=cn(w):(w=Wt(s)?ti:Ot.current,v.context=Gi(r,w)),v.state=r.memoizedState,w=s.getDerivedStateFromProps,typeof w=="function"&&(pc(r,s,w,u),v.state=r.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof v.getSnapshotBeforeUpdate=="function"||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(s=v.state,typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount(),s!==v.state&&Oa.enqueueReplaceState(v,v.state,null),Pa(r,u,v,h),v.state=r.memoizedState),typeof v.componentDidMount=="function"&&(r.flags|=4194308)}function es(r,s){try{var u="",h=s;do u+=Y(h),h=h.return;while(h);var v=u}catch(w){v=`
Error generating stack: `+w.message+`
`+w.stack}return{value:r,source:s,stack:v,digest:null}}function gc(r,s,u){return{value:r,source:null,stack:u??null,digest:s??null}}function vc(r,s){try{console.error(s.value)}catch(u){setTimeout(function(){throw u})}}var hx=typeof WeakMap=="function"?WeakMap:Map;function Kp(r,s,u){u=nr(-1,u),u.tag=3,u.payload={element:null};var h=s.value;return u.callback=function(){Ba||(Ba=!0,Ic=h),vc(r,s)},u}function qp(r,s,u){u=nr(-1,u),u.tag=3;var h=r.type.getDerivedStateFromError;if(typeof h=="function"){var v=s.value;u.payload=function(){return h(v)},u.callback=function(){vc(r,s)}}var w=r.stateNode;return w!==null&&typeof w.componentDidCatch=="function"&&(u.callback=function(){vc(r,s),typeof h!="function"&&(Ar===null?Ar=new Set([this]):Ar.add(this));var b=s.stack;this.componentDidCatch(s.value,{componentStack:b!==null?b:""})}),u}function Xp(r,s,u){var h=r.pingCache;if(h===null){h=r.pingCache=new hx;var v=new Set;h.set(s,v)}else v=h.get(s),v===void 0&&(v=new Set,h.set(s,v));v.has(u)||(v.add(u),r=Px.bind(null,r,s,u),s.then(r,r))}function Yp(r){do{var s;if((s=r.tag===13)&&(s=r.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return r;r=r.return}while(r!==null);return null}function Qp(r,s,u,h,v){return(r.mode&1)===0?(r===s?r.flags|=65536:(r.flags|=128,u.flags|=131072,u.flags&=-52805,u.tag===1&&(u.alternate===null?u.tag=17:(s=nr(-1,1),s.tag=2,Pr(u,s,1))),u.lanes|=1),r):(r.flags|=65536,r.lanes=v,r)}var fx=j.ReactCurrentOwner,Gt=!1;function Bt(r,s,u,h){s.child=r===null?vp(s,null,u,h):Yi(s,r.child,u,h)}function Jp(r,s,u,h,v){u=u.render;var w=s.ref;return Ji(s,v),h=lc(r,s,u,h,w,v),u=uc(),r!==null&&!Gt?(s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~v,rr(r,s,v)):(Qe&&u&&Wu(s),s.flags|=1,Bt(r,s,h,v),s.child)}function Zp(r,s,u,h,v){if(r===null){var w=u.type;return typeof w=="function"&&!Uc(w)&&w.defaultProps===void 0&&u.compare===null&&u.defaultProps===void 0?(s.tag=15,s.type=w,em(r,s,w,h,v)):(r=Ga(u.type,null,h,s,s.mode,v),r.ref=s.ref,r.return=s,s.child=r)}if(w=r.child,(r.lanes&v)===0){var b=w.memoizedProps;if(u=u.compare,u=u!==null?u:Ys,u(b,h)&&r.ref===s.ref)return rr(r,s,v)}return s.flags|=1,r=Ir(w,h),r.ref=s.ref,r.return=s,s.child=r}function em(r,s,u,h,v){if(r!==null){var w=r.memoizedProps;if(Ys(w,h)&&r.ref===s.ref)if(Gt=!1,s.pendingProps=h=w,(r.lanes&v)!==0)(r.flags&131072)!==0&&(Gt=!0);else return s.lanes=r.lanes,rr(r,s,v)}return yc(r,s,u,h,v)}function tm(r,s,u){var h=s.pendingProps,v=h.children,w=r!==null?r.memoizedState:null;if(h.mode==="hidden")if((s.mode&1)===0)s.memoizedState={baseLanes:0,cachePool:null,transitions:null},We(ns,sn),sn|=u;else{if((u&1073741824)===0)return r=w!==null?w.baseLanes|u:u,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:r,cachePool:null,transitions:null},s.updateQueue=null,We(ns,sn),sn|=r,null;s.memoizedState={baseLanes:0,cachePool:null,transitions:null},h=w!==null?w.baseLanes:u,We(ns,sn),sn|=h}else w!==null?(h=w.baseLanes|u,s.memoizedState=null):h=u,We(ns,sn),sn|=h;return Bt(r,s,v,u),s.child}function nm(r,s){var u=s.ref;(r===null&&u!==null||r!==null&&r.ref!==u)&&(s.flags|=512,s.flags|=2097152)}function yc(r,s,u,h,v){var w=Wt(u)?ti:Ot.current;return w=Gi(s,w),Ji(s,v),u=lc(r,s,u,h,w,v),h=uc(),r!==null&&!Gt?(s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~v,rr(r,s,v)):(Qe&&h&&Wu(s),s.flags|=1,Bt(r,s,u,v),s.child)}function rm(r,s,u,h,v){if(Wt(u)){var w=!0;va(s)}else w=!1;if(Ji(s,v),s.stateNode===null)La(r,s),Wp(s,u,h),mc(s,u,h,v),h=!0;else if(r===null){var b=s.stateNode,M=s.memoizedProps;b.props=M;var $=b.context,te=u.contextType;typeof te=="object"&&te!==null?te=cn(te):(te=Wt(u)?ti:Ot.current,te=Gi(s,te));var se=u.getDerivedStateFromProps,ae=typeof se=="function"||typeof b.getSnapshotBeforeUpdate=="function";ae||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(M!==h||$!==te)&&Gp(s,b,h,te),_r=!1;var re=s.memoizedState;b.state=re,Pa(s,h,b,v),$=s.memoizedState,M!==h||re!==$||Ht.current||_r?(typeof se=="function"&&(pc(s,u,se,h),$=s.memoizedState),(M=_r||Hp(s,u,M,h,re,$,te))?(ae||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount()),typeof b.componentDidMount=="function"&&(s.flags|=4194308)):(typeof b.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=h,s.memoizedState=$),b.props=h,b.state=$,b.context=te,h=M):(typeof b.componentDidMount=="function"&&(s.flags|=4194308),h=!1)}else{b=s.stateNode,wp(r,s),M=s.memoizedProps,te=s.type===s.elementType?M:Cn(s.type,M),b.props=te,ae=s.pendingProps,re=b.context,$=u.contextType,typeof $=="object"&&$!==null?$=cn($):($=Wt(u)?ti:Ot.current,$=Gi(s,$));var ue=u.getDerivedStateFromProps;(se=typeof ue=="function"||typeof b.getSnapshotBeforeUpdate=="function")||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(M!==ae||re!==$)&&Gp(s,b,h,$),_r=!1,re=s.memoizedState,b.state=re,Pa(s,h,b,v);var pe=s.memoizedState;M!==ae||re!==pe||Ht.current||_r?(typeof ue=="function"&&(pc(s,u,ue,h),pe=s.memoizedState),(te=_r||Hp(s,u,te,h,re,pe,$)||!1)?(se||typeof b.UNSAFE_componentWillUpdate!="function"&&typeof b.componentWillUpdate!="function"||(typeof b.componentWillUpdate=="function"&&b.componentWillUpdate(h,pe,$),typeof b.UNSAFE_componentWillUpdate=="function"&&b.UNSAFE_componentWillUpdate(h,pe,$)),typeof b.componentDidUpdate=="function"&&(s.flags|=4),typeof b.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof b.componentDidUpdate!="function"||M===r.memoizedProps&&re===r.memoizedState||(s.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||M===r.memoizedProps&&re===r.memoizedState||(s.flags|=1024),s.memoizedProps=h,s.memoizedState=pe),b.props=h,b.state=pe,b.context=$,h=te):(typeof b.componentDidUpdate!="function"||M===r.memoizedProps&&re===r.memoizedState||(s.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||M===r.memoizedProps&&re===r.memoizedState||(s.flags|=1024),h=!1)}return wc(r,s,u,h,w,v)}function wc(r,s,u,h,v,w){nm(r,s);var b=(s.flags&128)!==0;if(!h&&!b)return v&&lp(s,u,!1),rr(r,s,w);h=s.stateNode,fx.current=s;var M=b&&typeof u.getDerivedStateFromError!="function"?null:h.render();return s.flags|=1,r!==null&&b?(s.child=Yi(s,r.child,null,w),s.child=Yi(s,null,M,w)):Bt(r,s,M,w),s.memoizedState=h.state,v&&lp(s,u,!0),s.child}function im(r){var s=r.stateNode;s.pendingContext?op(r,s.pendingContext,s.pendingContext!==s.context):s.context&&op(r,s.context,!1),nc(r,s.containerInfo)}function sm(r,s,u,h,v){return Xi(),Xu(v),s.flags|=256,Bt(r,s,u,h),s.child}var xc={dehydrated:null,treeContext:null,retryLane:0};function Sc(r){return{baseLanes:r,cachePool:null,transitions:null}}function om(r,s,u){var h=s.pendingProps,v=Ze.current,w=!1,b=(s.flags&128)!==0,M;if((M=b)||(M=r!==null&&r.memoizedState===null?!1:(v&2)!==0),M?(w=!0,s.flags&=-129):(r===null||r.memoizedState!==null)&&(v|=1),We(Ze,v&1),r===null)return qu(s),r=s.memoizedState,r!==null&&(r=r.dehydrated,r!==null)?((s.mode&1)===0?s.lanes=1:r.data==="$!"?s.lanes=8:s.lanes=1073741824,null):(b=h.children,r=h.fallback,w?(h=s.mode,w=s.child,b={mode:"hidden",children:b},(h&1)===0&&w!==null?(w.childLanes=0,w.pendingProps=b):w=Ka(b,h,0,null),r=di(r,h,u,null),w.return=s,r.return=s,w.sibling=r,s.child=w,s.child.memoizedState=Sc(u),s.memoizedState=xc,r):bc(s,b));if(v=r.memoizedState,v!==null&&(M=v.dehydrated,M!==null))return px(r,s,b,h,M,v,u);if(w){w=h.fallback,b=s.mode,v=r.child,M=v.sibling;var $={mode:"hidden",children:h.children};return(b&1)===0&&s.child!==v?(h=s.child,h.childLanes=0,h.pendingProps=$,s.deletions=null):(h=Ir(v,$),h.subtreeFlags=v.subtreeFlags&14680064),M!==null?w=Ir(M,w):(w=di(w,b,u,null),w.flags|=2),w.return=s,h.return=s,h.sibling=w,s.child=h,h=w,w=s.child,b=r.child.memoizedState,b=b===null?Sc(u):{baseLanes:b.baseLanes|u,cachePool:null,transitions:b.transitions},w.memoizedState=b,w.childLanes=r.childLanes&~u,s.memoizedState=xc,h}return w=r.child,r=w.sibling,h=Ir(w,{mode:"visible",children:h.children}),(s.mode&1)===0&&(h.lanes=u),h.return=s,h.sibling=null,r!==null&&(u=s.deletions,u===null?(s.deletions=[r],s.flags|=16):u.push(r)),s.child=h,s.memoizedState=null,h}function bc(r,s){return s=Ka({mode:"visible",children:s},r.mode,0,null),s.return=r,r.child=s}function Ra(r,s,u,h){return h!==null&&Xu(h),Yi(s,r.child,null,u),r=bc(s,s.pendingProps.children),r.flags|=2,s.memoizedState=null,r}function px(r,s,u,h,v,w,b){if(u)return s.flags&256?(s.flags&=-257,h=gc(Error(t(422))),Ra(r,s,b,h)):s.memoizedState!==null?(s.child=r.child,s.flags|=128,null):(w=h.fallback,v=s.mode,h=Ka({mode:"visible",children:h.children},v,0,null),w=di(w,v,b,null),w.flags|=2,h.return=s,w.return=s,h.sibling=w,s.child=h,(s.mode&1)!==0&&Yi(s,r.child,null,b),s.child.memoizedState=Sc(b),s.memoizedState=xc,w);if((s.mode&1)===0)return Ra(r,s,b,null);if(v.data==="$!"){if(h=v.nextSibling&&v.nextSibling.dataset,h)var M=h.dgst;return h=M,w=Error(t(419)),h=gc(w,h,void 0),Ra(r,s,b,h)}if(M=(b&r.childLanes)!==0,Gt||M){if(h=kt,h!==null){switch(b&-b){case 4:v=2;break;case 16:v=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:v=32;break;case 536870912:v=268435456;break;default:v=0}v=(v&(h.suspendedLanes|b))!==0?0:v,v!==0&&v!==w.retryLane&&(w.retryLane=v,tr(r,v),En(h,r,v,-1))}return Nc(),h=gc(Error(t(421))),Ra(r,s,b,h)}return v.data==="$?"?(s.flags|=128,s.child=r.child,s=Ex.bind(null,r),v._reactRetry=s,null):(r=w.treeContext,rn=Sr(v.nextSibling),nn=s,Qe=!0,kn=null,r!==null&&(ln[un++]=Zn,ln[un++]=er,ln[un++]=ni,Zn=r.id,er=r.overflow,ni=s),s=bc(s,h.children),s.flags|=4096,s)}function am(r,s,u){r.lanes|=s;var h=r.alternate;h!==null&&(h.lanes|=s),Zu(r.return,s,u)}function kc(r,s,u,h,v){var w=r.memoizedState;w===null?r.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:h,tail:u,tailMode:v}:(w.isBackwards=s,w.rendering=null,w.renderingStartTime=0,w.last=h,w.tail=u,w.tailMode=v)}function lm(r,s,u){var h=s.pendingProps,v=h.revealOrder,w=h.tail;if(Bt(r,s,h.children,u),h=Ze.current,(h&2)!==0)h=h&1|2,s.flags|=128;else{if(r!==null&&(r.flags&128)!==0)e:for(r=s.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&am(r,u,s);else if(r.tag===19)am(r,u,s);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break e;for(;r.sibling===null;){if(r.return===null||r.return===s)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}h&=1}if(We(Ze,h),(s.mode&1)===0)s.memoizedState=null;else switch(v){case"forwards":for(u=s.child,v=null;u!==null;)r=u.alternate,r!==null&&Ea(r)===null&&(v=u),u=u.sibling;u=v,u===null?(v=s.child,s.child=null):(v=u.sibling,u.sibling=null),kc(s,!1,v,u,w);break;case"backwards":for(u=null,v=s.child,s.child=null;v!==null;){if(r=v.alternate,r!==null&&Ea(r)===null){s.child=v;break}r=v.sibling,v.sibling=u,u=v,v=r}kc(s,!0,u,null,w);break;case"together":kc(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function La(r,s){(s.mode&1)===0&&r!==null&&(r.alternate=null,s.alternate=null,s.flags|=2)}function rr(r,s,u){if(r!==null&&(s.dependencies=r.dependencies),ai|=s.lanes,(u&s.childLanes)===0)return null;if(r!==null&&s.child!==r.child)throw Error(t(153));if(s.child!==null){for(r=s.child,u=Ir(r,r.pendingProps),s.child=u,u.return=s;r.sibling!==null;)r=r.sibling,u=u.sibling=Ir(r,r.pendingProps),u.return=s;u.sibling=null}return s.child}function mx(r,s,u){switch(s.tag){case 3:im(s),Xi();break;case 5:bp(s);break;case 1:Wt(s.type)&&va(s);break;case 4:nc(s,s.stateNode.containerInfo);break;case 10:var h=s.type._context,v=s.memoizedProps.value;We(ka,h._currentValue),h._currentValue=v;break;case 13:if(h=s.memoizedState,h!==null)return h.dehydrated!==null?(We(Ze,Ze.current&1),s.flags|=128,null):(u&s.child.childLanes)!==0?om(r,s,u):(We(Ze,Ze.current&1),r=rr(r,s,u),r!==null?r.sibling:null);We(Ze,Ze.current&1);break;case 19:if(h=(u&s.childLanes)!==0,(r.flags&128)!==0){if(h)return lm(r,s,u);s.flags|=128}if(v=s.memoizedState,v!==null&&(v.rendering=null,v.tail=null,v.lastEffect=null),We(Ze,Ze.current),h)break;return null;case 22:case 23:return s.lanes=0,tm(r,s,u)}return rr(r,s,u)}var um,Cc,cm,dm;um=function(r,s){for(var u=s.child;u!==null;){if(u.tag===5||u.tag===6)r.appendChild(u.stateNode);else if(u.tag!==4&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===s)break;for(;u.sibling===null;){if(u.return===null||u.return===s)return;u=u.return}u.sibling.return=u.return,u=u.sibling}},Cc=function(){},cm=function(r,s,u,h){var v=r.memoizedProps;if(v!==h){r=s.stateNode,si(Fn.current);var w=null;switch(u){case"input":v=Et(r,v),h=Et(r,h),w=[];break;case"select":v=K({},v,{value:void 0}),h=K({},h,{value:void 0}),w=[];break;case"textarea":v=gt(r,v),h=gt(r,h),w=[];break;default:typeof v.onClick!="function"&&typeof h.onClick=="function"&&(r.onclick=pa)}vn(u,h);var b;u=null;for(te in v)if(!h.hasOwnProperty(te)&&v.hasOwnProperty(te)&&v[te]!=null)if(te==="style"){var M=v[te];for(b in M)M.hasOwnProperty(b)&&(u||(u={}),u[b]="")}else te!=="dangerouslySetInnerHTML"&&te!=="children"&&te!=="suppressContentEditableWarning"&&te!=="suppressHydrationWarning"&&te!=="autoFocus"&&(o.hasOwnProperty(te)?w||(w=[]):(w=w||[]).push(te,null));for(te in h){var $=h[te];if(M=v?.[te],h.hasOwnProperty(te)&&$!==M&&($!=null||M!=null))if(te==="style")if(M){for(b in M)!M.hasOwnProperty(b)||$&&$.hasOwnProperty(b)||(u||(u={}),u[b]="");for(b in $)$.hasOwnProperty(b)&&M[b]!==$[b]&&(u||(u={}),u[b]=$[b])}else u||(w||(w=[]),w.push(te,u)),u=$;else te==="dangerouslySetInnerHTML"?($=$?$.__html:void 0,M=M?M.__html:void 0,$!=null&&M!==$&&(w=w||[]).push(te,$)):te==="children"?typeof $!="string"&&typeof $!="number"||(w=w||[]).push(te,""+$):te!=="suppressContentEditableWarning"&&te!=="suppressHydrationWarning"&&(o.hasOwnProperty(te)?($!=null&&te==="onScroll"&&Xe("scroll",r),w||M===$||(w=[])):(w=w||[]).push(te,$))}u&&(w=w||[]).push("style",u);var te=w;(s.updateQueue=te)&&(s.flags|=4)}},dm=function(r,s,u,h){u!==h&&(s.flags|=4)};function ho(r,s){if(!Qe)switch(r.tailMode){case"hidden":s=r.tail;for(var u=null;s!==null;)s.alternate!==null&&(u=s),s=s.sibling;u===null?r.tail=null:u.sibling=null;break;case"collapsed":u=r.tail;for(var h=null;u!==null;)u.alternate!==null&&(h=u),u=u.sibling;h===null?s||r.tail===null?r.tail=null:r.tail.sibling=null:h.sibling=null}}function Lt(r){var s=r.alternate!==null&&r.alternate.child===r.child,u=0,h=0;if(s)for(var v=r.child;v!==null;)u|=v.lanes|v.childLanes,h|=v.subtreeFlags&14680064,h|=v.flags&14680064,v.return=r,v=v.sibling;else for(v=r.child;v!==null;)u|=v.lanes|v.childLanes,h|=v.subtreeFlags,h|=v.flags,v.return=r,v=v.sibling;return r.subtreeFlags|=h,r.childLanes=u,s}function gx(r,s,u){var h=s.pendingProps;switch(Gu(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Lt(s),null;case 1:return Wt(s.type)&&ga(),Lt(s),null;case 3:return h=s.stateNode,Zi(),Ye(Ht),Ye(Ot),sc(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(r===null||r.child===null)&&(Sa(s)?s.flags|=4:r===null||r.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,kn!==null&&(Lc(kn),kn=null))),Cc(r,s),Lt(s),null;case 5:rc(s);var v=si(oo.current);if(u=s.type,r!==null&&s.stateNode!=null)cm(r,s,u,h,v),r.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!h){if(s.stateNode===null)throw Error(t(166));return Lt(s),null}if(r=si(Fn.current),Sa(s)){h=s.stateNode,u=s.type;var w=s.memoizedProps;switch(h[Mn]=s,h[to]=w,r=(s.mode&1)!==0,u){case"dialog":Xe("cancel",h),Xe("close",h);break;case"iframe":case"object":case"embed":Xe("load",h);break;case"video":case"audio":for(v=0;v<Js.length;v++)Xe(Js[v],h);break;case"source":Xe("error",h);break;case"img":case"image":case"link":Xe("error",h),Xe("load",h);break;case"details":Xe("toggle",h);break;case"input":Ue(h,w),Xe("invalid",h);break;case"select":h._wrapperState={wasMultiple:!!w.multiple},Xe("invalid",h);break;case"textarea":qe(h,w),Xe("invalid",h)}vn(u,w),v=null;for(var b in w)if(w.hasOwnProperty(b)){var M=w[b];b==="children"?typeof M=="string"?h.textContent!==M&&(w.suppressHydrationWarning!==!0&&fa(h.textContent,M,r),v=["children",M]):typeof M=="number"&&h.textContent!==""+M&&(w.suppressHydrationWarning!==!0&&fa(h.textContent,M,r),v=["children",""+M]):o.hasOwnProperty(b)&&M!=null&&b==="onScroll"&&Xe("scroll",h)}switch(u){case"input":Pe(h),Oe(h,w,!0);break;case"textarea":Pe(h),he(h);break;case"select":case"option":break;default:typeof w.onClick=="function"&&(h.onclick=pa)}h=v,s.updateQueue=h,h!==null&&(s.flags|=4)}else{b=v.nodeType===9?v:v.ownerDocument,r==="http://www.w3.org/1999/xhtml"&&(r=Re(u)),r==="http://www.w3.org/1999/xhtml"?u==="script"?(r=b.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild)):typeof h.is=="string"?r=b.createElement(u,{is:h.is}):(r=b.createElement(u),u==="select"&&(b=r,h.multiple?b.multiple=!0:h.size&&(b.size=h.size))):r=b.createElementNS(r,u),r[Mn]=s,r[to]=h,um(r,s,!1,!1),s.stateNode=r;e:{switch(b=qn(u,h),u){case"dialog":Xe("cancel",r),Xe("close",r),v=h;break;case"iframe":case"object":case"embed":Xe("load",r),v=h;break;case"video":case"audio":for(v=0;v<Js.length;v++)Xe(Js[v],r);v=h;break;case"source":Xe("error",r),v=h;break;case"img":case"image":case"link":Xe("error",r),Xe("load",r),v=h;break;case"details":Xe("toggle",r),v=h;break;case"input":Ue(r,h),v=Et(r,h),Xe("invalid",r);break;case"option":v=h;break;case"select":r._wrapperState={wasMultiple:!!h.multiple},v=K({},h,{value:void 0}),Xe("invalid",r);break;case"textarea":qe(r,h),v=gt(r,h),Xe("invalid",r);break;default:v=h}vn(u,v),M=v;for(w in M)if(M.hasOwnProperty(w)){var $=M[w];w==="style"?St(r,$):w==="dangerouslySetInnerHTML"?($=$?$.__html:void 0,$!=null&&jt(r,$)):w==="children"?typeof $=="string"?(u!=="textarea"||$!=="")&&Be(r,$):typeof $=="number"&&Be(r,""+$):w!=="suppressContentEditableWarning"&&w!=="suppressHydrationWarning"&&w!=="autoFocus"&&(o.hasOwnProperty(w)?$!=null&&w==="onScroll"&&Xe("scroll",r):$!=null&&A(r,w,$,b))}switch(u){case"input":Pe(r),Oe(r,h,!1);break;case"textarea":Pe(r),he(r);break;case"option":h.value!=null&&r.setAttribute("value",""+de(h.value));break;case"select":r.multiple=!!h.multiple,w=h.value,w!=null?Fe(r,!!h.multiple,w,!1):h.defaultValue!=null&&Fe(r,!!h.multiple,h.defaultValue,!0);break;default:typeof v.onClick=="function"&&(r.onclick=pa)}switch(u){case"button":case"input":case"select":case"textarea":h=!!h.autoFocus;break e;case"img":h=!0;break e;default:h=!1}}h&&(s.flags|=4)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return Lt(s),null;case 6:if(r&&s.stateNode!=null)dm(r,s,r.memoizedProps,h);else{if(typeof h!="string"&&s.stateNode===null)throw Error(t(166));if(u=si(oo.current),si(Fn.current),Sa(s)){if(h=s.stateNode,u=s.memoizedProps,h[Mn]=s,(w=h.nodeValue!==u)&&(r=nn,r!==null))switch(r.tag){case 3:fa(h.nodeValue,u,(r.mode&1)!==0);break;case 5:r.memoizedProps.suppressHydrationWarning!==!0&&fa(h.nodeValue,u,(r.mode&1)!==0)}w&&(s.flags|=4)}else h=(u.nodeType===9?u:u.ownerDocument).createTextNode(h),h[Mn]=s,s.stateNode=h}return Lt(s),null;case 13:if(Ye(Ze),h=s.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(Qe&&rn!==null&&(s.mode&1)!==0&&(s.flags&128)===0)pp(),Xi(),s.flags|=98560,w=!1;else if(w=Sa(s),h!==null&&h.dehydrated!==null){if(r===null){if(!w)throw Error(t(318));if(w=s.memoizedState,w=w!==null?w.dehydrated:null,!w)throw Error(t(317));w[Mn]=s}else Xi(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Lt(s),w=!1}else kn!==null&&(Lc(kn),kn=null),w=!0;if(!w)return s.flags&65536?s:null}return(s.flags&128)!==0?(s.lanes=u,s):(h=h!==null,h!==(r!==null&&r.memoizedState!==null)&&h&&(s.child.flags|=8192,(s.mode&1)!==0&&(r===null||(Ze.current&1)!==0?yt===0&&(yt=3):Nc())),s.updateQueue!==null&&(s.flags|=4),Lt(s),null);case 4:return Zi(),Cc(r,s),r===null&&Zs(s.stateNode.containerInfo),Lt(s),null;case 10:return Ju(s.type._context),Lt(s),null;case 17:return Wt(s.type)&&ga(),Lt(s),null;case 19:if(Ye(Ze),w=s.memoizedState,w===null)return Lt(s),null;if(h=(s.flags&128)!==0,b=w.rendering,b===null)if(h)ho(w,!1);else{if(yt!==0||r!==null&&(r.flags&128)!==0)for(r=s.child;r!==null;){if(b=Ea(r),b!==null){for(s.flags|=128,ho(w,!1),h=b.updateQueue,h!==null&&(s.updateQueue=h,s.flags|=4),s.subtreeFlags=0,h=u,u=s.child;u!==null;)w=u,r=h,w.flags&=14680066,b=w.alternate,b===null?(w.childLanes=0,w.lanes=r,w.child=null,w.subtreeFlags=0,w.memoizedProps=null,w.memoizedState=null,w.updateQueue=null,w.dependencies=null,w.stateNode=null):(w.childLanes=b.childLanes,w.lanes=b.lanes,w.child=b.child,w.subtreeFlags=0,w.deletions=null,w.memoizedProps=b.memoizedProps,w.memoizedState=b.memoizedState,w.updateQueue=b.updateQueue,w.type=b.type,r=b.dependencies,w.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),u=u.sibling;return We(Ze,Ze.current&1|2),s.child}r=r.sibling}w.tail!==null&&at()>rs&&(s.flags|=128,h=!0,ho(w,!1),s.lanes=4194304)}else{if(!h)if(r=Ea(b),r!==null){if(s.flags|=128,h=!0,u=r.updateQueue,u!==null&&(s.updateQueue=u,s.flags|=4),ho(w,!0),w.tail===null&&w.tailMode==="hidden"&&!b.alternate&&!Qe)return Lt(s),null}else 2*at()-w.renderingStartTime>rs&&u!==1073741824&&(s.flags|=128,h=!0,ho(w,!1),s.lanes=4194304);w.isBackwards?(b.sibling=s.child,s.child=b):(u=w.last,u!==null?u.sibling=b:s.child=b,w.last=b)}return w.tail!==null?(s=w.tail,w.rendering=s,w.tail=s.sibling,w.renderingStartTime=at(),s.sibling=null,u=Ze.current,We(Ze,h?u&1|2:u&1),s):(Lt(s),null);case 22:case 23:return Fc(),h=s.memoizedState!==null,r!==null&&r.memoizedState!==null!==h&&(s.flags|=8192),h&&(s.mode&1)!==0?(sn&1073741824)!==0&&(Lt(s),s.subtreeFlags&6&&(s.flags|=8192)):Lt(s),null;case 24:return null;case 25:return null}throw Error(t(156,s.tag))}function vx(r,s){switch(Gu(s),s.tag){case 1:return Wt(s.type)&&ga(),r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 3:return Zi(),Ye(Ht),Ye(Ot),sc(),r=s.flags,(r&65536)!==0&&(r&128)===0?(s.flags=r&-65537|128,s):null;case 5:return rc(s),null;case 13:if(Ye(Ze),r=s.memoizedState,r!==null&&r.dehydrated!==null){if(s.alternate===null)throw Error(t(340));Xi()}return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 19:return Ye(Ze),null;case 4:return Zi(),null;case 10:return Ju(s.type._context),null;case 22:case 23:return Fc(),null;case 24:return null;default:return null}}var Ma=!1,Mt=!1,yx=typeof WeakSet=="function"?WeakSet:Set,ce=null;function ts(r,s){var u=r.ref;if(u!==null)if(typeof u=="function")try{u(null)}catch(h){it(r,s,h)}else u.current=null}function _c(r,s,u){try{u()}catch(h){it(r,s,h)}}var hm=!1;function wx(r,s){if(Fu=na,r=Hf(),Tu(r)){if("selectionStart"in r)var u={start:r.selectionStart,end:r.selectionEnd};else e:{u=(u=r.ownerDocument)&&u.defaultView||window;var h=u.getSelection&&u.getSelection();if(h&&h.rangeCount!==0){u=h.anchorNode;var v=h.anchorOffset,w=h.focusNode;h=h.focusOffset;try{u.nodeType,w.nodeType}catch{u=null;break e}var b=0,M=-1,$=-1,te=0,se=0,ae=r,re=null;t:for(;;){for(var ue;ae!==u||v!==0&&ae.nodeType!==3||(M=b+v),ae!==w||h!==0&&ae.nodeType!==3||($=b+h),ae.nodeType===3&&(b+=ae.nodeValue.length),(ue=ae.firstChild)!==null;)re=ae,ae=ue;for(;;){if(ae===r)break t;if(re===u&&++te===v&&(M=b),re===w&&++se===h&&($=b),(ue=ae.nextSibling)!==null)break;ae=re,re=ae.parentNode}ae=ue}u=M===-1||$===-1?null:{start:M,end:$}}else u=null}u=u||{start:0,end:0}}else u=null;for(Nu={focusedElem:r,selectionRange:u},na=!1,ce=s;ce!==null;)if(s=ce,r=s.child,(s.subtreeFlags&1028)!==0&&r!==null)r.return=s,ce=r;else for(;ce!==null;){s=ce;try{var pe=s.alternate;if((s.flags&1024)!==0)switch(s.tag){case 0:case 11:case 15:break;case 1:if(pe!==null){var me=pe.memoizedProps,lt=pe.memoizedState,Q=s.stateNode,G=Q.getSnapshotBeforeUpdate(s.elementType===s.type?me:Cn(s.type,me),lt);Q.__reactInternalSnapshotBeforeUpdate=G}break;case 3:var ee=s.stateNode.containerInfo;ee.nodeType===1?ee.textContent="":ee.nodeType===9&&ee.documentElement&&ee.removeChild(ee.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(le){it(s,s.return,le)}if(r=s.sibling,r!==null){r.return=s.return,ce=r;break}ce=s.return}return pe=hm,hm=!1,pe}function fo(r,s,u){var h=s.updateQueue;if(h=h!==null?h.lastEffect:null,h!==null){var v=h=h.next;do{if((v.tag&r)===r){var w=v.destroy;v.destroy=void 0,w!==void 0&&_c(s,u,w)}v=v.next}while(v!==h)}}function Fa(r,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var u=s=s.next;do{if((u.tag&r)===r){var h=u.create;u.destroy=h()}u=u.next}while(u!==s)}}function Pc(r){var s=r.ref;if(s!==null){var u=r.stateNode;switch(r.tag){case 5:r=u;break;default:r=u}typeof s=="function"?s(r):s.current=r}}function fm(r){var s=r.alternate;s!==null&&(r.alternate=null,fm(s)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(s=r.stateNode,s!==null&&(delete s[Mn],delete s[to],delete s[zu],delete s[tx],delete s[nx])),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}function pm(r){return r.tag===5||r.tag===3||r.tag===4}function mm(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||pm(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function Ec(r,s,u){var h=r.tag;if(h===5||h===6)r=r.stateNode,s?u.nodeType===8?u.parentNode.insertBefore(r,s):u.insertBefore(r,s):(u.nodeType===8?(s=u.parentNode,s.insertBefore(r,u)):(s=u,s.appendChild(r)),u=u._reactRootContainer,u!=null||s.onclick!==null||(s.onclick=pa));else if(h!==4&&(r=r.child,r!==null))for(Ec(r,s,u),r=r.sibling;r!==null;)Ec(r,s,u),r=r.sibling}function Ac(r,s,u){var h=r.tag;if(h===5||h===6)r=r.stateNode,s?u.insertBefore(r,s):u.appendChild(r);else if(h!==4&&(r=r.child,r!==null))for(Ac(r,s,u),r=r.sibling;r!==null;)Ac(r,s,u),r=r.sibling}var At=null,_n=!1;function Er(r,s,u){for(u=u.child;u!==null;)gm(r,s,u),u=u.sibling}function gm(r,s,u){if(Ln&&typeof Ln.onCommitFiberUnmount=="function")try{Ln.onCommitFiberUnmount(Yo,u)}catch{}switch(u.tag){case 5:Mt||ts(u,s);case 6:var h=At,v=_n;At=null,Er(r,s,u),At=h,_n=v,At!==null&&(_n?(r=At,u=u.stateNode,r.nodeType===8?r.parentNode.removeChild(u):r.removeChild(u)):At.removeChild(u.stateNode));break;case 18:At!==null&&(_n?(r=At,u=u.stateNode,r.nodeType===8?$u(r.parentNode,u):r.nodeType===1&&$u(r,u),Hs(r)):$u(At,u.stateNode));break;case 4:h=At,v=_n,At=u.stateNode.containerInfo,_n=!0,Er(r,s,u),At=h,_n=v;break;case 0:case 11:case 14:case 15:if(!Mt&&(h=u.updateQueue,h!==null&&(h=h.lastEffect,h!==null))){v=h=h.next;do{var w=v,b=w.destroy;w=w.tag,b!==void 0&&((w&2)!==0||(w&4)!==0)&&_c(u,s,b),v=v.next}while(v!==h)}Er(r,s,u);break;case 1:if(!Mt&&(ts(u,s),h=u.stateNode,typeof h.componentWillUnmount=="function"))try{h.props=u.memoizedProps,h.state=u.memoizedState,h.componentWillUnmount()}catch(M){it(u,s,M)}Er(r,s,u);break;case 21:Er(r,s,u);break;case 22:u.mode&1?(Mt=(h=Mt)||u.memoizedState!==null,Er(r,s,u),Mt=h):Er(r,s,u);break;default:Er(r,s,u)}}function vm(r){var s=r.updateQueue;if(s!==null){r.updateQueue=null;var u=r.stateNode;u===null&&(u=r.stateNode=new yx),s.forEach(function(h){var v=Ax.bind(null,r,h);u.has(h)||(u.add(h),h.then(v,v))})}}function Pn(r,s){var u=s.deletions;if(u!==null)for(var h=0;h<u.length;h++){var v=u[h];try{var w=r,b=s,M=b;e:for(;M!==null;){switch(M.tag){case 5:At=M.stateNode,_n=!1;break e;case 3:At=M.stateNode.containerInfo,_n=!0;break e;case 4:At=M.stateNode.containerInfo,_n=!0;break e}M=M.return}if(At===null)throw Error(t(160));gm(w,b,v),At=null,_n=!1;var $=v.alternate;$!==null&&($.return=null),v.return=null}catch(te){it(v,s,te)}}if(s.subtreeFlags&12854)for(s=s.child;s!==null;)ym(s,r),s=s.sibling}function ym(r,s){var u=r.alternate,h=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:if(Pn(s,r),Un(r),h&4){try{fo(3,r,r.return),Fa(3,r)}catch(me){it(r,r.return,me)}try{fo(5,r,r.return)}catch(me){it(r,r.return,me)}}break;case 1:Pn(s,r),Un(r),h&512&&u!==null&&ts(u,u.return);break;case 5:if(Pn(s,r),Un(r),h&512&&u!==null&&ts(u,u.return),r.flags&32){var v=r.stateNode;try{Be(v,"")}catch(me){it(r,r.return,me)}}if(h&4&&(v=r.stateNode,v!=null)){var w=r.memoizedProps,b=u!==null?u.memoizedProps:w,M=r.type,$=r.updateQueue;if(r.updateQueue=null,$!==null)try{M==="input"&&w.type==="radio"&&w.name!=null&&rt(v,w),qn(M,b);var te=qn(M,w);for(b=0;b<$.length;b+=2){var se=$[b],ae=$[b+1];se==="style"?St(v,ae):se==="dangerouslySetInnerHTML"?jt(v,ae):se==="children"?Be(v,ae):A(v,se,ae,te)}switch(M){case"input":Te(v,w);break;case"textarea":oe(v,w);break;case"select":var re=v._wrapperState.wasMultiple;v._wrapperState.wasMultiple=!!w.multiple;var ue=w.value;ue!=null?Fe(v,!!w.multiple,ue,!1):re!==!!w.multiple&&(w.defaultValue!=null?Fe(v,!!w.multiple,w.defaultValue,!0):Fe(v,!!w.multiple,w.multiple?[]:"",!1))}v[to]=w}catch(me){it(r,r.return,me)}}break;case 6:if(Pn(s,r),Un(r),h&4){if(r.stateNode===null)throw Error(t(162));v=r.stateNode,w=r.memoizedProps;try{v.nodeValue=w}catch(me){it(r,r.return,me)}}break;case 3:if(Pn(s,r),Un(r),h&4&&u!==null&&u.memoizedState.isDehydrated)try{Hs(s.containerInfo)}catch(me){it(r,r.return,me)}break;case 4:Pn(s,r),Un(r);break;case 13:Pn(s,r),Un(r),v=r.child,v.flags&8192&&(w=v.memoizedState!==null,v.stateNode.isHidden=w,!w||v.alternate!==null&&v.alternate.memoizedState!==null||(jc=at())),h&4&&vm(r);break;case 22:if(se=u!==null&&u.memoizedState!==null,r.mode&1?(Mt=(te=Mt)||se,Pn(s,r),Mt=te):Pn(s,r),Un(r),h&8192){if(te=r.memoizedState!==null,(r.stateNode.isHidden=te)&&!se&&(r.mode&1)!==0)for(ce=r,se=r.child;se!==null;){for(ae=ce=se;ce!==null;){switch(re=ce,ue=re.child,re.tag){case 0:case 11:case 14:case 15:fo(4,re,re.return);break;case 1:ts(re,re.return);var pe=re.stateNode;if(typeof pe.componentWillUnmount=="function"){h=re,u=re.return;try{s=h,pe.props=s.memoizedProps,pe.state=s.memoizedState,pe.componentWillUnmount()}catch(me){it(h,u,me)}}break;case 5:ts(re,re.return);break;case 22:if(re.memoizedState!==null){Sm(ae);continue}}ue!==null?(ue.return=re,ce=ue):Sm(ae)}se=se.sibling}e:for(se=null,ae=r;;){if(ae.tag===5){if(se===null){se=ae;try{v=ae.stateNode,te?(w=v.style,typeof w.setProperty=="function"?w.setProperty("display","none","important"):w.display="none"):(M=ae.stateNode,$=ae.memoizedProps.style,b=$!=null&&$.hasOwnProperty("display")?$.display:null,M.style.display=It("display",b))}catch(me){it(r,r.return,me)}}}else if(ae.tag===6){if(se===null)try{ae.stateNode.nodeValue=te?"":ae.memoizedProps}catch(me){it(r,r.return,me)}}else if((ae.tag!==22&&ae.tag!==23||ae.memoizedState===null||ae===r)&&ae.child!==null){ae.child.return=ae,ae=ae.child;continue}if(ae===r)break e;for(;ae.sibling===null;){if(ae.return===null||ae.return===r)break e;se===ae&&(se=null),ae=ae.return}se===ae&&(se=null),ae.sibling.return=ae.return,ae=ae.sibling}}break;case 19:Pn(s,r),Un(r),h&4&&vm(r);break;case 21:break;default:Pn(s,r),Un(r)}}function Un(r){var s=r.flags;if(s&2){try{e:{for(var u=r.return;u!==null;){if(pm(u)){var h=u;break e}u=u.return}throw Error(t(160))}switch(h.tag){case 5:var v=h.stateNode;h.flags&32&&(Be(v,""),h.flags&=-33);var w=mm(r);Ac(r,w,v);break;case 3:case 4:var b=h.stateNode.containerInfo,M=mm(r);Ec(r,M,b);break;default:throw Error(t(161))}}catch($){it(r,r.return,$)}r.flags&=-3}s&4096&&(r.flags&=-4097)}function xx(r,s,u){ce=r,wm(r)}function wm(r,s,u){for(var h=(r.mode&1)!==0;ce!==null;){var v=ce,w=v.child;if(v.tag===22&&h){var b=v.memoizedState!==null||Ma;if(!b){var M=v.alternate,$=M!==null&&M.memoizedState!==null||Mt;M=Ma;var te=Mt;if(Ma=b,(Mt=$)&&!te)for(ce=v;ce!==null;)b=ce,$=b.child,b.tag===22&&b.memoizedState!==null?bm(v):$!==null?($.return=b,ce=$):bm(v);for(;w!==null;)ce=w,wm(w),w=w.sibling;ce=v,Ma=M,Mt=te}xm(r)}else(v.subtreeFlags&8772)!==0&&w!==null?(w.return=v,ce=w):xm(r)}}function xm(r){for(;ce!==null;){var s=ce;if((s.flags&8772)!==0){var u=s.alternate;try{if((s.flags&8772)!==0)switch(s.tag){case 0:case 11:case 15:Mt||Fa(5,s);break;case 1:var h=s.stateNode;if(s.flags&4&&!Mt)if(u===null)h.componentDidMount();else{var v=s.elementType===s.type?u.memoizedProps:Cn(s.type,u.memoizedProps);h.componentDidUpdate(v,u.memoizedState,h.__reactInternalSnapshotBeforeUpdate)}var w=s.updateQueue;w!==null&&Sp(s,w,h);break;case 3:var b=s.updateQueue;if(b!==null){if(u=null,s.child!==null)switch(s.child.tag){case 5:u=s.child.stateNode;break;case 1:u=s.child.stateNode}Sp(s,b,u)}break;case 5:var M=s.stateNode;if(u===null&&s.flags&4){u=M;var $=s.memoizedProps;switch(s.type){case"button":case"input":case"select":case"textarea":$.autoFocus&&u.focus();break;case"img":$.src&&(u.src=$.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(s.memoizedState===null){var te=s.alternate;if(te!==null){var se=te.memoizedState;if(se!==null){var ae=se.dehydrated;ae!==null&&Hs(ae)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}Mt||s.flags&512&&Pc(s)}catch(re){it(s,s.return,re)}}if(s===r){ce=null;break}if(u=s.sibling,u!==null){u.return=s.return,ce=u;break}ce=s.return}}function Sm(r){for(;ce!==null;){var s=ce;if(s===r){ce=null;break}var u=s.sibling;if(u!==null){u.return=s.return,ce=u;break}ce=s.return}}function bm(r){for(;ce!==null;){var s=ce;try{switch(s.tag){case 0:case 11:case 15:var u=s.return;try{Fa(4,s)}catch($){it(s,u,$)}break;case 1:var h=s.stateNode;if(typeof h.componentDidMount=="function"){var v=s.return;try{h.componentDidMount()}catch($){it(s,v,$)}}var w=s.return;try{Pc(s)}catch($){it(s,w,$)}break;case 5:var b=s.return;try{Pc(s)}catch($){it(s,b,$)}}}catch($){it(s,s.return,$)}if(s===r){ce=null;break}var M=s.sibling;if(M!==null){M.return=s.return,ce=M;break}ce=s.return}}var Sx=Math.ceil,Na=j.ReactCurrentDispatcher,Tc=j.ReactCurrentOwner,hn=j.ReactCurrentBatchConfig,Ie=0,kt=null,dt=null,Tt=0,sn=0,ns=br(0),yt=0,po=null,ai=0,Ua=0,Dc=0,mo=null,Kt=null,jc=0,rs=1/0,ir=null,Ba=!1,Ic=null,Ar=null,$a=!1,Tr=null,za=0,go=0,Oc=null,Va=-1,Ha=0;function $t(){return(Ie&6)!==0?at():Va!==-1?Va:Va=at()}function Dr(r){return(r.mode&1)===0?1:(Ie&2)!==0&&Tt!==0?Tt&-Tt:ix.transition!==null?(Ha===0&&(Ha=mf()),Ha):(r=Ne,r!==0||(r=window.event,r=r===void 0?16:Cf(r.type)),r)}function En(r,s,u,h){if(50<go)throw go=0,Oc=null,Error(t(185));Us(r,u,h),((Ie&2)===0||r!==kt)&&(r===kt&&((Ie&2)===0&&(Ua|=u),yt===4&&jr(r,Tt)),qt(r,h),u===1&&Ie===0&&(s.mode&1)===0&&(rs=at()+500,ya&&Cr()))}function qt(r,s){var u=r.callbackNode;i1(r,s);var h=Zo(r,r===kt?Tt:0);if(h===0)u!==null&&hf(u),r.callbackNode=null,r.callbackPriority=0;else if(s=h&-h,r.callbackPriority!==s){if(u!=null&&hf(u),s===1)r.tag===0?rx(Cm.bind(null,r)):up(Cm.bind(null,r)),Z1(function(){(Ie&6)===0&&Cr()}),u=null;else{switch(gf(h)){case 1:u=hu;break;case 4:u=ff;break;case 16:u=Xo;break;case 536870912:u=pf;break;default:u=Xo}u=Im(u,km.bind(null,r))}r.callbackPriority=s,r.callbackNode=u}}function km(r,s){if(Va=-1,Ha=0,(Ie&6)!==0)throw Error(t(327));var u=r.callbackNode;if(is()&&r.callbackNode!==u)return null;var h=Zo(r,r===kt?Tt:0);if(h===0)return null;if((h&30)!==0||(h&r.expiredLanes)!==0||s)s=Wa(r,h);else{s=h;var v=Ie;Ie|=2;var w=Pm();(kt!==r||Tt!==s)&&(ir=null,rs=at()+500,ui(r,s));do try{Cx();break}catch(M){_m(r,M)}while(!0);Qu(),Na.current=w,Ie=v,dt!==null?s=0:(kt=null,Tt=0,s=yt)}if(s!==0){if(s===2&&(v=fu(r),v!==0&&(h=v,s=Rc(r,v))),s===1)throw u=po,ui(r,0),jr(r,h),qt(r,at()),u;if(s===6)jr(r,h);else{if(v=r.current.alternate,(h&30)===0&&!bx(v)&&(s=Wa(r,h),s===2&&(w=fu(r),w!==0&&(h=w,s=Rc(r,w))),s===1))throw u=po,ui(r,0),jr(r,h),qt(r,at()),u;switch(r.finishedWork=v,r.finishedLanes=h,s){case 0:case 1:throw Error(t(345));case 2:ci(r,Kt,ir);break;case 3:if(jr(r,h),(h&130023424)===h&&(s=jc+500-at(),10<s)){if(Zo(r,0)!==0)break;if(v=r.suspendedLanes,(v&h)!==h){$t(),r.pingedLanes|=r.suspendedLanes&v;break}r.timeoutHandle=Bu(ci.bind(null,r,Kt,ir),s);break}ci(r,Kt,ir);break;case 4:if(jr(r,h),(h&4194240)===h)break;for(s=r.eventTimes,v=-1;0<h;){var b=31-Sn(h);w=1<<b,b=s[b],b>v&&(v=b),h&=~w}if(h=v,h=at()-h,h=(120>h?120:480>h?480:1080>h?1080:1920>h?1920:3e3>h?3e3:4320>h?4320:1960*Sx(h/1960))-h,10<h){r.timeoutHandle=Bu(ci.bind(null,r,Kt,ir),h);break}ci(r,Kt,ir);break;case 5:ci(r,Kt,ir);break;default:throw Error(t(329))}}}return qt(r,at()),r.callbackNode===u?km.bind(null,r):null}function Rc(r,s){var u=mo;return r.current.memoizedState.isDehydrated&&(ui(r,s).flags|=256),r=Wa(r,s),r!==2&&(s=Kt,Kt=u,s!==null&&Lc(s)),r}function Lc(r){Kt===null?Kt=r:Kt.push.apply(Kt,r)}function bx(r){for(var s=r;;){if(s.flags&16384){var u=s.updateQueue;if(u!==null&&(u=u.stores,u!==null))for(var h=0;h<u.length;h++){var v=u[h],w=v.getSnapshot;v=v.value;try{if(!bn(w(),v))return!1}catch{return!1}}}if(u=s.child,s.subtreeFlags&16384&&u!==null)u.return=s,s=u;else{if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function jr(r,s){for(s&=~Dc,s&=~Ua,r.suspendedLanes|=s,r.pingedLanes&=~s,r=r.expirationTimes;0<s;){var u=31-Sn(s),h=1<<u;r[u]=-1,s&=~h}}function Cm(r){if((Ie&6)!==0)throw Error(t(327));is();var s=Zo(r,0);if((s&1)===0)return qt(r,at()),null;var u=Wa(r,s);if(r.tag!==0&&u===2){var h=fu(r);h!==0&&(s=h,u=Rc(r,h))}if(u===1)throw u=po,ui(r,0),jr(r,s),qt(r,at()),u;if(u===6)throw Error(t(345));return r.finishedWork=r.current.alternate,r.finishedLanes=s,ci(r,Kt,ir),qt(r,at()),null}function Mc(r,s){var u=Ie;Ie|=1;try{return r(s)}finally{Ie=u,Ie===0&&(rs=at()+500,ya&&Cr())}}function li(r){Tr!==null&&Tr.tag===0&&(Ie&6)===0&&is();var s=Ie;Ie|=1;var u=hn.transition,h=Ne;try{if(hn.transition=null,Ne=1,r)return r()}finally{Ne=h,hn.transition=u,Ie=s,(Ie&6)===0&&Cr()}}function Fc(){sn=ns.current,Ye(ns)}function ui(r,s){r.finishedWork=null,r.finishedLanes=0;var u=r.timeoutHandle;if(u!==-1&&(r.timeoutHandle=-1,J1(u)),dt!==null)for(u=dt.return;u!==null;){var h=u;switch(Gu(h),h.tag){case 1:h=h.type.childContextTypes,h!=null&&ga();break;case 3:Zi(),Ye(Ht),Ye(Ot),sc();break;case 5:rc(h);break;case 4:Zi();break;case 13:Ye(Ze);break;case 19:Ye(Ze);break;case 10:Ju(h.type._context);break;case 22:case 23:Fc()}u=u.return}if(kt=r,dt=r=Ir(r.current,null),Tt=sn=s,yt=0,po=null,Dc=Ua=ai=0,Kt=mo=null,ii!==null){for(s=0;s<ii.length;s++)if(u=ii[s],h=u.interleaved,h!==null){u.interleaved=null;var v=h.next,w=u.pending;if(w!==null){var b=w.next;w.next=v,h.next=b}u.pending=h}ii=null}return r}function _m(r,s){do{var u=dt;try{if(Qu(),Aa.current=Ia,Ta){for(var h=et.memoizedState;h!==null;){var v=h.queue;v!==null&&(v.pending=null),h=h.next}Ta=!1}if(oi=0,bt=vt=et=null,ao=!1,lo=0,Tc.current=null,u===null||u.return===null){yt=1,po=s,dt=null;break}e:{var w=r,b=u.return,M=u,$=s;if(s=Tt,M.flags|=32768,$!==null&&typeof $=="object"&&typeof $.then=="function"){var te=$,se=M,ae=se.tag;if((se.mode&1)===0&&(ae===0||ae===11||ae===15)){var re=se.alternate;re?(se.updateQueue=re.updateQueue,se.memoizedState=re.memoizedState,se.lanes=re.lanes):(se.updateQueue=null,se.memoizedState=null)}var ue=Yp(b);if(ue!==null){ue.flags&=-257,Qp(ue,b,M,w,s),ue.mode&1&&Xp(w,te,s),s=ue,$=te;var pe=s.updateQueue;if(pe===null){var me=new Set;me.add($),s.updateQueue=me}else pe.add($);break e}else{if((s&1)===0){Xp(w,te,s),Nc();break e}$=Error(t(426))}}else if(Qe&&M.mode&1){var lt=Yp(b);if(lt!==null){(lt.flags&65536)===0&&(lt.flags|=256),Qp(lt,b,M,w,s),Xu(es($,M));break e}}w=$=es($,M),yt!==4&&(yt=2),mo===null?mo=[w]:mo.push(w),w=b;do{switch(w.tag){case 3:w.flags|=65536,s&=-s,w.lanes|=s;var Q=Kp(w,$,s);xp(w,Q);break e;case 1:M=$;var G=w.type,ee=w.stateNode;if((w.flags&128)===0&&(typeof G.getDerivedStateFromError=="function"||ee!==null&&typeof ee.componentDidCatch=="function"&&(Ar===null||!Ar.has(ee)))){w.flags|=65536,s&=-s,w.lanes|=s;var le=qp(w,M,s);xp(w,le);break e}}w=w.return}while(w!==null)}Am(u)}catch(ge){s=ge,dt===u&&u!==null&&(dt=u=u.return);continue}break}while(!0)}function Pm(){var r=Na.current;return Na.current=Ia,r===null?Ia:r}function Nc(){(yt===0||yt===3||yt===2)&&(yt=4),kt===null||(ai&268435455)===0&&(Ua&268435455)===0||jr(kt,Tt)}function Wa(r,s){var u=Ie;Ie|=2;var h=Pm();(kt!==r||Tt!==s)&&(ir=null,ui(r,s));do try{kx();break}catch(v){_m(r,v)}while(!0);if(Qu(),Ie=u,Na.current=h,dt!==null)throw Error(t(261));return kt=null,Tt=0,yt}function kx(){for(;dt!==null;)Em(dt)}function Cx(){for(;dt!==null&&!Xw();)Em(dt)}function Em(r){var s=jm(r.alternate,r,sn);r.memoizedProps=r.pendingProps,s===null?Am(r):dt=s,Tc.current=null}function Am(r){var s=r;do{var u=s.alternate;if(r=s.return,(s.flags&32768)===0){if(u=gx(u,s,sn),u!==null){dt=u;return}}else{if(u=vx(u,s),u!==null){u.flags&=32767,dt=u;return}if(r!==null)r.flags|=32768,r.subtreeFlags=0,r.deletions=null;else{yt=6,dt=null;return}}if(s=s.sibling,s!==null){dt=s;return}dt=s=r}while(s!==null);yt===0&&(yt=5)}function ci(r,s,u){var h=Ne,v=hn.transition;try{hn.transition=null,Ne=1,_x(r,s,u,h)}finally{hn.transition=v,Ne=h}return null}function _x(r,s,u,h){do is();while(Tr!==null);if((Ie&6)!==0)throw Error(t(327));u=r.finishedWork;var v=r.finishedLanes;if(u===null)return null;if(r.finishedWork=null,r.finishedLanes=0,u===r.current)throw Error(t(177));r.callbackNode=null,r.callbackPriority=0;var w=u.lanes|u.childLanes;if(s1(r,w),r===kt&&(dt=kt=null,Tt=0),(u.subtreeFlags&2064)===0&&(u.flags&2064)===0||$a||($a=!0,Im(Xo,function(){return is(),null})),w=(u.flags&15990)!==0,(u.subtreeFlags&15990)!==0||w){w=hn.transition,hn.transition=null;var b=Ne;Ne=1;var M=Ie;Ie|=4,Tc.current=null,wx(r,u),ym(u,r),W1(Nu),na=!!Fu,Nu=Fu=null,r.current=u,xx(u),Yw(),Ie=M,Ne=b,hn.transition=w}else r.current=u;if($a&&($a=!1,Tr=r,za=v),w=r.pendingLanes,w===0&&(Ar=null),Zw(u.stateNode),qt(r,at()),s!==null)for(h=r.onRecoverableError,u=0;u<s.length;u++)v=s[u],h(v.value,{componentStack:v.stack,digest:v.digest});if(Ba)throw Ba=!1,r=Ic,Ic=null,r;return(za&1)!==0&&r.tag!==0&&is(),w=r.pendingLanes,(w&1)!==0?r===Oc?go++:(go=0,Oc=r):go=0,Cr(),null}function is(){if(Tr!==null){var r=gf(za),s=hn.transition,u=Ne;try{if(hn.transition=null,Ne=16>r?16:r,Tr===null)var h=!1;else{if(r=Tr,Tr=null,za=0,(Ie&6)!==0)throw Error(t(331));var v=Ie;for(Ie|=4,ce=r.current;ce!==null;){var w=ce,b=w.child;if((ce.flags&16)!==0){var M=w.deletions;if(M!==null){for(var $=0;$<M.length;$++){var te=M[$];for(ce=te;ce!==null;){var se=ce;switch(se.tag){case 0:case 11:case 15:fo(8,se,w)}var ae=se.child;if(ae!==null)ae.return=se,ce=ae;else for(;ce!==null;){se=ce;var re=se.sibling,ue=se.return;if(fm(se),se===te){ce=null;break}if(re!==null){re.return=ue,ce=re;break}ce=ue}}}var pe=w.alternate;if(pe!==null){var me=pe.child;if(me!==null){pe.child=null;do{var lt=me.sibling;me.sibling=null,me=lt}while(me!==null)}}ce=w}}if((w.subtreeFlags&2064)!==0&&b!==null)b.return=w,ce=b;else e:for(;ce!==null;){if(w=ce,(w.flags&2048)!==0)switch(w.tag){case 0:case 11:case 15:fo(9,w,w.return)}var Q=w.sibling;if(Q!==null){Q.return=w.return,ce=Q;break e}ce=w.return}}var G=r.current;for(ce=G;ce!==null;){b=ce;var ee=b.child;if((b.subtreeFlags&2064)!==0&&ee!==null)ee.return=b,ce=ee;else e:for(b=G;ce!==null;){if(M=ce,(M.flags&2048)!==0)try{switch(M.tag){case 0:case 11:case 15:Fa(9,M)}}catch(ge){it(M,M.return,ge)}if(M===b){ce=null;break e}var le=M.sibling;if(le!==null){le.return=M.return,ce=le;break e}ce=M.return}}if(Ie=v,Cr(),Ln&&typeof Ln.onPostCommitFiberRoot=="function")try{Ln.onPostCommitFiberRoot(Yo,r)}catch{}h=!0}return h}finally{Ne=u,hn.transition=s}}return!1}function Tm(r,s,u){s=es(u,s),s=Kp(r,s,1),r=Pr(r,s,1),s=$t(),r!==null&&(Us(r,1,s),qt(r,s))}function it(r,s,u){if(r.tag===3)Tm(r,r,u);else for(;s!==null;){if(s.tag===3){Tm(s,r,u);break}else if(s.tag===1){var h=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(Ar===null||!Ar.has(h))){r=es(u,r),r=qp(s,r,1),s=Pr(s,r,1),r=$t(),s!==null&&(Us(s,1,r),qt(s,r));break}}s=s.return}}function Px(r,s,u){var h=r.pingCache;h!==null&&h.delete(s),s=$t(),r.pingedLanes|=r.suspendedLanes&u,kt===r&&(Tt&u)===u&&(yt===4||yt===3&&(Tt&130023424)===Tt&&500>at()-jc?ui(r,0):Dc|=u),qt(r,s)}function Dm(r,s){s===0&&((r.mode&1)===0?s=1:(s=Jo,Jo<<=1,(Jo&130023424)===0&&(Jo=4194304)));var u=$t();r=tr(r,s),r!==null&&(Us(r,s,u),qt(r,u))}function Ex(r){var s=r.memoizedState,u=0;s!==null&&(u=s.retryLane),Dm(r,u)}function Ax(r,s){var u=0;switch(r.tag){case 13:var h=r.stateNode,v=r.memoizedState;v!==null&&(u=v.retryLane);break;case 19:h=r.stateNode;break;default:throw Error(t(314))}h!==null&&h.delete(s),Dm(r,u)}var jm;jm=function(r,s,u){if(r!==null)if(r.memoizedProps!==s.pendingProps||Ht.current)Gt=!0;else{if((r.lanes&u)===0&&(s.flags&128)===0)return Gt=!1,mx(r,s,u);Gt=(r.flags&131072)!==0}else Gt=!1,Qe&&(s.flags&1048576)!==0&&cp(s,xa,s.index);switch(s.lanes=0,s.tag){case 2:var h=s.type;La(r,s),r=s.pendingProps;var v=Gi(s,Ot.current);Ji(s,u),v=lc(null,s,h,r,v,u);var w=uc();return s.flags|=1,typeof v=="object"&&v!==null&&typeof v.render=="function"&&v.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,Wt(h)?(w=!0,va(s)):w=!1,s.memoizedState=v.state!==null&&v.state!==void 0?v.state:null,tc(s),v.updater=Oa,s.stateNode=v,v._reactInternals=s,mc(s,h,r,u),s=wc(null,s,h,!0,w,u)):(s.tag=0,Qe&&w&&Wu(s),Bt(null,s,v,u),s=s.child),s;case 16:h=s.elementType;e:{switch(La(r,s),r=s.pendingProps,v=h._init,h=v(h._payload),s.type=h,v=s.tag=Dx(h),r=Cn(h,r),v){case 0:s=yc(null,s,h,r,u);break e;case 1:s=rm(null,s,h,r,u);break e;case 11:s=Jp(null,s,h,r,u);break e;case 14:s=Zp(null,s,h,Cn(h.type,r),u);break e}throw Error(t(306,h,""))}return s;case 0:return h=s.type,v=s.pendingProps,v=s.elementType===h?v:Cn(h,v),yc(r,s,h,v,u);case 1:return h=s.type,v=s.pendingProps,v=s.elementType===h?v:Cn(h,v),rm(r,s,h,v,u);case 3:e:{if(im(s),r===null)throw Error(t(387));h=s.pendingProps,w=s.memoizedState,v=w.element,wp(r,s),Pa(s,h,null,u);var b=s.memoizedState;if(h=b.element,w.isDehydrated)if(w={element:h,isDehydrated:!1,cache:b.cache,pendingSuspenseBoundaries:b.pendingSuspenseBoundaries,transitions:b.transitions},s.updateQueue.baseState=w,s.memoizedState=w,s.flags&256){v=es(Error(t(423)),s),s=sm(r,s,h,u,v);break e}else if(h!==v){v=es(Error(t(424)),s),s=sm(r,s,h,u,v);break e}else for(rn=Sr(s.stateNode.containerInfo.firstChild),nn=s,Qe=!0,kn=null,u=vp(s,null,h,u),s.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling;else{if(Xi(),h===v){s=rr(r,s,u);break e}Bt(r,s,h,u)}s=s.child}return s;case 5:return bp(s),r===null&&qu(s),h=s.type,v=s.pendingProps,w=r!==null?r.memoizedProps:null,b=v.children,Uu(h,v)?b=null:w!==null&&Uu(h,w)&&(s.flags|=32),nm(r,s),Bt(r,s,b,u),s.child;case 6:return r===null&&qu(s),null;case 13:return om(r,s,u);case 4:return nc(s,s.stateNode.containerInfo),h=s.pendingProps,r===null?s.child=Yi(s,null,h,u):Bt(r,s,h,u),s.child;case 11:return h=s.type,v=s.pendingProps,v=s.elementType===h?v:Cn(h,v),Jp(r,s,h,v,u);case 7:return Bt(r,s,s.pendingProps,u),s.child;case 8:return Bt(r,s,s.pendingProps.children,u),s.child;case 12:return Bt(r,s,s.pendingProps.children,u),s.child;case 10:e:{if(h=s.type._context,v=s.pendingProps,w=s.memoizedProps,b=v.value,We(ka,h._currentValue),h._currentValue=b,w!==null)if(bn(w.value,b)){if(w.children===v.children&&!Ht.current){s=rr(r,s,u);break e}}else for(w=s.child,w!==null&&(w.return=s);w!==null;){var M=w.dependencies;if(M!==null){b=w.child;for(var $=M.firstContext;$!==null;){if($.context===h){if(w.tag===1){$=nr(-1,u&-u),$.tag=2;var te=w.updateQueue;if(te!==null){te=te.shared;var se=te.pending;se===null?$.next=$:($.next=se.next,se.next=$),te.pending=$}}w.lanes|=u,$=w.alternate,$!==null&&($.lanes|=u),Zu(w.return,u,s),M.lanes|=u;break}$=$.next}}else if(w.tag===10)b=w.type===s.type?null:w.child;else if(w.tag===18){if(b=w.return,b===null)throw Error(t(341));b.lanes|=u,M=b.alternate,M!==null&&(M.lanes|=u),Zu(b,u,s),b=w.sibling}else b=w.child;if(b!==null)b.return=w;else for(b=w;b!==null;){if(b===s){b=null;break}if(w=b.sibling,w!==null){w.return=b.return,b=w;break}b=b.return}w=b}Bt(r,s,v.children,u),s=s.child}return s;case 9:return v=s.type,h=s.pendingProps.children,Ji(s,u),v=cn(v),h=h(v),s.flags|=1,Bt(r,s,h,u),s.child;case 14:return h=s.type,v=Cn(h,s.pendingProps),v=Cn(h.type,v),Zp(r,s,h,v,u);case 15:return em(r,s,s.type,s.pendingProps,u);case 17:return h=s.type,v=s.pendingProps,v=s.elementType===h?v:Cn(h,v),La(r,s),s.tag=1,Wt(h)?(r=!0,va(s)):r=!1,Ji(s,u),Wp(s,h,v),mc(s,h,v,u),wc(null,s,h,!0,r,u);case 19:return lm(r,s,u);case 22:return tm(r,s,u)}throw Error(t(156,s.tag))};function Im(r,s){return df(r,s)}function Tx(r,s,u,h){this.tag=r,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function fn(r,s,u,h){return new Tx(r,s,u,h)}function Uc(r){return r=r.prototype,!(!r||!r.isReactComponent)}function Dx(r){if(typeof r=="function")return Uc(r)?1:0;if(r!=null){if(r=r.$$typeof,r===B)return 11;if(r===q)return 14}return 2}function Ir(r,s){var u=r.alternate;return u===null?(u=fn(r.tag,s,r.key,r.mode),u.elementType=r.elementType,u.type=r.type,u.stateNode=r.stateNode,u.alternate=r,r.alternate=u):(u.pendingProps=s,u.type=r.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=r.flags&14680064,u.childLanes=r.childLanes,u.lanes=r.lanes,u.child=r.child,u.memoizedProps=r.memoizedProps,u.memoizedState=r.memoizedState,u.updateQueue=r.updateQueue,s=r.dependencies,u.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},u.sibling=r.sibling,u.index=r.index,u.ref=r.ref,u}function Ga(r,s,u,h,v,w){var b=2;if(h=r,typeof r=="function")Uc(r)&&(b=1);else if(typeof r=="string")b=5;else e:switch(r){case V:return di(u.children,v,w,s);case k:b=8,v|=8;break;case _:return r=fn(12,u,s,v|2),r.elementType=_,r.lanes=w,r;case N:return r=fn(13,u,s,v),r.elementType=N,r.lanes=w,r;case L:return r=fn(19,u,s,v),r.elementType=L,r.lanes=w,r;case E:return Ka(u,v,w,s);default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case F:b=10;break e;case z:b=9;break e;case B:b=11;break e;case q:b=14;break e;case D:b=16,h=null;break e}throw Error(t(130,r==null?r:typeof r,""))}return s=fn(b,u,s,v),s.elementType=r,s.type=h,s.lanes=w,s}function di(r,s,u,h){return r=fn(7,r,h,s),r.lanes=u,r}function Ka(r,s,u,h){return r=fn(22,r,h,s),r.elementType=E,r.lanes=u,r.stateNode={isHidden:!1},r}function Bc(r,s,u){return r=fn(6,r,null,s),r.lanes=u,r}function $c(r,s,u){return s=fn(4,r.children!==null?r.children:[],r.key,s),s.lanes=u,s.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},s}function jx(r,s,u,h,v){this.tag=s,this.containerInfo=r,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=pu(0),this.expirationTimes=pu(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=pu(0),this.identifierPrefix=h,this.onRecoverableError=v,this.mutableSourceEagerHydrationData=null}function zc(r,s,u,h,v,w,b,M,$){return r=new jx(r,s,u,M,$),s===1?(s=1,w===!0&&(s|=8)):s=0,w=fn(3,null,null,s),r.current=w,w.stateNode=r,w.memoizedState={element:h,isDehydrated:u,cache:null,transitions:null,pendingSuspenseBoundaries:null},tc(w),r}function Ix(r,s,u){var h=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:T,key:h==null?null:""+h,children:r,containerInfo:s,implementation:u}}function Om(r){if(!r)return kr;r=r._reactInternals;e:{if(Zr(r)!==r||r.tag!==1)throw Error(t(170));var s=r;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(Wt(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(t(171))}if(r.tag===1){var u=r.type;if(Wt(u))return ap(r,u,s)}return s}function Rm(r,s,u,h,v,w,b,M,$){return r=zc(u,h,!0,r,v,w,b,M,$),r.context=Om(null),u=r.current,h=$t(),v=Dr(u),w=nr(h,v),w.callback=s??null,Pr(u,w,v),r.current.lanes=v,Us(r,v,h),qt(r,h),r}function qa(r,s,u,h){var v=s.current,w=$t(),b=Dr(v);return u=Om(u),s.context===null?s.context=u:s.pendingContext=u,s=nr(w,b),s.payload={element:r},h=h===void 0?null:h,h!==null&&(s.callback=h),r=Pr(v,s,b),r!==null&&(En(r,v,b,w),_a(r,v,b)),b}function Xa(r){if(r=r.current,!r.child)return null;switch(r.child.tag){case 5:return r.child.stateNode;default:return r.child.stateNode}}function Lm(r,s){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var u=r.retryLane;r.retryLane=u!==0&&u<s?u:s}}function Vc(r,s){Lm(r,s),(r=r.alternate)&&Lm(r,s)}function Ox(){return null}var Mm=typeof reportError=="function"?reportError:function(r){console.error(r)};function Hc(r){this._internalRoot=r}Ya.prototype.render=Hc.prototype.render=function(r){var s=this._internalRoot;if(s===null)throw Error(t(409));qa(r,s,null,null)},Ya.prototype.unmount=Hc.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var s=r.containerInfo;li(function(){qa(null,r,null,null)}),s[Qn]=null}};function Ya(r){this._internalRoot=r}Ya.prototype.unstable_scheduleHydration=function(r){if(r){var s=wf();r={blockedOn:null,target:r,priority:s};for(var u=0;u<yr.length&&s!==0&&s<yr[u].priority;u++);yr.splice(u,0,r),u===0&&bf(r)}};function Wc(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function Qa(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11&&(r.nodeType!==8||r.nodeValue!==" react-mount-point-unstable "))}function Fm(){}function Rx(r,s,u,h,v){if(v){if(typeof h=="function"){var w=h;h=function(){var te=Xa(b);w.call(te)}}var b=Rm(s,h,r,0,null,!1,!1,"",Fm);return r._reactRootContainer=b,r[Qn]=b.current,Zs(r.nodeType===8?r.parentNode:r),li(),b}for(;v=r.lastChild;)r.removeChild(v);if(typeof h=="function"){var M=h;h=function(){var te=Xa($);M.call(te)}}var $=zc(r,0,!1,null,null,!1,!1,"",Fm);return r._reactRootContainer=$,r[Qn]=$.current,Zs(r.nodeType===8?r.parentNode:r),li(function(){qa(s,$,u,h)}),$}function Ja(r,s,u,h,v){var w=u._reactRootContainer;if(w){var b=w;if(typeof v=="function"){var M=v;v=function(){var $=Xa(b);M.call($)}}qa(s,b,r,v)}else b=Rx(u,s,r,v,h);return Xa(b)}vf=function(r){switch(r.tag){case 3:var s=r.stateNode;if(s.current.memoizedState.isDehydrated){var u=Ns(s.pendingLanes);u!==0&&(mu(s,u|1),qt(s,at()),(Ie&6)===0&&(rs=at()+500,Cr()))}break;case 13:li(function(){var h=tr(r,1);if(h!==null){var v=$t();En(h,r,1,v)}}),Vc(r,1)}},gu=function(r){if(r.tag===13){var s=tr(r,134217728);if(s!==null){var u=$t();En(s,r,134217728,u)}Vc(r,134217728)}},yf=function(r){if(r.tag===13){var s=Dr(r),u=tr(r,s);if(u!==null){var h=$t();En(u,r,s,h)}Vc(r,s)}},wf=function(){return Ne},xf=function(r,s){var u=Ne;try{return Ne=r,s()}finally{Ne=u}},Xn=function(r,s,u){switch(s){case"input":if(Te(r,u),s=u.name,u.type==="radio"&&s!=null){for(u=r;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll("input[name="+JSON.stringify(""+s)+'][type="radio"]'),s=0;s<u.length;s++){var h=u[s];if(h!==r&&h.form===r.form){var v=ma(h);if(!v)throw Error(t(90));Me(h),Te(h,v)}}}break;case"textarea":oe(r,u);break;case"select":s=u.value,s!=null&&Fe(r,!!u.multiple,s,!1)}},Rs=Mc,Rn=li;var Lx={usingClientEntryPoint:!1,Events:[no,Hi,ma,Yn,pr,Mc]},vo={findFiberByHostInstance:ei,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Mx={bundleType:vo.bundleType,version:vo.version,rendererPackageName:vo.rendererPackageName,rendererConfig:vo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:j.ReactCurrentDispatcher,findHostInstanceByFiber:function(r){return r=uf(r),r===null?null:r.stateNode},findFiberByHostInstance:vo.findFiberByHostInstance||Ox,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Za=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Za.isDisabled&&Za.supportsFiber)try{Yo=Za.inject(Mx),Ln=Za}catch{}}return Xt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Lx,Xt.createPortal=function(r,s){var u=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Wc(s))throw Error(t(200));return Ix(r,s,null,u)},Xt.createRoot=function(r,s){if(!Wc(r))throw Error(t(299));var u=!1,h="",v=Mm;return s!=null&&(s.unstable_strictMode===!0&&(u=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onRecoverableError!==void 0&&(v=s.onRecoverableError)),s=zc(r,1,!1,null,null,u,!1,h,v),r[Qn]=s.current,Zs(r.nodeType===8?r.parentNode:r),new Hc(s)},Xt.findDOMNode=function(r){if(r==null)return null;if(r.nodeType===1)return r;var s=r._reactInternals;if(s===void 0)throw typeof r.render=="function"?Error(t(188)):(r=Object.keys(r).join(","),Error(t(268,r)));return r=uf(s),r=r===null?null:r.stateNode,r},Xt.flushSync=function(r){return li(r)},Xt.hydrate=function(r,s,u){if(!Qa(s))throw Error(t(200));return Ja(null,r,s,!0,u)},Xt.hydrateRoot=function(r,s,u){if(!Wc(r))throw Error(t(405));var h=u!=null&&u.hydratedSources||null,v=!1,w="",b=Mm;if(u!=null&&(u.unstable_strictMode===!0&&(v=!0),u.identifierPrefix!==void 0&&(w=u.identifierPrefix),u.onRecoverableError!==void 0&&(b=u.onRecoverableError)),s=Rm(s,null,r,1,u??null,v,!1,w,b),r[Qn]=s.current,Zs(r),h)for(r=0;r<h.length;r++)u=h[r],v=u._getVersion,v=v(u._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[u,v]:s.mutableSourceEagerHydrationData.push(u,v);return new Ya(s)},Xt.render=function(r,s,u){if(!Qa(s))throw Error(t(200));return Ja(null,r,s,!1,u)},Xt.unmountComponentAtNode=function(r){if(!Qa(r))throw Error(t(40));return r._reactRootContainer?(li(function(){Ja(null,null,r,!1,function(){r._reactRootContainer=null,r[Qn]=null})}),!0):!1},Xt.unstable_batchedUpdates=Mc,Xt.unstable_renderSubtreeIntoContainer=function(r,s,u,h){if(!Qa(u))throw Error(t(200));if(r==null||r._reactInternals===void 0)throw Error(t(38));return Ja(r,s,u,!1,h)},Xt.version="18.3.1-next-f1338f8080-20240426",Xt}var Wm;function Wx(){if(Wm)return qc.exports;Wm=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),qc.exports=Hx(),qc.exports}var Gm;function Gx(){if(Gm)return el;Gm=1;var n=Wx();return el.createRoot=n.createRoot,el.hydrateRoot=n.hydrateRoot,el}var Kx=Gx();function qx({translations:n,onToggleLanguage:e,isDarkMode:t,onToggleDarkMode:i}){return O.jsxs("header",{className:"header",children:[O.jsx("div",{className:"header-left",children:O.jsx("h1",{children:n.headerTitle})}),O.jsxs("div",{className:"header-actions",children:[O.jsx("button",{className:"dark-mode-toggle",onClick:i,title:n.darkMode,children:t?"☀️":"🌙"}),O.jsx("button",{className:"lang-toggle",onClick:e,children:n.langBtn})]})]})}var Qc={exports:{}},Jc,Km;function Xx(){if(Km)return Jc;Km=1;var n="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Jc=n,Jc}var Zc,qm;function Yx(){if(qm)return Zc;qm=1;var n=Xx();function e(){}function t(){}return t.resetWarningCache=e,Zc=function(){function i(l,c,d,p,f,m){if(m!==n){var g=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw g.name="Invariant Violation",g}}i.isRequired=i;function o(){return i}var a={array:i,bigint:i,bool:i,func:i,number:i,object:i,string:i,symbol:i,any:i,arrayOf:o,element:i,elementType:i,instanceOf:o,node:i,objectOf:o,oneOf:o,oneOfType:o,shape:o,exact:o,checkPropTypes:t,resetWarningCache:e};return a.PropTypes=a,a},Zc}var Xm;function Qx(){return Xm||(Xm=1,Qc.exports=Yx()()),Qc.exports}var Jx=Qx();const ze=Kl(Jx);function Ii(n,e,t,i){function o(a){return a instanceof t?a:new t(function(l){l(a)})}return new(t||(t=Promise))(function(a,l){function c(f){try{p(i.next(f))}catch(m){l(m)}}function d(f){try{p(i.throw(f))}catch(m){l(m)}}function p(f){f.done?a(f.value):o(f.value).then(c,d)}p((i=i.apply(n,e||[])).next())})}const Zx=new Map([["1km","application/vnd.1000minds.decision-model+xml"],["3dml","text/vnd.in3d.3dml"],["3ds","image/x-3ds"],["3g2","video/3gpp2"],["3gp","video/3gp"],["3gpp","video/3gpp"],["3mf","model/3mf"],["7z","application/x-7z-compressed"],["7zip","application/x-7z-compressed"],["123","application/vnd.lotus-1-2-3"],["aab","application/x-authorware-bin"],["aac","audio/x-acc"],["aam","application/x-authorware-map"],["aas","application/x-authorware-seg"],["abw","application/x-abiword"],["ac","application/vnd.nokia.n-gage.ac+xml"],["ac3","audio/ac3"],["acc","application/vnd.americandynamics.acc"],["ace","application/x-ace-compressed"],["acu","application/vnd.acucobol"],["acutc","application/vnd.acucorp"],["adp","audio/adpcm"],["aep","application/vnd.audiograph"],["afm","application/x-font-type1"],["afp","application/vnd.ibm.modcap"],["ahead","application/vnd.ahead.space"],["ai","application/pdf"],["aif","audio/x-aiff"],["aifc","audio/x-aiff"],["aiff","audio/x-aiff"],["air","application/vnd.adobe.air-application-installer-package+zip"],["ait","application/vnd.dvb.ait"],["ami","application/vnd.amiga.ami"],["amr","audio/amr"],["apk","application/vnd.android.package-archive"],["apng","image/apng"],["appcache","text/cache-manifest"],["application","application/x-ms-application"],["apr","application/vnd.lotus-approach"],["arc","application/x-freearc"],["arj","application/x-arj"],["asc","application/pgp-signature"],["asf","video/x-ms-asf"],["asm","text/x-asm"],["aso","application/vnd.accpac.simply.aso"],["asx","video/x-ms-asf"],["atc","application/vnd.acucorp"],["atom","application/atom+xml"],["atomcat","application/atomcat+xml"],["atomdeleted","application/atomdeleted+xml"],["atomsvc","application/atomsvc+xml"],["atx","application/vnd.antix.game-component"],["au","audio/x-au"],["avi","video/x-msvideo"],["avif","image/avif"],["aw","application/applixware"],["azf","application/vnd.airzip.filesecure.azf"],["azs","application/vnd.airzip.filesecure.azs"],["azv","image/vnd.airzip.accelerator.azv"],["azw","application/vnd.amazon.ebook"],["b16","image/vnd.pco.b16"],["bat","application/x-msdownload"],["bcpio","application/x-bcpio"],["bdf","application/x-font-bdf"],["bdm","application/vnd.syncml.dm+wbxml"],["bdoc","application/x-bdoc"],["bed","application/vnd.realvnc.bed"],["bh2","application/vnd.fujitsu.oasysprs"],["bin","application/octet-stream"],["blb","application/x-blorb"],["blorb","application/x-blorb"],["bmi","application/vnd.bmi"],["bmml","application/vnd.balsamiq.bmml+xml"],["bmp","image/bmp"],["book","application/vnd.framemaker"],["box","application/vnd.previewsystems.box"],["boz","application/x-bzip2"],["bpk","application/octet-stream"],["bpmn","application/octet-stream"],["bsp","model/vnd.valve.source.compiled-map"],["btif","image/prs.btif"],["buffer","application/octet-stream"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["c","text/x-c"],["c4d","application/vnd.clonk.c4group"],["c4f","application/vnd.clonk.c4group"],["c4g","application/vnd.clonk.c4group"],["c4p","application/vnd.clonk.c4group"],["c4u","application/vnd.clonk.c4group"],["c11amc","application/vnd.cluetrust.cartomobile-config"],["c11amz","application/vnd.cluetrust.cartomobile-config-pkg"],["cab","application/vnd.ms-cab-compressed"],["caf","audio/x-caf"],["cap","application/vnd.tcpdump.pcap"],["car","application/vnd.curl.car"],["cat","application/vnd.ms-pki.seccat"],["cb7","application/x-cbr"],["cba","application/x-cbr"],["cbr","application/x-cbr"],["cbt","application/x-cbr"],["cbz","application/x-cbr"],["cc","text/x-c"],["cco","application/x-cocoa"],["cct","application/x-director"],["ccxml","application/ccxml+xml"],["cdbcmsg","application/vnd.contact.cmsg"],["cda","application/x-cdf"],["cdf","application/x-netcdf"],["cdfx","application/cdfx+xml"],["cdkey","application/vnd.mediastation.cdkey"],["cdmia","application/cdmi-capability"],["cdmic","application/cdmi-container"],["cdmid","application/cdmi-domain"],["cdmio","application/cdmi-object"],["cdmiq","application/cdmi-queue"],["cdr","application/cdr"],["cdx","chemical/x-cdx"],["cdxml","application/vnd.chemdraw+xml"],["cdy","application/vnd.cinderella"],["cer","application/pkix-cert"],["cfs","application/x-cfs-compressed"],["cgm","image/cgm"],["chat","application/x-chat"],["chm","application/vnd.ms-htmlhelp"],["chrt","application/vnd.kde.kchart"],["cif","chemical/x-cif"],["cii","application/vnd.anser-web-certificate-issue-initiation"],["cil","application/vnd.ms-artgalry"],["cjs","application/node"],["cla","application/vnd.claymore"],["class","application/octet-stream"],["clkk","application/vnd.crick.clicker.keyboard"],["clkp","application/vnd.crick.clicker.palette"],["clkt","application/vnd.crick.clicker.template"],["clkw","application/vnd.crick.clicker.wordbank"],["clkx","application/vnd.crick.clicker"],["clp","application/x-msclip"],["cmc","application/vnd.cosmocaller"],["cmdf","chemical/x-cmdf"],["cml","chemical/x-cml"],["cmp","application/vnd.yellowriver-custom-menu"],["cmx","image/x-cmx"],["cod","application/vnd.rim.cod"],["coffee","text/coffeescript"],["com","application/x-msdownload"],["conf","text/plain"],["cpio","application/x-cpio"],["cpp","text/x-c"],["cpt","application/mac-compactpro"],["crd","application/x-mscardfile"],["crl","application/pkix-crl"],["crt","application/x-x509-ca-cert"],["crx","application/x-chrome-extension"],["cryptonote","application/vnd.rig.cryptonote"],["csh","application/x-csh"],["csl","application/vnd.citationstyles.style+xml"],["csml","chemical/x-csml"],["csp","application/vnd.commonspace"],["csr","application/octet-stream"],["css","text/css"],["cst","application/x-director"],["csv","text/csv"],["cu","application/cu-seeme"],["curl","text/vnd.curl"],["cww","application/prs.cww"],["cxt","application/x-director"],["cxx","text/x-c"],["dae","model/vnd.collada+xml"],["daf","application/vnd.mobius.daf"],["dart","application/vnd.dart"],["dataless","application/vnd.fdsn.seed"],["davmount","application/davmount+xml"],["dbf","application/vnd.dbf"],["dbk","application/docbook+xml"],["dcr","application/x-director"],["dcurl","text/vnd.curl.dcurl"],["dd2","application/vnd.oma.dd2+xml"],["ddd","application/vnd.fujixerox.ddd"],["ddf","application/vnd.syncml.dmddf+xml"],["dds","image/vnd.ms-dds"],["deb","application/x-debian-package"],["def","text/plain"],["deploy","application/octet-stream"],["der","application/x-x509-ca-cert"],["dfac","application/vnd.dreamfactory"],["dgc","application/x-dgc-compressed"],["dic","text/x-c"],["dir","application/x-director"],["dis","application/vnd.mobius.dis"],["disposition-notification","message/disposition-notification"],["dist","application/octet-stream"],["distz","application/octet-stream"],["djv","image/vnd.djvu"],["djvu","image/vnd.djvu"],["dll","application/octet-stream"],["dmg","application/x-apple-diskimage"],["dmn","application/octet-stream"],["dmp","application/vnd.tcpdump.pcap"],["dms","application/octet-stream"],["dna","application/vnd.dna"],["doc","application/msword"],["docm","application/vnd.ms-word.template.macroEnabled.12"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["dot","application/msword"],["dotm","application/vnd.ms-word.template.macroEnabled.12"],["dotx","application/vnd.openxmlformats-officedocument.wordprocessingml.template"],["dp","application/vnd.osgi.dp"],["dpg","application/vnd.dpgraph"],["dra","audio/vnd.dra"],["drle","image/dicom-rle"],["dsc","text/prs.lines.tag"],["dssc","application/dssc+der"],["dtb","application/x-dtbook+xml"],["dtd","application/xml-dtd"],["dts","audio/vnd.dts"],["dtshd","audio/vnd.dts.hd"],["dump","application/octet-stream"],["dvb","video/vnd.dvb.file"],["dvi","application/x-dvi"],["dwd","application/atsc-dwd+xml"],["dwf","model/vnd.dwf"],["dwg","image/vnd.dwg"],["dxf","image/vnd.dxf"],["dxp","application/vnd.spotfire.dxp"],["dxr","application/x-director"],["ear","application/java-archive"],["ecelp4800","audio/vnd.nuera.ecelp4800"],["ecelp7470","audio/vnd.nuera.ecelp7470"],["ecelp9600","audio/vnd.nuera.ecelp9600"],["ecma","application/ecmascript"],["edm","application/vnd.novadigm.edm"],["edx","application/vnd.novadigm.edx"],["efif","application/vnd.picsel"],["ei6","application/vnd.pg.osasli"],["elc","application/octet-stream"],["emf","image/emf"],["eml","message/rfc822"],["emma","application/emma+xml"],["emotionml","application/emotionml+xml"],["emz","application/x-msmetafile"],["eol","audio/vnd.digital-winds"],["eot","application/vnd.ms-fontobject"],["eps","application/postscript"],["epub","application/epub+zip"],["es","application/ecmascript"],["es3","application/vnd.eszigno3+xml"],["esa","application/vnd.osgi.subsystem"],["esf","application/vnd.epson.esf"],["et3","application/vnd.eszigno3+xml"],["etx","text/x-setext"],["eva","application/x-eva"],["evy","application/x-envoy"],["exe","application/octet-stream"],["exi","application/exi"],["exp","application/express"],["exr","image/aces"],["ext","application/vnd.novadigm.ext"],["ez","application/andrew-inset"],["ez2","application/vnd.ezpix-album"],["ez3","application/vnd.ezpix-package"],["f","text/x-fortran"],["f4v","video/mp4"],["f77","text/x-fortran"],["f90","text/x-fortran"],["fbs","image/vnd.fastbidsheet"],["fcdt","application/vnd.adobe.formscentral.fcdt"],["fcs","application/vnd.isac.fcs"],["fdf","application/vnd.fdf"],["fdt","application/fdt+xml"],["fe_launch","application/vnd.denovo.fcselayout-link"],["fg5","application/vnd.fujitsu.oasysgp"],["fgd","application/x-director"],["fh","image/x-freehand"],["fh4","image/x-freehand"],["fh5","image/x-freehand"],["fh7","image/x-freehand"],["fhc","image/x-freehand"],["fig","application/x-xfig"],["fits","image/fits"],["flac","audio/x-flac"],["fli","video/x-fli"],["flo","application/vnd.micrografx.flo"],["flv","video/x-flv"],["flw","application/vnd.kde.kivio"],["flx","text/vnd.fmi.flexstor"],["fly","text/vnd.fly"],["fm","application/vnd.framemaker"],["fnc","application/vnd.frogans.fnc"],["fo","application/vnd.software602.filler.form+xml"],["for","text/x-fortran"],["fpx","image/vnd.fpx"],["frame","application/vnd.framemaker"],["fsc","application/vnd.fsc.weblaunch"],["fst","image/vnd.fst"],["ftc","application/vnd.fluxtime.clip"],["fti","application/vnd.anser-web-funds-transfer-initiation"],["fvt","video/vnd.fvt"],["fxp","application/vnd.adobe.fxp"],["fxpl","application/vnd.adobe.fxp"],["fzs","application/vnd.fuzzysheet"],["g2w","application/vnd.geoplan"],["g3","image/g3fax"],["g3w","application/vnd.geospace"],["gac","application/vnd.groove-account"],["gam","application/x-tads"],["gbr","application/rpki-ghostbusters"],["gca","application/x-gca-compressed"],["gdl","model/vnd.gdl"],["gdoc","application/vnd.google-apps.document"],["geo","application/vnd.dynageo"],["geojson","application/geo+json"],["gex","application/vnd.geometry-explorer"],["ggb","application/vnd.geogebra.file"],["ggt","application/vnd.geogebra.tool"],["ghf","application/vnd.groove-help"],["gif","image/gif"],["gim","application/vnd.groove-identity-message"],["glb","model/gltf-binary"],["gltf","model/gltf+json"],["gml","application/gml+xml"],["gmx","application/vnd.gmx"],["gnumeric","application/x-gnumeric"],["gpg","application/gpg-keys"],["gph","application/vnd.flographit"],["gpx","application/gpx+xml"],["gqf","application/vnd.grafeq"],["gqs","application/vnd.grafeq"],["gram","application/srgs"],["gramps","application/x-gramps-xml"],["gre","application/vnd.geometry-explorer"],["grv","application/vnd.groove-injector"],["grxml","application/srgs+xml"],["gsf","application/x-font-ghostscript"],["gsheet","application/vnd.google-apps.spreadsheet"],["gslides","application/vnd.google-apps.presentation"],["gtar","application/x-gtar"],["gtm","application/vnd.groove-tool-message"],["gtw","model/vnd.gtw"],["gv","text/vnd.graphviz"],["gxf","application/gxf"],["gxt","application/vnd.geonext"],["gz","application/gzip"],["gzip","application/gzip"],["h","text/x-c"],["h261","video/h261"],["h263","video/h263"],["h264","video/h264"],["hal","application/vnd.hal+xml"],["hbci","application/vnd.hbci"],["hbs","text/x-handlebars-template"],["hdd","application/x-virtualbox-hdd"],["hdf","application/x-hdf"],["heic","image/heic"],["heics","image/heic-sequence"],["heif","image/heif"],["heifs","image/heif-sequence"],["hej2","image/hej2k"],["held","application/atsc-held+xml"],["hh","text/x-c"],["hjson","application/hjson"],["hlp","application/winhlp"],["hpgl","application/vnd.hp-hpgl"],["hpid","application/vnd.hp-hpid"],["hps","application/vnd.hp-hps"],["hqx","application/mac-binhex40"],["hsj2","image/hsj2"],["htc","text/x-component"],["htke","application/vnd.kenameaapp"],["htm","text/html"],["html","text/html"],["hvd","application/vnd.yamaha.hv-dic"],["hvp","application/vnd.yamaha.hv-voice"],["hvs","application/vnd.yamaha.hv-script"],["i2g","application/vnd.intergeo"],["icc","application/vnd.iccprofile"],["ice","x-conference/x-cooltalk"],["icm","application/vnd.iccprofile"],["ico","image/x-icon"],["ics","text/calendar"],["ief","image/ief"],["ifb","text/calendar"],["ifm","application/vnd.shana.informed.formdata"],["iges","model/iges"],["igl","application/vnd.igloader"],["igm","application/vnd.insors.igm"],["igs","model/iges"],["igx","application/vnd.micrografx.igx"],["iif","application/vnd.shana.informed.interchange"],["img","application/octet-stream"],["imp","application/vnd.accpac.simply.imp"],["ims","application/vnd.ms-ims"],["in","text/plain"],["ini","text/plain"],["ink","application/inkml+xml"],["inkml","application/inkml+xml"],["install","application/x-install-instructions"],["iota","application/vnd.astraea-software.iota"],["ipfix","application/ipfix"],["ipk","application/vnd.shana.informed.package"],["irm","application/vnd.ibm.rights-management"],["irp","application/vnd.irepository.package+xml"],["iso","application/x-iso9660-image"],["itp","application/vnd.shana.informed.formtemplate"],["its","application/its+xml"],["ivp","application/vnd.immervision-ivp"],["ivu","application/vnd.immervision-ivu"],["jad","text/vnd.sun.j2me.app-descriptor"],["jade","text/jade"],["jam","application/vnd.jam"],["jar","application/java-archive"],["jardiff","application/x-java-archive-diff"],["java","text/x-java-source"],["jhc","image/jphc"],["jisp","application/vnd.jisp"],["jls","image/jls"],["jlt","application/vnd.hp-jlyt"],["jng","image/x-jng"],["jnlp","application/x-java-jnlp-file"],["joda","application/vnd.joost.joda-archive"],["jp2","image/jp2"],["jpe","image/jpeg"],["jpeg","image/jpeg"],["jpf","image/jpx"],["jpg","image/jpeg"],["jpg2","image/jp2"],["jpgm","video/jpm"],["jpgv","video/jpeg"],["jph","image/jph"],["jpm","video/jpm"],["jpx","image/jpx"],["js","application/javascript"],["json","application/json"],["json5","application/json5"],["jsonld","application/ld+json"],["jsonl","application/jsonl"],["jsonml","application/jsonml+json"],["jsx","text/jsx"],["jxr","image/jxr"],["jxra","image/jxra"],["jxrs","image/jxrs"],["jxs","image/jxs"],["jxsc","image/jxsc"],["jxsi","image/jxsi"],["jxss","image/jxss"],["kar","audio/midi"],["karbon","application/vnd.kde.karbon"],["kdb","application/octet-stream"],["kdbx","application/x-keepass2"],["key","application/x-iwork-keynote-sffkey"],["kfo","application/vnd.kde.kformula"],["kia","application/vnd.kidspiration"],["kml","application/vnd.google-earth.kml+xml"],["kmz","application/vnd.google-earth.kmz"],["kne","application/vnd.kinar"],["knp","application/vnd.kinar"],["kon","application/vnd.kde.kontour"],["kpr","application/vnd.kde.kpresenter"],["kpt","application/vnd.kde.kpresenter"],["kpxx","application/vnd.ds-keypoint"],["ksp","application/vnd.kde.kspread"],["ktr","application/vnd.kahootz"],["ktx","image/ktx"],["ktx2","image/ktx2"],["ktz","application/vnd.kahootz"],["kwd","application/vnd.kde.kword"],["kwt","application/vnd.kde.kword"],["lasxml","application/vnd.las.las+xml"],["latex","application/x-latex"],["lbd","application/vnd.llamagraphics.life-balance.desktop"],["lbe","application/vnd.llamagraphics.life-balance.exchange+xml"],["les","application/vnd.hhe.lesson-player"],["less","text/less"],["lgr","application/lgr+xml"],["lha","application/octet-stream"],["link66","application/vnd.route66.link66+xml"],["list","text/plain"],["list3820","application/vnd.ibm.modcap"],["listafp","application/vnd.ibm.modcap"],["litcoffee","text/coffeescript"],["lnk","application/x-ms-shortcut"],["log","text/plain"],["lostxml","application/lost+xml"],["lrf","application/octet-stream"],["lrm","application/vnd.ms-lrm"],["ltf","application/vnd.frogans.ltf"],["lua","text/x-lua"],["luac","application/x-lua-bytecode"],["lvp","audio/vnd.lucent.voice"],["lwp","application/vnd.lotus-wordpro"],["lzh","application/octet-stream"],["m1v","video/mpeg"],["m2a","audio/mpeg"],["m2v","video/mpeg"],["m3a","audio/mpeg"],["m3u","text/plain"],["m3u8","application/vnd.apple.mpegurl"],["m4a","audio/x-m4a"],["m4p","application/mp4"],["m4s","video/iso.segment"],["m4u","application/vnd.mpegurl"],["m4v","video/x-m4v"],["m13","application/x-msmediaview"],["m14","application/x-msmediaview"],["m21","application/mp21"],["ma","application/mathematica"],["mads","application/mads+xml"],["maei","application/mmt-aei+xml"],["mag","application/vnd.ecowin.chart"],["maker","application/vnd.framemaker"],["man","text/troff"],["manifest","text/cache-manifest"],["map","application/json"],["mar","application/octet-stream"],["markdown","text/markdown"],["mathml","application/mathml+xml"],["mb","application/mathematica"],["mbk","application/vnd.mobius.mbk"],["mbox","application/mbox"],["mc1","application/vnd.medcalcdata"],["mcd","application/vnd.mcd"],["mcurl","text/vnd.curl.mcurl"],["md","text/markdown"],["mdb","application/x-msaccess"],["mdi","image/vnd.ms-modi"],["mdx","text/mdx"],["me","text/troff"],["mesh","model/mesh"],["meta4","application/metalink4+xml"],["metalink","application/metalink+xml"],["mets","application/mets+xml"],["mfm","application/vnd.mfmp"],["mft","application/rpki-manifest"],["mgp","application/vnd.osgeo.mapguide.package"],["mgz","application/vnd.proteus.magazine"],["mid","audio/midi"],["midi","audio/midi"],["mie","application/x-mie"],["mif","application/vnd.mif"],["mime","message/rfc822"],["mj2","video/mj2"],["mjp2","video/mj2"],["mjs","application/javascript"],["mk3d","video/x-matroska"],["mka","audio/x-matroska"],["mkd","text/x-markdown"],["mks","video/x-matroska"],["mkv","video/x-matroska"],["mlp","application/vnd.dolby.mlp"],["mmd","application/vnd.chipnuts.karaoke-mmd"],["mmf","application/vnd.smaf"],["mml","text/mathml"],["mmr","image/vnd.fujixerox.edmics-mmr"],["mng","video/x-mng"],["mny","application/x-msmoney"],["mobi","application/x-mobipocket-ebook"],["mods","application/mods+xml"],["mov","video/quicktime"],["movie","video/x-sgi-movie"],["mp2","audio/mpeg"],["mp2a","audio/mpeg"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mp4a","audio/mp4"],["mp4s","application/mp4"],["mp4v","video/mp4"],["mp21","application/mp21"],["mpc","application/vnd.mophun.certificate"],["mpd","application/dash+xml"],["mpe","video/mpeg"],["mpeg","video/mpeg"],["mpg","video/mpeg"],["mpg4","video/mp4"],["mpga","audio/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["mpm","application/vnd.blueice.multipass"],["mpn","application/vnd.mophun.application"],["mpp","application/vnd.ms-project"],["mpt","application/vnd.ms-project"],["mpy","application/vnd.ibm.minipay"],["mqy","application/vnd.mobius.mqy"],["mrc","application/marc"],["mrcx","application/marcxml+xml"],["ms","text/troff"],["mscml","application/mediaservercontrol+xml"],["mseed","application/vnd.fdsn.mseed"],["mseq","application/vnd.mseq"],["msf","application/vnd.epson.msf"],["msg","application/vnd.ms-outlook"],["msh","model/mesh"],["msi","application/x-msdownload"],["msl","application/vnd.mobius.msl"],["msm","application/octet-stream"],["msp","application/octet-stream"],["msty","application/vnd.muvee.style"],["mtl","model/mtl"],["mts","model/vnd.mts"],["mus","application/vnd.musician"],["musd","application/mmt-usd+xml"],["musicxml","application/vnd.recordare.musicxml+xml"],["mvb","application/x-msmediaview"],["mvt","application/vnd.mapbox-vector-tile"],["mwf","application/vnd.mfer"],["mxf","application/mxf"],["mxl","application/vnd.recordare.musicxml"],["mxmf","audio/mobile-xmf"],["mxml","application/xv+xml"],["mxs","application/vnd.triscape.mxs"],["mxu","video/vnd.mpegurl"],["n-gage","application/vnd.nokia.n-gage.symbian.install"],["n3","text/n3"],["nb","application/mathematica"],["nbp","application/vnd.wolfram.player"],["nc","application/x-netcdf"],["ncx","application/x-dtbncx+xml"],["nfo","text/x-nfo"],["ngdat","application/vnd.nokia.n-gage.data"],["nitf","application/vnd.nitf"],["nlu","application/vnd.neurolanguage.nlu"],["nml","application/vnd.enliven"],["nnd","application/vnd.noblenet-directory"],["nns","application/vnd.noblenet-sealer"],["nnw","application/vnd.noblenet-web"],["npx","image/vnd.net-fpx"],["nq","application/n-quads"],["nsc","application/x-conference"],["nsf","application/vnd.lotus-notes"],["nt","application/n-triples"],["ntf","application/vnd.nitf"],["numbers","application/x-iwork-numbers-sffnumbers"],["nzb","application/x-nzb"],["oa2","application/vnd.fujitsu.oasys2"],["oa3","application/vnd.fujitsu.oasys3"],["oas","application/vnd.fujitsu.oasys"],["obd","application/x-msbinder"],["obgx","application/vnd.openblox.game+xml"],["obj","model/obj"],["oda","application/oda"],["odb","application/vnd.oasis.opendocument.database"],["odc","application/vnd.oasis.opendocument.chart"],["odf","application/vnd.oasis.opendocument.formula"],["odft","application/vnd.oasis.opendocument.formula-template"],["odg","application/vnd.oasis.opendocument.graphics"],["odi","application/vnd.oasis.opendocument.image"],["odm","application/vnd.oasis.opendocument.text-master"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogex","model/vnd.opengex"],["ogg","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["omdoc","application/omdoc+xml"],["onepkg","application/onenote"],["onetmp","application/onenote"],["onetoc","application/onenote"],["onetoc2","application/onenote"],["opf","application/oebps-package+xml"],["opml","text/x-opml"],["oprc","application/vnd.palm"],["opus","audio/ogg"],["org","text/x-org"],["osf","application/vnd.yamaha.openscoreformat"],["osfpvg","application/vnd.yamaha.openscoreformat.osfpvg+xml"],["osm","application/vnd.openstreetmap.data+xml"],["otc","application/vnd.oasis.opendocument.chart-template"],["otf","font/otf"],["otg","application/vnd.oasis.opendocument.graphics-template"],["oth","application/vnd.oasis.opendocument.text-web"],["oti","application/vnd.oasis.opendocument.image-template"],["otp","application/vnd.oasis.opendocument.presentation-template"],["ots","application/vnd.oasis.opendocument.spreadsheet-template"],["ott","application/vnd.oasis.opendocument.text-template"],["ova","application/x-virtualbox-ova"],["ovf","application/x-virtualbox-ovf"],["owl","application/rdf+xml"],["oxps","application/oxps"],["oxt","application/vnd.openofficeorg.extension"],["p","text/x-pascal"],["p7a","application/x-pkcs7-signature"],["p7b","application/x-pkcs7-certificates"],["p7c","application/pkcs7-mime"],["p7m","application/pkcs7-mime"],["p7r","application/x-pkcs7-certreqresp"],["p7s","application/pkcs7-signature"],["p8","application/pkcs8"],["p10","application/x-pkcs10"],["p12","application/x-pkcs12"],["pac","application/x-ns-proxy-autoconfig"],["pages","application/x-iwork-pages-sffpages"],["pas","text/x-pascal"],["paw","application/vnd.pawaafile"],["pbd","application/vnd.powerbuilder6"],["pbm","image/x-portable-bitmap"],["pcap","application/vnd.tcpdump.pcap"],["pcf","application/x-font-pcf"],["pcl","application/vnd.hp-pcl"],["pclxl","application/vnd.hp-pclxl"],["pct","image/x-pict"],["pcurl","application/vnd.curl.pcurl"],["pcx","image/x-pcx"],["pdb","application/x-pilot"],["pde","text/x-processing"],["pdf","application/pdf"],["pem","application/x-x509-user-cert"],["pfa","application/x-font-type1"],["pfb","application/x-font-type1"],["pfm","application/x-font-type1"],["pfr","application/font-tdpfr"],["pfx","application/x-pkcs12"],["pgm","image/x-portable-graymap"],["pgn","application/x-chess-pgn"],["pgp","application/pgp"],["php","application/x-httpd-php"],["php3","application/x-httpd-php"],["php4","application/x-httpd-php"],["phps","application/x-httpd-php-source"],["phtml","application/x-httpd-php"],["pic","image/x-pict"],["pkg","application/octet-stream"],["pki","application/pkixcmp"],["pkipath","application/pkix-pkipath"],["pkpass","application/vnd.apple.pkpass"],["pl","application/x-perl"],["plb","application/vnd.3gpp.pic-bw-large"],["plc","application/vnd.mobius.plc"],["plf","application/vnd.pocketlearn"],["pls","application/pls+xml"],["pm","application/x-perl"],["pml","application/vnd.ctc-posml"],["png","image/png"],["pnm","image/x-portable-anymap"],["portpkg","application/vnd.macports.portpkg"],["pot","application/vnd.ms-powerpoint"],["potm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["potx","application/vnd.openxmlformats-officedocument.presentationml.template"],["ppa","application/vnd.ms-powerpoint"],["ppam","application/vnd.ms-powerpoint.addin.macroEnabled.12"],["ppd","application/vnd.cups-ppd"],["ppm","image/x-portable-pixmap"],["pps","application/vnd.ms-powerpoint"],["ppsm","application/vnd.ms-powerpoint.slideshow.macroEnabled.12"],["ppsx","application/vnd.openxmlformats-officedocument.presentationml.slideshow"],["ppt","application/powerpoint"],["pptm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["pqa","application/vnd.palm"],["prc","application/x-pilot"],["pre","application/vnd.lotus-freelance"],["prf","application/pics-rules"],["provx","application/provenance+xml"],["ps","application/postscript"],["psb","application/vnd.3gpp.pic-bw-small"],["psd","application/x-photoshop"],["psf","application/x-font-linux-psf"],["pskcxml","application/pskc+xml"],["pti","image/prs.pti"],["ptid","application/vnd.pvi.ptid1"],["pub","application/x-mspublisher"],["pvb","application/vnd.3gpp.pic-bw-var"],["pwn","application/vnd.3m.post-it-notes"],["pya","audio/vnd.ms-playready.media.pya"],["pyv","video/vnd.ms-playready.media.pyv"],["qam","application/vnd.epson.quickanime"],["qbo","application/vnd.intu.qbo"],["qfx","application/vnd.intu.qfx"],["qps","application/vnd.publishare-delta-tree"],["qt","video/quicktime"],["qwd","application/vnd.quark.quarkxpress"],["qwt","application/vnd.quark.quarkxpress"],["qxb","application/vnd.quark.quarkxpress"],["qxd","application/vnd.quark.quarkxpress"],["qxl","application/vnd.quark.quarkxpress"],["qxt","application/vnd.quark.quarkxpress"],["ra","audio/x-realaudio"],["ram","audio/x-pn-realaudio"],["raml","application/raml+yaml"],["rapd","application/route-apd+xml"],["rar","application/x-rar"],["ras","image/x-cmu-raster"],["rcprofile","application/vnd.ipunplugged.rcprofile"],["rdf","application/rdf+xml"],["rdz","application/vnd.data-vision.rdz"],["relo","application/p2p-overlay+xml"],["rep","application/vnd.businessobjects"],["res","application/x-dtbresource+xml"],["rgb","image/x-rgb"],["rif","application/reginfo+xml"],["rip","audio/vnd.rip"],["ris","application/x-research-info-systems"],["rl","application/resource-lists+xml"],["rlc","image/vnd.fujixerox.edmics-rlc"],["rld","application/resource-lists-diff+xml"],["rm","audio/x-pn-realaudio"],["rmi","audio/midi"],["rmp","audio/x-pn-realaudio-plugin"],["rms","application/vnd.jcp.javame.midlet-rms"],["rmvb","application/vnd.rn-realmedia-vbr"],["rnc","application/relax-ng-compact-syntax"],["rng","application/xml"],["roa","application/rpki-roa"],["roff","text/troff"],["rp9","application/vnd.cloanto.rp9"],["rpm","audio/x-pn-realaudio-plugin"],["rpss","application/vnd.nokia.radio-presets"],["rpst","application/vnd.nokia.radio-preset"],["rq","application/sparql-query"],["rs","application/rls-services+xml"],["rsa","application/x-pkcs7"],["rsat","application/atsc-rsat+xml"],["rsd","application/rsd+xml"],["rsheet","application/urc-ressheet+xml"],["rss","application/rss+xml"],["rtf","text/rtf"],["rtx","text/richtext"],["run","application/x-makeself"],["rusd","application/route-usd+xml"],["rv","video/vnd.rn-realvideo"],["s","text/x-asm"],["s3m","audio/s3m"],["saf","application/vnd.yamaha.smaf-audio"],["sass","text/x-sass"],["sbml","application/sbml+xml"],["sc","application/vnd.ibm.secure-container"],["scd","application/x-msschedule"],["scm","application/vnd.lotus-screencam"],["scq","application/scvp-cv-request"],["scs","application/scvp-cv-response"],["scss","text/x-scss"],["scurl","text/vnd.curl.scurl"],["sda","application/vnd.stardivision.draw"],["sdc","application/vnd.stardivision.calc"],["sdd","application/vnd.stardivision.impress"],["sdkd","application/vnd.solent.sdkm+xml"],["sdkm","application/vnd.solent.sdkm+xml"],["sdp","application/sdp"],["sdw","application/vnd.stardivision.writer"],["sea","application/octet-stream"],["see","application/vnd.seemail"],["seed","application/vnd.fdsn.seed"],["sema","application/vnd.sema"],["semd","application/vnd.semd"],["semf","application/vnd.semf"],["senmlx","application/senml+xml"],["sensmlx","application/sensml+xml"],["ser","application/java-serialized-object"],["setpay","application/set-payment-initiation"],["setreg","application/set-registration-initiation"],["sfd-hdstx","application/vnd.hydrostatix.sof-data"],["sfs","application/vnd.spotfire.sfs"],["sfv","text/x-sfv"],["sgi","image/sgi"],["sgl","application/vnd.stardivision.writer-global"],["sgm","text/sgml"],["sgml","text/sgml"],["sh","application/x-sh"],["shar","application/x-shar"],["shex","text/shex"],["shf","application/shf+xml"],["shtml","text/html"],["sid","image/x-mrsid-image"],["sieve","application/sieve"],["sig","application/pgp-signature"],["sil","audio/silk"],["silo","model/mesh"],["sis","application/vnd.symbian.install"],["sisx","application/vnd.symbian.install"],["sit","application/x-stuffit"],["sitx","application/x-stuffitx"],["siv","application/sieve"],["skd","application/vnd.koan"],["skm","application/vnd.koan"],["skp","application/vnd.koan"],["skt","application/vnd.koan"],["sldm","application/vnd.ms-powerpoint.slide.macroenabled.12"],["sldx","application/vnd.openxmlformats-officedocument.presentationml.slide"],["slim","text/slim"],["slm","text/slim"],["sls","application/route-s-tsid+xml"],["slt","application/vnd.epson.salt"],["sm","application/vnd.stepmania.stepchart"],["smf","application/vnd.stardivision.math"],["smi","application/smil"],["smil","application/smil"],["smv","video/x-smv"],["smzip","application/vnd.stepmania.package"],["snd","audio/basic"],["snf","application/x-font-snf"],["so","application/octet-stream"],["spc","application/x-pkcs7-certificates"],["spdx","text/spdx"],["spf","application/vnd.yamaha.smaf-phrase"],["spl","application/x-futuresplash"],["spot","text/vnd.in3d.spot"],["spp","application/scvp-vp-response"],["spq","application/scvp-vp-request"],["spx","audio/ogg"],["sql","application/x-sql"],["src","application/x-wais-source"],["srt","application/x-subrip"],["sru","application/sru+xml"],["srx","application/sparql-results+xml"],["ssdl","application/ssdl+xml"],["sse","application/vnd.kodak-descriptor"],["ssf","application/vnd.epson.ssf"],["ssml","application/ssml+xml"],["sst","application/octet-stream"],["st","application/vnd.sailingtracker.track"],["stc","application/vnd.sun.xml.calc.template"],["std","application/vnd.sun.xml.draw.template"],["stf","application/vnd.wt.stf"],["sti","application/vnd.sun.xml.impress.template"],["stk","application/hyperstudio"],["stl","model/stl"],["stpx","model/step+xml"],["stpxz","model/step-xml+zip"],["stpz","model/step+zip"],["str","application/vnd.pg.format"],["stw","application/vnd.sun.xml.writer.template"],["styl","text/stylus"],["stylus","text/stylus"],["sub","text/vnd.dvb.subtitle"],["sus","application/vnd.sus-calendar"],["susp","application/vnd.sus-calendar"],["sv4cpio","application/x-sv4cpio"],["sv4crc","application/x-sv4crc"],["svc","application/vnd.dvb.service"],["svd","application/vnd.svd"],["svg","image/svg+xml"],["svgz","image/svg+xml"],["swa","application/x-director"],["swf","application/x-shockwave-flash"],["swi","application/vnd.aristanetworks.swi"],["swidtag","application/swid+xml"],["sxc","application/vnd.sun.xml.calc"],["sxd","application/vnd.sun.xml.draw"],["sxg","application/vnd.sun.xml.writer.global"],["sxi","application/vnd.sun.xml.impress"],["sxm","application/vnd.sun.xml.math"],["sxw","application/vnd.sun.xml.writer"],["t","text/troff"],["t3","application/x-t3vm-image"],["t38","image/t38"],["taglet","application/vnd.mynfc"],["tao","application/vnd.tao.intent-module-archive"],["tap","image/vnd.tencent.tap"],["tar","application/x-tar"],["tcap","application/vnd.3gpp2.tcap"],["tcl","application/x-tcl"],["td","application/urc-targetdesc+xml"],["teacher","application/vnd.smart.teacher"],["tei","application/tei+xml"],["teicorpus","application/tei+xml"],["tex","application/x-tex"],["texi","application/x-texinfo"],["texinfo","application/x-texinfo"],["text","text/plain"],["tfi","application/thraud+xml"],["tfm","application/x-tex-tfm"],["tfx","image/tiff-fx"],["tga","image/x-tga"],["tgz","application/x-tar"],["thmx","application/vnd.ms-officetheme"],["tif","image/tiff"],["tiff","image/tiff"],["tk","application/x-tcl"],["tmo","application/vnd.tmobile-livetv"],["toml","application/toml"],["torrent","application/x-bittorrent"],["tpl","application/vnd.groove-tool-template"],["tpt","application/vnd.trid.tpt"],["tr","text/troff"],["tra","application/vnd.trueapp"],["trig","application/trig"],["trm","application/x-msterminal"],["ts","video/mp2t"],["tsd","application/timestamped-data"],["tsv","text/tab-separated-values"],["ttc","font/collection"],["ttf","font/ttf"],["ttl","text/turtle"],["ttml","application/ttml+xml"],["twd","application/vnd.simtech-mindmapper"],["twds","application/vnd.simtech-mindmapper"],["txd","application/vnd.genomatix.tuxedo"],["txf","application/vnd.mobius.txf"],["txt","text/plain"],["u8dsn","message/global-delivery-status"],["u8hdr","message/global-headers"],["u8mdn","message/global-disposition-notification"],["u8msg","message/global"],["u32","application/x-authorware-bin"],["ubj","application/ubjson"],["udeb","application/x-debian-package"],["ufd","application/vnd.ufdl"],["ufdl","application/vnd.ufdl"],["ulx","application/x-glulx"],["umj","application/vnd.umajin"],["unityweb","application/vnd.unity"],["uoml","application/vnd.uoml+xml"],["uri","text/uri-list"],["uris","text/uri-list"],["urls","text/uri-list"],["usdz","model/vnd.usdz+zip"],["ustar","application/x-ustar"],["utz","application/vnd.uiq.theme"],["uu","text/x-uuencode"],["uva","audio/vnd.dece.audio"],["uvd","application/vnd.dece.data"],["uvf","application/vnd.dece.data"],["uvg","image/vnd.dece.graphic"],["uvh","video/vnd.dece.hd"],["uvi","image/vnd.dece.graphic"],["uvm","video/vnd.dece.mobile"],["uvp","video/vnd.dece.pd"],["uvs","video/vnd.dece.sd"],["uvt","application/vnd.dece.ttml+xml"],["uvu","video/vnd.uvvu.mp4"],["uvv","video/vnd.dece.video"],["uvva","audio/vnd.dece.audio"],["uvvd","application/vnd.dece.data"],["uvvf","application/vnd.dece.data"],["uvvg","image/vnd.dece.graphic"],["uvvh","video/vnd.dece.hd"],["uvvi","image/vnd.dece.graphic"],["uvvm","video/vnd.dece.mobile"],["uvvp","video/vnd.dece.pd"],["uvvs","video/vnd.dece.sd"],["uvvt","application/vnd.dece.ttml+xml"],["uvvu","video/vnd.uvvu.mp4"],["uvvv","video/vnd.dece.video"],["uvvx","application/vnd.dece.unspecified"],["uvvz","application/vnd.dece.zip"],["uvx","application/vnd.dece.unspecified"],["uvz","application/vnd.dece.zip"],["vbox","application/x-virtualbox-vbox"],["vbox-extpack","application/x-virtualbox-vbox-extpack"],["vcard","text/vcard"],["vcd","application/x-cdlink"],["vcf","text/x-vcard"],["vcg","application/vnd.groove-vcard"],["vcs","text/x-vcalendar"],["vcx","application/vnd.vcx"],["vdi","application/x-virtualbox-vdi"],["vds","model/vnd.sap.vds"],["vhd","application/x-virtualbox-vhd"],["vis","application/vnd.visionary"],["viv","video/vnd.vivo"],["vlc","application/videolan"],["vmdk","application/x-virtualbox-vmdk"],["vob","video/x-ms-vob"],["vor","application/vnd.stardivision.writer"],["vox","application/x-authorware-bin"],["vrml","model/vrml"],["vsd","application/vnd.visio"],["vsf","application/vnd.vsf"],["vss","application/vnd.visio"],["vst","application/vnd.visio"],["vsw","application/vnd.visio"],["vtf","image/vnd.valve.source.texture"],["vtt","text/vtt"],["vtu","model/vnd.vtu"],["vxml","application/voicexml+xml"],["w3d","application/x-director"],["wad","application/x-doom"],["wadl","application/vnd.sun.wadl+xml"],["war","application/java-archive"],["wasm","application/wasm"],["wav","audio/x-wav"],["wax","audio/x-ms-wax"],["wbmp","image/vnd.wap.wbmp"],["wbs","application/vnd.criticaltools.wbs+xml"],["wbxml","application/wbxml"],["wcm","application/vnd.ms-works"],["wdb","application/vnd.ms-works"],["wdp","image/vnd.ms-photo"],["weba","audio/webm"],["webapp","application/x-web-app-manifest+json"],["webm","video/webm"],["webmanifest","application/manifest+json"],["webp","image/webp"],["wg","application/vnd.pmi.widget"],["wgt","application/widget"],["wks","application/vnd.ms-works"],["wm","video/x-ms-wm"],["wma","audio/x-ms-wma"],["wmd","application/x-ms-wmd"],["wmf","image/wmf"],["wml","text/vnd.wap.wml"],["wmlc","application/wmlc"],["wmls","text/vnd.wap.wmlscript"],["wmlsc","application/vnd.wap.wmlscriptc"],["wmv","video/x-ms-wmv"],["wmx","video/x-ms-wmx"],["wmz","application/x-msmetafile"],["woff","font/woff"],["woff2","font/woff2"],["word","application/msword"],["wpd","application/vnd.wordperfect"],["wpl","application/vnd.ms-wpl"],["wps","application/vnd.ms-works"],["wqd","application/vnd.wqd"],["wri","application/x-mswrite"],["wrl","model/vrml"],["wsc","message/vnd.wfa.wsc"],["wsdl","application/wsdl+xml"],["wspolicy","application/wspolicy+xml"],["wtb","application/vnd.webturbo"],["wvx","video/x-ms-wvx"],["x3d","model/x3d+xml"],["x3db","model/x3d+fastinfoset"],["x3dbz","model/x3d+binary"],["x3dv","model/x3d-vrml"],["x3dvz","model/x3d+vrml"],["x3dz","model/x3d+xml"],["x32","application/x-authorware-bin"],["x_b","model/vnd.parasolid.transmit.binary"],["x_t","model/vnd.parasolid.transmit.text"],["xaml","application/xaml+xml"],["xap","application/x-silverlight-app"],["xar","application/vnd.xara"],["xav","application/xcap-att+xml"],["xbap","application/x-ms-xbap"],["xbd","application/vnd.fujixerox.docuworks.binder"],["xbm","image/x-xbitmap"],["xca","application/xcap-caps+xml"],["xcs","application/calendar+xml"],["xdf","application/xcap-diff+xml"],["xdm","application/vnd.syncml.dm+xml"],["xdp","application/vnd.adobe.xdp+xml"],["xdssc","application/dssc+xml"],["xdw","application/vnd.fujixerox.docuworks"],["xel","application/xcap-el+xml"],["xenc","application/xenc+xml"],["xer","application/patch-ops-error+xml"],["xfdf","application/vnd.adobe.xfdf"],["xfdl","application/vnd.xfdl"],["xht","application/xhtml+xml"],["xhtml","application/xhtml+xml"],["xhvml","application/xv+xml"],["xif","image/vnd.xiff"],["xl","application/excel"],["xla","application/vnd.ms-excel"],["xlam","application/vnd.ms-excel.addin.macroEnabled.12"],["xlc","application/vnd.ms-excel"],["xlf","application/xliff+xml"],["xlm","application/vnd.ms-excel"],["xls","application/vnd.ms-excel"],["xlsb","application/vnd.ms-excel.sheet.binary.macroEnabled.12"],["xlsm","application/vnd.ms-excel.sheet.macroEnabled.12"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xlt","application/vnd.ms-excel"],["xltm","application/vnd.ms-excel.template.macroEnabled.12"],["xltx","application/vnd.openxmlformats-officedocument.spreadsheetml.template"],["xlw","application/vnd.ms-excel"],["xm","audio/xm"],["xml","application/xml"],["xns","application/xcap-ns+xml"],["xo","application/vnd.olpc-sugar"],["xop","application/xop+xml"],["xpi","application/x-xpinstall"],["xpl","application/xproc+xml"],["xpm","image/x-xpixmap"],["xpr","application/vnd.is-xpr"],["xps","application/vnd.ms-xpsdocument"],["xpw","application/vnd.intercon.formnet"],["xpx","application/vnd.intercon.formnet"],["xsd","application/xml"],["xsl","application/xml"],["xslt","application/xslt+xml"],["xsm","application/vnd.syncml+xml"],["xspf","application/xspf+xml"],["xul","application/vnd.mozilla.xul+xml"],["xvm","application/xv+xml"],["xvml","application/xv+xml"],["xwd","image/x-xwindowdump"],["xyz","chemical/x-xyz"],["xz","application/x-xz"],["yaml","text/yaml"],["yang","application/yang"],["yin","application/yin+xml"],["yml","text/yaml"],["ymp","text/x-suse-ymp"],["z","application/x-compress"],["z1","application/x-zmachine"],["z2","application/x-zmachine"],["z3","application/x-zmachine"],["z4","application/x-zmachine"],["z5","application/x-zmachine"],["z6","application/x-zmachine"],["z7","application/x-zmachine"],["z8","application/x-zmachine"],["zaz","application/vnd.zzazz.deck+xml"],["zip","application/zip"],["zir","application/vnd.zul"],["zirz","application/vnd.zul"],["zmm","application/vnd.handheld-entertainment+xml"],["zsh","text/x-scriptzsh"]]);function Ps(n,e,t){const i=eS(n),{webkitRelativePath:o}=n,a=typeof e=="string"?e:typeof o=="string"&&o.length>0?o:`./${n.name}`;return typeof i.path!="string"&&Ym(i,"path",a),Ym(i,"relativePath",a),i}function eS(n){const{name:e}=n;if(e&&e.lastIndexOf(".")!==-1&&!n.type){const i=e.split(".").pop().toLowerCase(),o=Zx.get(i);o&&Object.defineProperty(n,"type",{value:o,writable:!1,configurable:!1,enumerable:!0})}return n}function Ym(n,e,t){Object.defineProperty(n,e,{value:t,writable:!1,configurable:!1,enumerable:!0})}const tS=[".DS_Store","Thumbs.db"];function nS(n){return Ii(this,void 0,void 0,function*(){return Sl(n)&&rS(n.dataTransfer)?aS(n.dataTransfer,n.type):iS(n)?sS(n):Array.isArray(n)&&n.every(e=>"getFile"in e&&typeof e.getFile=="function")?oS(n):[]})}function rS(n){return Sl(n)}function iS(n){return Sl(n)&&Sl(n.target)}function Sl(n){return typeof n=="object"&&n!==null}function sS(n){return Id(n.target.files).map(e=>Ps(e))}function oS(n){return Ii(this,void 0,void 0,function*(){return(yield Promise.all(n.map(t=>t.getFile()))).map(t=>Ps(t))})}function aS(n,e){return Ii(this,void 0,void 0,function*(){if(n.items){const t=Id(n.items).filter(o=>o.kind==="file");if(e!=="drop")return t;const i=yield Promise.all(t.map(lS));return Qm(d0(i))}return Qm(Id(n.files).map(t=>Ps(t)))})}function Qm(n){return n.filter(e=>tS.indexOf(e.name)===-1)}function Id(n){if(n===null)return[];const e=[];for(let t=0;t<n.length;t++){const i=n[t];e.push(i)}return e}function lS(n){if(typeof n.webkitGetAsEntry!="function")return Jm(n);const e=n.webkitGetAsEntry();return e&&e.isDirectory?h0(e):Jm(n,e)}function d0(n){return n.reduce((e,t)=>[...e,...Array.isArray(t)?d0(t):[t]],[])}function Jm(n,e){return Ii(this,void 0,void 0,function*(){var t;if(globalThis.isSecureContext&&typeof n.getAsFileSystemHandle=="function"){const a=yield n.getAsFileSystemHandle();if(a===null)throw new Error(`${n} is not a File`);if(a!==void 0){const l=yield a.getFile();return l.handle=a,Ps(l)}}const i=n.getAsFile();if(!i)throw new Error(`${n} is not a File`);return Ps(i,(t=e?.fullPath)!==null&&t!==void 0?t:void 0)})}function uS(n){return Ii(this,void 0,void 0,function*(){return n.isDirectory?h0(n):cS(n)})}function h0(n){const e=n.createReader();return new Promise((t,i)=>{const o=[];function a(){e.readEntries(l=>Ii(this,void 0,void 0,function*(){if(l.length){const c=Promise.all(l.map(uS));o.push(c),a()}else try{const c=yield Promise.all(o);t(c)}catch(c){i(c)}}),l=>{i(l)})}a()})}function cS(n){return Ii(this,void 0,void 0,function*(){return new Promise((e,t)=>{n.file(i=>{const o=Ps(i,n.fullPath);e(o)},i=>{t(i)})})})}var tl={},Zm;function dS(){return Zm||(Zm=1,tl.__esModule=!0,tl.default=function(n,e){if(n&&e){var t=Array.isArray(e)?e:e.split(",");if(t.length===0)return!0;var i=n.name||"",o=(n.type||"").toLowerCase(),a=o.replace(/\/.*$/,"");return t.some(function(l){var c=l.trim().toLowerCase();return c.charAt(0)==="."?i.toLowerCase().endsWith(c):c.endsWith("/*")?a===c.replace(/\/.*$/,""):o===c})}return!0}),tl}var hS=dS();const ed=Kl(hS);function eg(n){return mS(n)||pS(n)||p0(n)||fS()}function fS(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pS(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function mS(n){if(Array.isArray(n))return Od(n)}function tg(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(n,o).enumerable})),t.push.apply(t,i)}return t}function ng(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?tg(Object(t),!0).forEach(function(i){f0(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):tg(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function f0(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Lo(n,e){return yS(n)||vS(n,e)||p0(n,e)||gS()}function gS(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function p0(n,e){if(n){if(typeof n=="string")return Od(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Od(n,e)}}function Od(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,i=new Array(e);t<e;t++)i[t]=n[t];return i}function vS(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var i=[],o=!0,a=!1,l,c;try{for(t=t.call(n);!(o=(l=t.next()).done)&&(i.push(l.value),!(e&&i.length===e));o=!0);}catch(d){a=!0,c=d}finally{try{!o&&t.return!=null&&t.return()}finally{if(a)throw c}}return i}}function yS(n){if(Array.isArray(n))return n}var wS=typeof ed=="function"?ed:ed.default,xS="file-invalid-type",SS="file-too-large",bS="file-too-small",kS="too-many-files",CS=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",t=e.split(","),i=t.length>1?"one of ".concat(t.join(", ")):t[0];return{code:xS,message:"File type must be ".concat(i)}},rg=function(e){return{code:SS,message:"File is larger than ".concat(e," ").concat(e===1?"byte":"bytes")}},ig=function(e){return{code:bS,message:"File is smaller than ".concat(e," ").concat(e===1?"byte":"bytes")}},_S={code:kS,message:"Too many files"};function m0(n,e){var t=n.type==="application/x-moz-file"||wS(n,e);return[t,t?null:CS(e)]}function g0(n,e,t){if(wi(n.size))if(wi(e)&&wi(t)){if(n.size>t)return[!1,rg(t)];if(n.size<e)return[!1,ig(e)]}else{if(wi(e)&&n.size<e)return[!1,ig(e)];if(wi(t)&&n.size>t)return[!1,rg(t)]}return[!0,null]}function wi(n){return n!=null}function PS(n){var e=n.files,t=n.accept,i=n.minSize,o=n.maxSize,a=n.multiple,l=n.maxFiles,c=n.validator;return!a&&e.length>1||a&&l>=1&&e.length>l?!1:e.every(function(d){var p=m0(d,t),f=Lo(p,1),m=f[0],g=g0(d,i,o),y=Lo(g,1),x=y[0],S=c?c(d):null;return m&&x&&!S})}function bl(n){return typeof n.isPropagationStopped=="function"?n.isPropagationStopped():typeof n.cancelBubble<"u"?n.cancelBubble:!1}function nl(n){return n.dataTransfer?Array.prototype.some.call(n.dataTransfer.types,function(e){return e==="Files"||e==="application/x-moz-file"}):!!n.target&&!!n.target.files}function sg(n){n.preventDefault()}function ES(n){return n.indexOf("MSIE")!==-1||n.indexOf("Trident/")!==-1}function AS(n){return n.indexOf("Edge/")!==-1}function TS(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window.navigator.userAgent;return ES(n)||AS(n)}function Bn(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return function(i){for(var o=arguments.length,a=new Array(o>1?o-1:0),l=1;l<o;l++)a[l-1]=arguments[l];return e.some(function(c){return!bl(i)&&c&&c.apply(void 0,[i].concat(a)),bl(i)})}}function DS(){return"showOpenFilePicker"in window}function jS(n){if(wi(n)){var e=Object.entries(n).filter(function(t){var i=Lo(t,2),o=i[0],a=i[1],l=!0;return v0(o)||(console.warn('Skipped "'.concat(o,'" because it is not a valid MIME type. Check https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types/Common_types for a list of valid MIME types.')),l=!1),(!Array.isArray(a)||!a.every(y0))&&(console.warn('Skipped "'.concat(o,'" because an invalid file extension was provided.')),l=!1),l}).reduce(function(t,i){var o=Lo(i,2),a=o[0],l=o[1];return ng(ng({},t),{},f0({},a,l))},{});return[{description:"Files",accept:e}]}return n}function IS(n){if(wi(n))return Object.entries(n).reduce(function(e,t){var i=Lo(t,2),o=i[0],a=i[1];return[].concat(eg(e),[o],eg(a))},[]).filter(function(e){return v0(e)||y0(e)}).join(",")}function OS(n){return n instanceof DOMException&&(n.name==="AbortError"||n.code===n.ABORT_ERR)}function RS(n){return n instanceof DOMException&&(n.name==="SecurityError"||n.code===n.SECURITY_ERR)}function v0(n){return n==="audio/*"||n==="video/*"||n==="image/*"||n==="text/*"||n==="application/*"||/\w+\/[-+.\w]+/g.test(n)}function y0(n){return/^.*\.[\w]+$/.test(n)}var LS=["children"],MS=["open"],FS=["refKey","role","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"],NS=["refKey","onChange","onClick"];function US(n){return zS(n)||$S(n)||w0(n)||BS()}function BS(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $S(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function zS(n){if(Array.isArray(n))return Rd(n)}function td(n,e){return WS(n)||HS(n,e)||w0(n,e)||VS()}function VS(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function w0(n,e){if(n){if(typeof n=="string")return Rd(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Rd(n,e)}}function Rd(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,i=new Array(e);t<e;t++)i[t]=n[t];return i}function HS(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var i=[],o=!0,a=!1,l,c;try{for(t=t.call(n);!(o=(l=t.next()).done)&&(i.push(l.value),!(e&&i.length===e));o=!0);}catch(d){a=!0,c=d}finally{try{!o&&t.return!=null&&t.return()}finally{if(a)throw c}}return i}}function WS(n){if(Array.isArray(n))return n}function og(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(n,o).enumerable})),t.push.apply(t,i)}return t}function tt(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?og(Object(t),!0).forEach(function(i){Ld(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):og(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function Ld(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function kl(n,e){if(n==null)return{};var t=GS(n,e),i,o;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);for(o=0;o<a.length;o++)i=a[o],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(n,i)&&(t[i]=n[i])}return t}function GS(n,e){if(n==null)return{};var t={},i=Object.keys(n),o,a;for(a=0;a<i.length;a++)o=i[a],!(e.indexOf(o)>=0)&&(t[o]=n[o]);return t}var xh=J.forwardRef(function(n,e){var t=n.children,i=kl(n,LS),o=S0(i),a=o.open,l=kl(o,MS);return J.useImperativeHandle(e,function(){return{open:a}},[a]),je.createElement(J.Fragment,null,t(tt(tt({},l),{},{open:a})))});xh.displayName="Dropzone";var x0={disabled:!1,getFilesFromEvent:nS,maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null,useFsAccessApi:!1,autoFocus:!1};xh.defaultProps=x0;xh.propTypes={children:ze.func,accept:ze.objectOf(ze.arrayOf(ze.string)),multiple:ze.bool,preventDropOnDocument:ze.bool,noClick:ze.bool,noKeyboard:ze.bool,noDrag:ze.bool,noDragEventsBubbling:ze.bool,minSize:ze.number,maxSize:ze.number,maxFiles:ze.number,disabled:ze.bool,getFilesFromEvent:ze.func,onFileDialogCancel:ze.func,onFileDialogOpen:ze.func,useFsAccessApi:ze.bool,autoFocus:ze.bool,onDragEnter:ze.func,onDragLeave:ze.func,onDragOver:ze.func,onDrop:ze.func,onDropAccepted:ze.func,onDropRejected:ze.func,onError:ze.func,validator:ze.func};var Md={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,acceptedFiles:[],fileRejections:[]};function S0(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=tt(tt({},x0),n),t=e.accept,i=e.disabled,o=e.getFilesFromEvent,a=e.maxSize,l=e.minSize,c=e.multiple,d=e.maxFiles,p=e.onDragEnter,f=e.onDragLeave,m=e.onDragOver,g=e.onDrop,y=e.onDropAccepted,x=e.onDropRejected,S=e.onFileDialogCancel,C=e.onFileDialogOpen,P=e.useFsAccessApi,I=e.autoFocus,A=e.preventDropOnDocument,j=e.noClick,H=e.noKeyboard,T=e.noDrag,V=e.noDragEventsBubbling,k=e.onError,_=e.validator,F=J.useMemo(function(){return IS(t)},[t]),z=J.useMemo(function(){return jS(t)},[t]),B=J.useMemo(function(){return typeof C=="function"?C:ag},[C]),N=J.useMemo(function(){return typeof S=="function"?S:ag},[S]),L=J.useRef(null),q=J.useRef(null),D=J.useReducer(KS,Md),E=td(D,2),X=E[0],U=E[1],K=X.isFocused,R=X.isFileDialogActive,W=J.useRef(typeof window<"u"&&window.isSecureContext&&P&&DS()),ne=function(){!W.current&&R&&setTimeout(function(){if(q.current){var he=q.current.files;he.length||(U({type:"closeDialog"}),N())}},300)};J.useEffect(function(){return window.addEventListener("focus",ne,!1),function(){window.removeEventListener("focus",ne,!1)}},[q,R,N,W]);var Z=J.useRef([]),Y=function(he){L.current&&L.current.contains(he.target)||(he.preventDefault(),Z.current=[])};J.useEffect(function(){return A&&(document.addEventListener("dragover",sg,!1),document.addEventListener("drop",Y,!1)),function(){A&&(document.removeEventListener("dragover",sg),document.removeEventListener("drop",Y))}},[L,A]),J.useEffect(function(){return!i&&I&&L.current&&L.current.focus(),function(){}},[L,I,i]);var ie=J.useCallback(function(oe){k?k(oe):console.error(oe)},[k]),ve=J.useCallback(function(oe){oe.preventDefault(),oe.persist(),He(oe),Z.current=[].concat(US(Z.current),[oe.target]),nl(oe)&&Promise.resolve(o(oe)).then(function(he){if(!(bl(oe)&&!V)){var Re=he.length,$e=Re>0&&PS({files:he,accept:F,minSize:l,maxSize:a,multiple:c,maxFiles:d,validator:_}),De=Re>0&&!$e;U({isDragAccept:$e,isDragReject:De,isDragActive:!0,type:"setDraggedFiles"}),p&&p(oe)}}).catch(function(he){return ie(he)})},[o,p,ie,V,F,l,a,c,d,_]),de=J.useCallback(function(oe){oe.preventDefault(),oe.persist(),He(oe);var he=nl(oe);if(he&&oe.dataTransfer)try{oe.dataTransfer.dropEffect="copy"}catch{}return he&&m&&m(oe),!1},[m,V]),fe=J.useCallback(function(oe){oe.preventDefault(),oe.persist(),He(oe);var he=Z.current.filter(function($e){return L.current&&L.current.contains($e)}),Re=he.indexOf(oe.target);Re!==-1&&he.splice(Re,1),Z.current=he,!(he.length>0)&&(U({type:"setDraggedFiles",isDragActive:!1,isDragAccept:!1,isDragReject:!1}),nl(oe)&&f&&f(oe))},[L,f,V]),xe=J.useCallback(function(oe,he){var Re=[],$e=[];oe.forEach(function(De){var jt=m0(De,F),Be=td(jt,2),ot=Be[0],xt=Be[1],It=g0(De,l,a),St=td(It,2),en=St[0],vn=St[1],qn=_?_(De):null;if(ot&&en&&!qn)Re.push(De);else{var yn=[xt,vn];qn&&(yn=yn.concat(qn)),$e.push({file:De,errors:yn.filter(function(hr){return hr})})}}),(!c&&Re.length>1||c&&d>=1&&Re.length>d)&&(Re.forEach(function(De){$e.push({file:De,errors:[_S]})}),Re.splice(0)),U({acceptedFiles:Re,fileRejections:$e,isDragReject:$e.length>0,type:"setFiles"}),g&&g(Re,$e,he),$e.length>0&&x&&x($e,he),Re.length>0&&y&&y(Re,he)},[U,c,F,l,a,d,g,y,x,_]),Pe=J.useCallback(function(oe){oe.preventDefault(),oe.persist(),He(oe),Z.current=[],nl(oe)&&Promise.resolve(o(oe)).then(function(he){bl(oe)&&!V||xe(he,oe)}).catch(function(he){return ie(he)}),U({type:"reset"})},[o,xe,ie,V]),Me=J.useCallback(function(){if(W.current){U({type:"openDialog"}),B();var oe={multiple:c,types:z};window.showOpenFilePicker(oe).then(function(he){return o(he)}).then(function(he){xe(he,null),U({type:"closeDialog"})}).catch(function(he){OS(he)?(N(he),U({type:"closeDialog"})):RS(he)?(W.current=!1,q.current?(q.current.value=null,q.current.click()):ie(new Error("Cannot open the file picker because the https://developer.mozilla.org/en-US/docs/Web/API/File_System_Access_API is not supported and no <input> was provided."))):ie(he)});return}q.current&&(U({type:"openDialog"}),B(),q.current.value=null,q.current.click())},[U,B,N,P,xe,ie,z,c]),Nt=J.useCallback(function(oe){!L.current||!L.current.isEqualNode(oe.target)||(oe.key===" "||oe.key==="Enter"||oe.keyCode===32||oe.keyCode===13)&&(oe.preventDefault(),Me())},[L,Me]),Et=J.useCallback(function(){U({type:"focus"})},[]),Ue=J.useCallback(function(){U({type:"blur"})},[]),rt=J.useCallback(function(){j||(TS()?setTimeout(Me,0):Me())},[j,Me]),Te=function(he){return i?null:he},Oe=function(he){return H?null:Te(he)},Ve=function(he){return T?null:Te(he)},He=function(he){V&&he.stopPropagation()},Fe=J.useMemo(function(){return function(){var oe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},he=oe.refKey,Re=he===void 0?"ref":he,$e=oe.role,De=oe.onKeyDown,jt=oe.onFocus,Be=oe.onBlur,ot=oe.onClick,xt=oe.onDragEnter,It=oe.onDragOver,St=oe.onDragLeave,en=oe.onDrop,vn=kl(oe,FS);return tt(tt(Ld({onKeyDown:Oe(Bn(De,Nt)),onFocus:Oe(Bn(jt,Et)),onBlur:Oe(Bn(Be,Ue)),onClick:Te(Bn(ot,rt)),onDragEnter:Ve(Bn(xt,ve)),onDragOver:Ve(Bn(It,de)),onDragLeave:Ve(Bn(St,fe)),onDrop:Ve(Bn(en,Pe)),role:typeof $e=="string"&&$e!==""?$e:"presentation"},Re,L),!i&&!H?{tabIndex:0}:{}),vn)}},[L,Nt,Et,Ue,rt,ve,de,fe,Pe,H,T,i]),gt=J.useCallback(function(oe){oe.stopPropagation()},[]),qe=J.useMemo(function(){return function(){var oe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},he=oe.refKey,Re=he===void 0?"ref":he,$e=oe.onChange,De=oe.onClick,jt=kl(oe,NS),Be=Ld({accept:F,multiple:c,type:"file",style:{border:0,clip:"rect(0, 0, 0, 0)",clipPath:"inset(50%)",height:"1px",margin:"0 -1px -1px 0",overflow:"hidden",padding:0,position:"absolute",width:"1px",whiteSpace:"nowrap"},onChange:Te(Bn($e,Pe)),onClick:Te(Bn(De,gt)),tabIndex:-1},Re,q);return tt(tt({},Be),jt)}},[q,t,c,Pe,i]);return tt(tt({},X),{},{isFocused:K&&!i,getRootProps:Fe,getInputProps:qe,rootRef:L,inputRef:q,open:Te(Me)})}function KS(n,e){switch(e.type){case"focus":return tt(tt({},n),{},{isFocused:!0});case"blur":return tt(tt({},n),{},{isFocused:!1});case"openDialog":return tt(tt({},Md),{},{isFileDialogActive:!0});case"closeDialog":return tt(tt({},n),{},{isFileDialogActive:!1});case"setDraggedFiles":return tt(tt({},n),{},{isDragActive:e.isDragActive,isDragAccept:e.isDragAccept,isDragReject:e.isDragReject});case"setFiles":return tt(tt({},n),{},{acceptedFiles:e.acceptedFiles,fileRejections:e.fileRejections,isDragReject:e.isDragReject});case"reset":return tt({},Md);default:return n}}function ag(){}const qS={en:{headerTitle:"Photo.Memories",langBtn:"日本語",addPhotoTitle:"Add New Photo",titleLabel:"Title",photoLabel:"Photo",chooseFileBtn:"Choose File",descLabel:"Description",publishBtn:"Publish",deleteBtn:"Delete",emptyText:"No photos yet. Check back soon!",adminPanelTitle:"Admin Access",passwordLabel:"Password",loginBtn:"Login",adminStatusText:"Logged in as Admin",logoutBtn:"Logout",wrongPassword:"Incorrect password",search:"Search photos...",filter:"Filter",sortBy:"Sort By",categories:"Categories",tags:"Tags",allCategories:"All Categories",featured:"Featured",recent:"Recent",popular:"Popular",likes:"Likes",views:"Views",comments:"Comments",addComment:"Add a comment...",noComments:"No comments yet",relatedPhotos:"Related Photos",collections:"Collections",analytics:"Analytics",dragDropText:"Drag and drop images here, or click to select",uploadMultiple:"Upload Multiple",editImage:"Edit Image",crop:"Crop",filters:"Filters",saveDraft:"Save as Draft",darkMode:"Dark Mode",exportData:"Export Data",viewFullscreen:"View Fullscreen",downloadImage:"Download",sharePhoto:"Share",nextPhoto:"Next",prevPhoto:"Previous"},ja:{headerTitle:"Photo.Memories",langBtn:"English",addPhotoTitle:"新しい写真を追加",titleLabel:"タイトル",photoLabel:"写真",chooseFileBtn:"ファイルを選択",descLabel:"説明",publishBtn:"公開",deleteBtn:"削除",emptyText:"まだ写真がありません。近日公開予定！",adminPanelTitle:"管理者アクセス",passwordLabel:"パスワード",loginBtn:"ログイン",adminStatusText:"管理者としてログイン中",logoutBtn:"ログアウト",wrongPassword:"パスワードが違います",search:"写真を検索...",filter:"フィルター",sortBy:"並び替え",categories:"カテゴリー",tags:"タグ",allCategories:"すべてのカテゴリー",featured:"注目",recent:"最新",popular:"人気",likes:"いいね",views:"閲覧数",comments:"コメント",addComment:"コメントを追加...",noComments:"コメントはまだありません",relatedPhotos:"関連写真",collections:"コレクション",analytics:"分析",dragDropText:"ここに画像をドラッグ&ドロップ、またはクリックして選択",uploadMultiple:"複数アップロード",editImage:"画像を編集",crop:"クロップ",filters:"フィルター",saveDraft:"下書きとして保存",darkMode:"ダークモード",exportData:"データをエクスポート",viewFullscreen:"全画面表示",downloadImage:"ダウンロード",sharePhoto:"共有",nextPhoto:"次へ",prevPhoto:"前へ"}},XS="Meow12354.",b0=["Landscape","Portrait","Street","Nature","Architecture","Abstract","Wildlife","Macro","Black & White","Other"];var YS=Object.defineProperty,QS=(n,e,t)=>e in n?YS(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,Je=(n,e,t)=>QS(n,typeof e!="symbol"?e+"":e,t);const Cl={x:0,y:0,width:0,height:0,unit:"px"},ss=(n,e,t)=>Math.min(Math.max(n,e),t),JS=(...n)=>n.filter(e=>e&&typeof e=="string").join(" "),lg=(n,e)=>n===e||n.width===e.width&&n.height===e.height&&n.x===e.x&&n.y===e.y&&n.unit===e.unit;function os(n,e,t){return n.unit==="%"?{...Cl,...n,unit:"%"}:{unit:"%",x:n.x?n.x/e*100:0,y:n.y?n.y/t*100:0,width:n.width?n.width/e*100:0,height:n.height?n.height/t*100:0}}function Rr(n,e,t){return n.unit?n.unit==="px"?{...Cl,...n,unit:"px"}:{unit:"px",x:n.x?n.x*e/100:0,y:n.y?n.y*t/100:0,width:n.width?n.width*e/100:0,height:n.height?n.height*t/100:0}:{...Cl,...n,unit:"px"}}function ug(n,e,t,i,o,a=0,l=0,c=i,d=o){const p={...n};let f=Math.min(a,i),m=Math.min(l,o),g=Math.min(c,i),y=Math.min(d,o);e&&(e>1?(f=l?l*e:f,m=f/e,g=c*e):(m=a?a/e:m,f=m*e,y=d/e)),p.y<0&&(p.height=Math.max(p.height+p.y,m),p.y=0),p.x<0&&(p.width=Math.max(p.width+p.x,f),p.x=0);const x=i-(p.x+p.width);x<0&&(p.x=Math.min(p.x,i-f),p.width+=x);const S=o-(p.y+p.height);if(S<0&&(p.y=Math.min(p.y,o-m),p.height+=S),p.width<f&&((t==="sw"||t=="nw")&&(p.x-=f-p.width),p.width=f),p.height<m&&((t==="nw"||t=="ne")&&(p.y-=m-p.height),p.height=m),p.width>g&&((t==="sw"||t=="nw")&&(p.x-=g-p.width),p.width=g),p.height>y&&((t==="nw"||t=="ne")&&(p.y-=y-p.height),p.height=y),e){const C=p.width/p.height;if(C<e){const P=Math.max(p.width/e,m);(t==="nw"||t=="ne")&&(p.y-=P-p.height),p.height=P}else if(C>e){const P=Math.max(p.height*e,f);(t==="sw"||t=="nw")&&(p.x-=P-p.width),p.width=P}}return p}function ZS(n,e,t,i){const o={...n};return e==="ArrowLeft"?i==="nw"?(o.x-=t,o.y-=t,o.width+=t,o.height+=t):i==="w"?(o.x-=t,o.width+=t):i==="sw"?(o.x-=t,o.width+=t,o.height+=t):i==="ne"?(o.y+=t,o.width-=t,o.height-=t):i==="e"?o.width-=t:i==="se"&&(o.width-=t,o.height-=t):e==="ArrowRight"&&(i==="nw"?(o.x+=t,o.y+=t,o.width-=t,o.height-=t):i==="w"?(o.x+=t,o.width-=t):i==="sw"?(o.x+=t,o.width-=t,o.height-=t):i==="ne"?(o.y-=t,o.width+=t,o.height+=t):i==="e"?o.width+=t:i==="se"&&(o.width+=t,o.height+=t)),e==="ArrowUp"?i==="nw"?(o.x-=t,o.y-=t,o.width+=t,o.height+=t):i==="n"?(o.y-=t,o.height+=t):i==="ne"?(o.y-=t,o.width+=t,o.height+=t):i==="sw"?(o.x+=t,o.width-=t,o.height-=t):i==="s"?o.height-=t:i==="se"&&(o.width-=t,o.height-=t):e==="ArrowDown"&&(i==="nw"?(o.x+=t,o.y+=t,o.width-=t,o.height-=t):i==="n"?(o.y+=t,o.height-=t):i==="ne"?(o.y+=t,o.width-=t,o.height-=t):i==="sw"?(o.x-=t,o.width+=t,o.height+=t):i==="s"?o.height+=t:i==="se"&&(o.width+=t,o.height+=t)),o}const as={capture:!0,passive:!1};let eb=0;const Mr=class An extends J.PureComponent{constructor(){super(...arguments),Je(this,"docMoveBound",!1),Je(this,"mouseDownOnCrop",!1),Je(this,"dragStarted",!1),Je(this,"evData",{startClientX:0,startClientY:0,startCropX:0,startCropY:0,clientX:0,clientY:0,isResize:!0}),Je(this,"componentRef",J.createRef()),Je(this,"mediaRef",J.createRef()),Je(this,"resizeObserver"),Je(this,"initChangeCalled",!1),Je(this,"instanceId",`rc-${eb++}`),Je(this,"state",{cropIsActive:!1,newCropIsBeingDrawn:!1}),Je(this,"onCropPointerDown",e=>{const{crop:t,disabled:i}=this.props,o=this.getBox();if(!t)return;const a=Rr(t,o.width,o.height);if(i)return;e.cancelable&&e.preventDefault(),this.bindDocMove(),this.componentRef.current.focus({preventScroll:!0});const l=e.target.dataset.ord,c=!!l;let d=e.clientX,p=e.clientY,f=a.x,m=a.y;if(l){const g=e.clientX-o.x,y=e.clientY-o.y;let x=0,S=0;l==="ne"||l=="e"?(x=g-(a.x+a.width),S=y-a.y,f=a.x,m=a.y+a.height):l==="se"||l==="s"?(x=g-(a.x+a.width),S=y-(a.y+a.height),f=a.x,m=a.y):l==="sw"||l=="w"?(x=g-a.x,S=y-(a.y+a.height),f=a.x+a.width,m=a.y):(l==="nw"||l=="n")&&(x=g-a.x,S=y-a.y,f=a.x+a.width,m=a.y+a.height),d=f+o.x+x,p=m+o.y+S}this.evData={startClientX:d,startClientY:p,startCropX:f,startCropY:m,clientX:e.clientX,clientY:e.clientY,isResize:c,ord:l},this.mouseDownOnCrop=!0,this.setState({cropIsActive:!0})}),Je(this,"onComponentPointerDown",e=>{const{crop:t,disabled:i,locked:o,keepSelection:a,onChange:l}=this.props,c=this.getBox();if(i||o||a&&t)return;e.cancelable&&e.preventDefault(),this.bindDocMove(),this.componentRef.current.focus({preventScroll:!0});const d=e.clientX-c.x,p=e.clientY-c.y,f={unit:"px",x:d,y:p,width:0,height:0};this.evData={startClientX:e.clientX,startClientY:e.clientY,startCropX:d,startCropY:p,clientX:e.clientX,clientY:e.clientY,isResize:!0},this.mouseDownOnCrop=!0,l(Rr(f,c.width,c.height),os(f,c.width,c.height)),this.setState({cropIsActive:!0,newCropIsBeingDrawn:!0})}),Je(this,"onDocPointerMove",e=>{const{crop:t,disabled:i,onChange:o,onDragStart:a}=this.props,l=this.getBox();if(i||!t||!this.mouseDownOnCrop)return;e.cancelable&&e.preventDefault(),this.dragStarted||(this.dragStarted=!0,a&&a(e));const{evData:c}=this;c.clientX=e.clientX,c.clientY=e.clientY;let d;c.isResize?d=this.resizeCrop():d=this.dragCrop(),lg(t,d)||o(Rr(d,l.width,l.height),os(d,l.width,l.height))}),Je(this,"onComponentKeyDown",e=>{const{crop:t,disabled:i,onChange:o,onComplete:a}=this.props;if(i)return;const l=e.key;let c=!1;if(!t)return;const d=this.getBox(),p=this.makePixelCrop(d),f=(navigator.platform.match("Mac")?e.metaKey:e.ctrlKey)?An.nudgeStepLarge:e.shiftKey?An.nudgeStepMedium:An.nudgeStep;if(l==="ArrowLeft"?(p.x-=f,c=!0):l==="ArrowRight"?(p.x+=f,c=!0):l==="ArrowUp"?(p.y-=f,c=!0):l==="ArrowDown"&&(p.y+=f,c=!0),c){e.cancelable&&e.preventDefault(),p.x=ss(p.x,0,d.width-p.width),p.y=ss(p.y,0,d.height-p.height);const m=Rr(p,d.width,d.height),g=os(p,d.width,d.height);o(m,g),a&&a(m,g)}}),Je(this,"onHandlerKeyDown",(e,t)=>{const{aspect:i=0,crop:o,disabled:a,minWidth:l=0,minHeight:c=0,maxWidth:d,maxHeight:p,onChange:f,onComplete:m}=this.props,g=this.getBox();if(a||!o)return;if(e.key==="ArrowUp"||e.key==="ArrowDown"||e.key==="ArrowLeft"||e.key==="ArrowRight")e.stopPropagation(),e.preventDefault();else return;const y=(navigator.platform.match("Mac")?e.metaKey:e.ctrlKey)?An.nudgeStepLarge:e.shiftKey?An.nudgeStepMedium:An.nudgeStep,x=Rr(o,g.width,g.height),S=ZS(x,e.key,y,t),C=ug(S,i,t,g.width,g.height,l,c,d,p);if(!lg(o,C)){const P=os(C,g.width,g.height);f(C,P),m&&m(C,P)}}),Je(this,"onDocPointerDone",e=>{const{crop:t,disabled:i,onComplete:o,onDragEnd:a}=this.props,l=this.getBox();this.unbindDocMove(),!(i||!t)&&this.mouseDownOnCrop&&(this.mouseDownOnCrop=!1,this.dragStarted=!1,a&&a(e),o&&o(Rr(t,l.width,l.height),os(t,l.width,l.height)),this.setState({cropIsActive:!1,newCropIsBeingDrawn:!1}))}),Je(this,"onDragFocus",()=>{var e;(e=this.componentRef.current)==null||e.scrollTo(0,0)})}get document(){return document}getBox(){const e=this.mediaRef.current;if(!e)return{x:0,y:0,width:0,height:0};const{x:t,y:i,width:o,height:a}=e.getBoundingClientRect();return{x:t,y:i,width:o,height:a}}componentDidUpdate(e){const{crop:t,onComplete:i}=this.props;if(i&&!e.crop&&t){const{width:o,height:a}=this.getBox();o&&a&&i(Rr(t,o,a),os(t,o,a))}}componentWillUnmount(){this.resizeObserver&&this.resizeObserver.disconnect(),this.unbindDocMove()}bindDocMove(){this.docMoveBound||(this.document.addEventListener("pointermove",this.onDocPointerMove,as),this.document.addEventListener("pointerup",this.onDocPointerDone,as),this.document.addEventListener("pointercancel",this.onDocPointerDone,as),this.docMoveBound=!0)}unbindDocMove(){this.docMoveBound&&(this.document.removeEventListener("pointermove",this.onDocPointerMove,as),this.document.removeEventListener("pointerup",this.onDocPointerDone,as),this.document.removeEventListener("pointercancel",this.onDocPointerDone,as),this.docMoveBound=!1)}getCropStyle(){const{crop:e}=this.props;if(e)return{top:`${e.y}${e.unit}`,left:`${e.x}${e.unit}`,width:`${e.width}${e.unit}`,height:`${e.height}${e.unit}`}}dragCrop(){const{evData:e}=this,t=this.getBox(),i=this.makePixelCrop(t),o=e.clientX-e.startClientX,a=e.clientY-e.startClientY;return i.x=ss(e.startCropX+o,0,t.width-i.width),i.y=ss(e.startCropY+a,0,t.height-i.height),i}getPointRegion(e,t,i,o){const{evData:a}=this,l=a.clientX-e.x,c=a.clientY-e.y;let d;o&&t?d=t==="nw"||t==="n"||t==="ne":d=c<a.startCropY;let p;return i&&t?p=t==="nw"||t==="w"||t==="sw":p=l<a.startCropX,p?d?"nw":"sw":d?"ne":"se"}resolveMinDimensions(e,t,i=0,o=0){const a=Math.min(i,e.width),l=Math.min(o,e.height);return!t||!a&&!l?[a,l]:t>1?a?[a,a/t]:[l*t,l]:l?[l*t,l]:[a,a/t]}resizeCrop(){const{evData:e}=this,{aspect:t=0,maxWidth:i,maxHeight:o}=this.props,a=this.getBox(),[l,c]=this.resolveMinDimensions(a,t,this.props.minWidth,this.props.minHeight);let d=this.makePixelCrop(a);const p=this.getPointRegion(a,e.ord,l,c),f=e.ord||p;let m=e.clientX-e.startClientX,g=e.clientY-e.startClientY;(l&&f==="nw"||f==="w"||f==="sw")&&(m=Math.min(m,-l)),(c&&f==="nw"||f==="n"||f==="ne")&&(g=Math.min(g,-c));const y={unit:"px",x:0,y:0,width:0,height:0};p==="ne"?(y.x=e.startCropX,y.width=m,t?(y.height=y.width/t,y.y=e.startCropY-y.height):(y.height=Math.abs(g),y.y=e.startCropY-y.height)):p==="se"?(y.x=e.startCropX,y.y=e.startCropY,y.width=m,t?y.height=y.width/t:y.height=g):p==="sw"?(y.x=e.startCropX+m,y.y=e.startCropY,y.width=Math.abs(m),t?y.height=y.width/t:y.height=g):p==="nw"&&(y.x=e.startCropX+m,y.width=Math.abs(m),t?(y.height=y.width/t,y.y=e.startCropY-y.height):(y.height=Math.abs(g),y.y=e.startCropY+g));const x=ug(y,t,p,a.width,a.height,l,c,i,o);return t||An.xyOrds.indexOf(f)>-1?d=x:An.xOrds.indexOf(f)>-1?(d.x=x.x,d.width=x.width):An.yOrds.indexOf(f)>-1&&(d.y=x.y,d.height=x.height),d.x=ss(d.x,0,a.width-d.width),d.y=ss(d.y,0,a.height-d.height),d}renderCropSelection(){const{ariaLabels:e=An.defaultProps.ariaLabels,disabled:t,locked:i,renderSelectionAddon:o,ruleOfThirds:a,crop:l}=this.props,c=this.getCropStyle();if(l)return je.createElement("div",{style:c,className:"ReactCrop__crop-selection",onPointerDown:this.onCropPointerDown,"aria-label":e.cropArea,tabIndex:0,onKeyDown:this.onComponentKeyDown,role:"group"},!t&&!i&&je.createElement("div",{className:"ReactCrop__drag-elements",onFocus:this.onDragFocus},je.createElement("div",{className:"ReactCrop__drag-bar ord-n","data-ord":"n"}),je.createElement("div",{className:"ReactCrop__drag-bar ord-e","data-ord":"e"}),je.createElement("div",{className:"ReactCrop__drag-bar ord-s","data-ord":"s"}),je.createElement("div",{className:"ReactCrop__drag-bar ord-w","data-ord":"w"}),je.createElement("div",{className:"ReactCrop__drag-handle ord-nw","data-ord":"nw",tabIndex:0,"aria-label":e.nwDragHandle,onKeyDown:d=>this.onHandlerKeyDown(d,"nw"),role:"button"}),je.createElement("div",{className:"ReactCrop__drag-handle ord-n","data-ord":"n",tabIndex:0,"aria-label":e.nDragHandle,onKeyDown:d=>this.onHandlerKeyDown(d,"n"),role:"button"}),je.createElement("div",{className:"ReactCrop__drag-handle ord-ne","data-ord":"ne",tabIndex:0,"aria-label":e.neDragHandle,onKeyDown:d=>this.onHandlerKeyDown(d,"ne"),role:"button"}),je.createElement("div",{className:"ReactCrop__drag-handle ord-e","data-ord":"e",tabIndex:0,"aria-label":e.eDragHandle,onKeyDown:d=>this.onHandlerKeyDown(d,"e"),role:"button"}),je.createElement("div",{className:"ReactCrop__drag-handle ord-se","data-ord":"se",tabIndex:0,"aria-label":e.seDragHandle,onKeyDown:d=>this.onHandlerKeyDown(d,"se"),role:"button"}),je.createElement("div",{className:"ReactCrop__drag-handle ord-s","data-ord":"s",tabIndex:0,"aria-label":e.sDragHandle,onKeyDown:d=>this.onHandlerKeyDown(d,"s"),role:"button"}),je.createElement("div",{className:"ReactCrop__drag-handle ord-sw","data-ord":"sw",tabIndex:0,"aria-label":e.swDragHandle,onKeyDown:d=>this.onHandlerKeyDown(d,"sw"),role:"button"}),je.createElement("div",{className:"ReactCrop__drag-handle ord-w","data-ord":"w",tabIndex:0,"aria-label":e.wDragHandle,onKeyDown:d=>this.onHandlerKeyDown(d,"w"),role:"button"})),o&&je.createElement("div",{className:"ReactCrop__selection-addon",onPointerDown:d=>d.stopPropagation()},o(this.state)),a&&je.createElement(je.Fragment,null,je.createElement("div",{className:"ReactCrop__rule-of-thirds-hz"}),je.createElement("div",{className:"ReactCrop__rule-of-thirds-vt"})))}makePixelCrop(e){const t={...Cl,...this.props.crop||{}};return Rr(t,e.width,e.height)}render(){const{aspect:e,children:t,circularCrop:i,className:o,crop:a,disabled:l,locked:c,style:d,ruleOfThirds:p}=this.props,{cropIsActive:f,newCropIsBeingDrawn:m}=this.state,g=a?this.renderCropSelection():null,y=JS("ReactCrop",o,f&&"ReactCrop--active",l&&"ReactCrop--disabled",c&&"ReactCrop--locked",m&&"ReactCrop--new-crop",a&&e&&"ReactCrop--fixed-aspect",a&&i&&"ReactCrop--circular-crop",a&&p&&"ReactCrop--rule-of-thirds",!this.dragStarted&&a&&!a.width&&!a.height&&"ReactCrop--invisible-crop",i&&"ReactCrop--no-animate");return je.createElement("div",{ref:this.componentRef,className:y,style:d},je.createElement("div",{ref:this.mediaRef,className:"ReactCrop__child-wrapper",onPointerDown:this.onComponentPointerDown},t),a?je.createElement("svg",{className:"ReactCrop__crop-mask",width:"100%",height:"100%"},je.createElement("defs",null,je.createElement("mask",{id:`hole-${this.instanceId}`},je.createElement("rect",{width:"100%",height:"100%",fill:"white"}),i?je.createElement("ellipse",{cx:`${a.x+a.width/2}${a.unit}`,cy:`${a.y+a.height/2}${a.unit}`,rx:`${a.width/2}${a.unit}`,ry:`${a.height/2}${a.unit}`,fill:"black"}):je.createElement("rect",{x:`${a.x}${a.unit}`,y:`${a.y}${a.unit}`,width:`${a.width}${a.unit}`,height:`${a.height}${a.unit}`,fill:"black"}))),je.createElement("rect",{fill:"black",fillOpacity:.5,width:"100%",height:"100%",mask:`url(#hole-${this.instanceId})`})):void 0,g)}};Je(Mr,"xOrds",["e","w"]),Je(Mr,"yOrds",["n","s"]),Je(Mr,"xyOrds",["nw","ne","se","sw"]),Je(Mr,"nudgeStep",1),Je(Mr,"nudgeStepMedium",10),Je(Mr,"nudgeStepLarge",100),Je(Mr,"defaultProps",{ariaLabels:{cropArea:"Use the arrow keys to move the crop selection area",nwDragHandle:"Use the arrow keys to move the north west drag handle to change the crop selection area",nDragHandle:"Use the up and down arrow keys to move the north drag handle to change the crop selection area",neDragHandle:"Use the arrow keys to move the north east drag handle to change the crop selection area",eDragHandle:"Use the up and down arrow keys to move the east drag handle to change the crop selection area",seDragHandle:"Use the arrow keys to move the south east drag handle to change the crop selection area",sDragHandle:"Use the up and down arrow keys to move the south drag handle to change the crop selection area",swDragHandle:"Use the arrow keys to move the south west drag handle to change the crop selection area",wDragHandle:"Use the up and down arrow keys to move the west drag handle to change the crop selection area"}});let tb=Mr;function nb({file:n,onSave:e,onClose:t,translations:i}){const[o,a]=J.useState(""),[l,c]=J.useState(),[d,p]=J.useState(),[f,m]=J.useState(100),[g,y]=J.useState(100),[x,S]=J.useState(100),C=J.useRef(null);J.useState(()=>{const j=new FileReader;j.onload=()=>a(j.result),j.readAsDataURL(n)});const P=async()=>new Promise(j=>{const H=C.current;if(!H||!d){const F=document.createElement("canvas"),z=F.getContext("2d");if(!z||!H)return;F.width=H.naturalWidth,F.height=H.naturalHeight,z.filter=`brightness(${f}%) contrast(${g}%) saturate(${x}%)`,z.drawImage(H,0,0),F.toBlob(B=>{B&&j(B)},"image/jpeg",.95);return}const T=document.createElement("canvas"),V=T.getContext("2d");if(!V)return;const k=H.naturalWidth/H.width,_=H.naturalHeight/H.height;T.width=d.width*k,T.height=d.height*_,V.filter=`brightness(${f}%) contrast(${g}%) saturate(${x}%)`,V.drawImage(H,d.x*k,d.y*_,d.width*k,d.height*_,0,0,T.width,T.height),T.toBlob(F=>{F&&j(F)},"image/jpeg",.95)}),I=async()=>{const j=await P(),H=new File([j],n.name,{type:"image/jpeg"});e(H)},A=()=>{m(100),y(100),S(100),c(void 0),p(void 0)};return O.jsx("div",{className:"image-editor-overlay",children:O.jsxs("div",{className:"image-editor",children:[O.jsxs("div",{className:"editor-header",children:[O.jsx("h3",{children:i.editImage}),O.jsx("button",{className:"close-btn",onClick:t,children:"×"})]}),O.jsxs("div",{className:"editor-content",children:[O.jsx("div",{className:"editor-canvas",children:O.jsx(tb,{crop:l,onChange:j=>c(j),onComplete:j=>p(j),children:O.jsx("img",{ref:C,src:o,alt:"Edit",style:{filter:`brightness(${f}%) contrast(${g}%) saturate(${x}%)`}})})}),O.jsxs("div",{className:"editor-controls",children:[O.jsxs("div",{className:"control-group",children:[O.jsx("label",{children:"Brightness"}),O.jsx("input",{type:"range",min:"0",max:"200",value:f,onChange:j=>m(Number(j.target.value))}),O.jsxs("span",{children:[f,"%"]})]}),O.jsxs("div",{className:"control-group",children:[O.jsx("label",{children:"Contrast"}),O.jsx("input",{type:"range",min:"0",max:"200",value:g,onChange:j=>y(Number(j.target.value))}),O.jsxs("span",{children:[g,"%"]})]}),O.jsxs("div",{className:"control-group",children:[O.jsx("label",{children:"Saturation"}),O.jsx("input",{type:"range",min:"0",max:"200",value:x,onChange:j=>S(Number(j.target.value))}),O.jsxs("span",{children:[x,"%"]})]})]})]}),O.jsxs("div",{className:"editor-actions",children:[O.jsx("button",{className:"btn-secondary",onClick:A,children:"Reset"}),O.jsx("button",{className:"btn-primary",onClick:I,children:"Save Changes"})]})]})})}function rb({translations:n,onAddPhotos:e}){const[t,i]=J.useState([]),[o,a]=J.useState(0),[l,c]=J.useState(""),[d,p]=J.useState(""),[f,m]=J.useState(""),[g,y]=J.useState([]),[x,S]=J.useState(""),[C,P]=J.useState(!1),[I,A]=J.useState(!1),j=J.useCallback(N=>{i(L=>[...L,...N])},[]),{getRootProps:H,getInputProps:T,isDragActive:V}=S0({onDrop:j,accept:{"image/*":[".png",".jpg",".jpeg",".gif",".webp"]},multiple:!0}),k=()=>{x.trim()&&!g.includes(x.trim())&&(y([...g,x.trim()]),S(""))},_=N=>{y(g.filter(L=>L!==N))},F=N=>{i(t.filter((L,q)=>q!==N)),o>=t.length-1&&a(Math.max(0,t.length-2))},z=async(N=!1)=>{if(t.length!==0){A(!0);try{const L=t.map(q=>({title:t.length===1?l:`${l} ${t.indexOf(q)+1}`,description:d,category:f,tags:g,file:q,isDraft:N}));await e(L),i([]),c(""),p(""),m(""),y([]),a(0)}catch(L){console.error("Error uploading photos:",L),alert("Error uploading photos. Please try again.")}finally{A(!1)}}},B=N=>{const L=[...t];L[o]=N,i(L),P(!1)};return O.jsxs("div",{className:"card photo-form",children:[O.jsx("div",{className:"card-title",children:n.addPhotoTitle}),O.jsxs("div",{...H(),className:`dropzone ${V?"active":""}`,children:[O.jsx("input",{...T()}),O.jsxs("div",{className:"dropzone-content",children:[O.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:O.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})}),O.jsx("p",{children:n.dragDropText}),O.jsx("button",{type:"button",className:"btn-secondary",children:n.chooseFileBtn})]})]}),t.length>0&&O.jsxs("div",{className:"files-preview",children:[O.jsx("div",{className:"files-header",children:O.jsxs("h3",{children:[t.length," ",t.length===1?"file":"files"," selected"]})}),O.jsx("div",{className:"files-grid",children:t.map((N,L)=>O.jsxs("div",{className:`file-preview ${L===o?"active":""}`,onClick:()=>a(L),children:[O.jsx("img",{src:URL.createObjectURL(N),alt:N.name}),O.jsx("button",{className:"file-remove",onClick:q=>{q.stopPropagation(),F(L)},children:"×"})]},L))}),t[o]&&O.jsx("div",{className:"current-file-edit",children:O.jsxs("button",{className:"btn-secondary",onClick:()=>P(!0),children:["✏️ ",n.editImage]})})]}),O.jsxs("form",{onSubmit:N=>{N.preventDefault(),z(!1)},children:[O.jsxs("div",{className:"form-group",children:[O.jsx("label",{children:n.titleLabel}),O.jsx("input",{type:"text",value:l,onChange:N=>c(N.target.value),required:!0,placeholder:t.length>1?"Base title (numbers will be added)":""})]}),O.jsxs("div",{className:"form-group",children:[O.jsx("label",{children:n.categories}),O.jsxs("select",{value:f,onChange:N=>m(N.target.value),required:!0,children:[O.jsx("option",{value:"",children:"Select a category"}),b0.map(N=>O.jsx("option",{value:N,children:N},N))]})]}),O.jsxs("div",{className:"form-group",children:[O.jsx("label",{children:n.tags}),O.jsxs("div",{className:"tag-input-wrapper",children:[O.jsx("input",{type:"text",value:x,onChange:N=>S(N.target.value),onKeyPress:N=>N.key==="Enter"&&(N.preventDefault(),k()),placeholder:"Add tags..."}),O.jsx("button",{type:"button",onClick:k,className:"btn-secondary",children:"Add"})]}),g.length>0&&O.jsx("div",{className:"tags-display",children:g.map((N,L)=>O.jsxs("span",{className:"tag",children:[N,O.jsx("button",{type:"button",onClick:()=>_(N),children:"×"})]},L))})]}),O.jsxs("div",{className:"form-group",children:[O.jsx("label",{children:n.descLabel}),O.jsx("textarea",{value:d,onChange:N=>p(N.target.value),rows:4})]}),O.jsxs("div",{className:"form-actions",children:[O.jsx("button",{type:"submit",className:"btn-primary",disabled:I||t.length===0,children:I?"Uploading...":n.publishBtn}),O.jsx("button",{type:"button",className:"btn-secondary",onClick:()=>z(!0),disabled:I||t.length===0,children:n.saveDraft})]})]}),C&&t[o]&&O.jsx(nb,{file:t[o],onSave:B,onClose:()=>P(!1),translations:n})]})}function ib(n,e){if(n==null)return{};var t=sb(n,e),i,o;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);for(o=0;o<a.length;o++)i=a[o],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(n,i)&&(t[i]=n[i])}return t}function sb(n,e){if(n==null)return{};var t={},i=Object.keys(n),o,a;for(a=0;a<i.length;a++)o=i[a],!(e.indexOf(o)>=0)&&(t[o]=n[o]);return t}function _l(){return _l=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},_l.apply(this,arguments)}function cg(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(n,o).enumerable})),t.push.apply(t,i)}return t}function wo(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?cg(Object(t),!0).forEach(function(i){ob(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):cg(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function ob(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}const ab={breakpointCols:void 0,className:void 0,columnClassName:void 0,children:void 0,columnAttrs:void 0,column:void 0},nd=2;class k0 extends je.Component{constructor(e){super(e),this.reCalculateColumnCount=this.reCalculateColumnCount.bind(this),this.reCalculateColumnCountDebounce=this.reCalculateColumnCountDebounce.bind(this);let t;this.props.breakpointCols&&this.props.breakpointCols.default?t=this.props.breakpointCols.default:t=parseInt(this.props.breakpointCols)||nd,this.state={columnCount:t}}componentDidMount(){this.reCalculateColumnCount(),window&&window.addEventListener("resize",this.reCalculateColumnCountDebounce)}componentDidUpdate(){this.reCalculateColumnCount()}componentWillUnmount(){window&&window.removeEventListener("resize",this.reCalculateColumnCountDebounce)}reCalculateColumnCountDebounce(){if(!window||!window.requestAnimationFrame){this.reCalculateColumnCount();return}window.cancelAnimationFrame&&window.cancelAnimationFrame(this._lastRecalculateAnimationFrame),this._lastRecalculateAnimationFrame=window.requestAnimationFrame(()=>{this.reCalculateColumnCount()})}reCalculateColumnCount(){const e=window&&window.innerWidth||1/0;let t=this.props.breakpointCols;typeof t!="object"&&(t={default:parseInt(t)||nd});let i=1/0,o=t.default||nd;for(let a in t){const l=parseInt(a);l>0&&e<=l&&l<i&&(i=l,o=t[a])}o=Math.max(1,parseInt(o)||1),this.state.columnCount!==o&&this.setState({columnCount:o})}itemsInColumns(){const e=this.state.columnCount,t=new Array(e),i=je.Children.toArray(this.props.children);for(let o=0;o<i.length;o++){const a=o%e;t[a]||(t[a]=[]),t[a].push(i[o])}return t}renderColumns(){const{column:e,columnAttrs:t={},columnClassName:i}=this.props,o=this.itemsInColumns(),a=`${100/o.length}%`;let l=i;l&&typeof l!="string"&&(this.logDeprecated('The property "columnClassName" requires a string'),typeof l>"u"&&(l="my-masonry-grid_column"));const c=wo(wo(wo({},e),t),{},{style:wo(wo({},t.style),{},{width:a}),className:l});return o.map((d,p)=>je.createElement("div",_l({},c,{key:p}),d))}logDeprecated(e){console.error("[Masonry]",e)}render(){const e=this.props,{children:t,breakpointCols:i,columnClassName:o,columnAttrs:a,column:l,className:c}=e,d=ib(e,["children","breakpointCols","columnClassName","columnAttrs","column","className"]);let p=c;return typeof c!="string"&&(this.logDeprecated('The property "className" requires a string'),typeof c>"u"&&(p="my-masonry-grid")),je.createElement("div",_l({},d,{className:p}),this.renderColumns())}}k0.defaultProps=ab;const C0=J.createContext({transformPagePoint:n=>n,isStatic:!1,reducedMotion:"never"}),ql=J.createContext({}),Xl=J.createContext(null),Yl=typeof document<"u",Sh=Yl?J.useLayoutEffect:J.useEffect,_0=J.createContext({strict:!1}),bh=n=>n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),lb="framerAppearId",P0="data-"+bh(lb);function ub(n,e,t,i){const{visualElement:o}=J.useContext(ql),a=J.useContext(_0),l=J.useContext(Xl),c=J.useContext(C0).reducedMotion,d=J.useRef();i=i||a.renderer,!d.current&&i&&(d.current=i(n,{visualState:e,parent:o,props:t,presenceContext:l,blockInitialAnimation:l?l.initial===!1:!1,reducedMotionConfig:c}));const p=d.current;J.useInsertionEffect(()=>{p&&p.update(t,l)});const f=J.useRef(!!(t[P0]&&!window.HandoffComplete));return Sh(()=>{p&&(p.render(),f.current&&p.animationState&&p.animationState.animateChanges())}),J.useEffect(()=>{p&&(p.updateFeatures(),!f.current&&p.animationState&&p.animationState.animateChanges(),f.current&&(f.current=!1,window.HandoffComplete=!0))}),p}function xs(n){return n&&typeof n=="object"&&Object.prototype.hasOwnProperty.call(n,"current")}function cb(n,e,t){return J.useCallback(i=>{i&&n.mount&&n.mount(i),e&&(i?e.mount(i):e.unmount()),t&&(typeof t=="function"?t(i):xs(t)&&(t.current=i))},[e])}function Mo(n){return typeof n=="string"||Array.isArray(n)}function Ql(n){return n!==null&&typeof n=="object"&&typeof n.start=="function"}const kh=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Ch=["initial",...kh];function Jl(n){return Ql(n.animate)||Ch.some(e=>Mo(n[e]))}function E0(n){return!!(Jl(n)||n.variants)}function db(n,e){if(Jl(n)){const{initial:t,animate:i}=n;return{initial:t===!1||Mo(t)?t:void 0,animate:Mo(i)?i:void 0}}return n.inherit!==!1?e:{}}function hb(n){const{initial:e,animate:t}=db(n,J.useContext(ql));return J.useMemo(()=>({initial:e,animate:t}),[dg(e),dg(t)])}function dg(n){return Array.isArray(n)?n.join(" "):n}const hg={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Fo={};for(const n in hg)Fo[n]={isEnabled:e=>hg[n].some(t=>!!e[t])};function fb(n){for(const e in n)Fo[e]={...Fo[e],...n[e]}}const _h=J.createContext({}),A0=J.createContext({}),pb=Symbol.for("motionComponentSymbol");function mb({preloadedFeatures:n,createVisualElement:e,useRender:t,useVisualState:i,Component:o}){n&&fb(n);function a(c,d){let p;const f={...J.useContext(C0),...c,layoutId:gb(c)},{isStatic:m}=f,g=hb(c),y=i(c,m);if(!m&&Yl){g.visualElement=ub(o,y,f,e);const x=J.useContext(A0),S=J.useContext(_0).strict;g.visualElement&&(p=g.visualElement.loadFeatures(f,S,n,x))}return J.createElement(ql.Provider,{value:g},p&&g.visualElement?J.createElement(p,{visualElement:g.visualElement,...f}):null,t(o,c,cb(y,g.visualElement,d),y,m,g.visualElement))}const l=J.forwardRef(a);return l[pb]=o,l}function gb({layoutId:n}){const e=J.useContext(_h).id;return e&&n!==void 0?e+"-"+n:n}function vb(n){function e(i,o={}){return mb(n(i,o))}if(typeof Proxy>"u")return e;const t=new Map;return new Proxy(e,{get:(i,o)=>(t.has(o)||t.set(o,e(o)),t.get(o))})}const yb=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Ph(n){return typeof n!="string"||n.includes("-")?!1:!!(yb.indexOf(n)>-1||/[A-Z]/.test(n))}const Pl={};function wb(n){Object.assign(Pl,n)}const $o=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Oi=new Set($o);function T0(n,{layout:e,layoutId:t}){return Oi.has(n)||n.startsWith("origin")||(e||t!==void 0)&&(!!Pl[n]||n==="opacity")}const Zt=n=>!!(n&&n.getVelocity),xb={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Sb=$o.length;function bb(n,{enableHardwareAcceleration:e=!0,allowTransformNone:t=!0},i,o){let a="";for(let l=0;l<Sb;l++){const c=$o[l];if(n[c]!==void 0){const d=xb[c]||c;a+=`${d}(${n[c]}) `}}return e&&!n.z&&(a+="translateZ(0)"),a=a.trim(),o?a=o(n,i?"":a):t&&i&&(a="none"),a}const D0=n=>e=>typeof e=="string"&&e.startsWith(n),j0=D0("--"),Fd=D0("var(--"),kb=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,Cb=(n,e)=>e&&typeof n=="number"?e.transform(n):n,Kr=(n,e,t)=>Math.min(Math.max(t,n),e),Ri={test:n=>typeof n=="number",parse:parseFloat,transform:n=>n},Eo={...Ri,transform:n=>Kr(0,1,n)},rl={...Ri,default:1},Ao=n=>Math.round(n*1e5)/1e5,Zl=/(-)?([\d]*\.?[\d])+/g,I0=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,_b=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function zo(n){return typeof n=="string"}const Vo=n=>({test:e=>zo(e)&&e.endsWith(n)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${n}`}),Fr=Vo("deg"),Wn=Vo("%"),Se=Vo("px"),Pb=Vo("vh"),Eb=Vo("vw"),fg={...Wn,parse:n=>Wn.parse(n)/100,transform:n=>Wn.transform(n*100)},pg={...Ri,transform:Math.round},O0={borderWidth:Se,borderTopWidth:Se,borderRightWidth:Se,borderBottomWidth:Se,borderLeftWidth:Se,borderRadius:Se,radius:Se,borderTopLeftRadius:Se,borderTopRightRadius:Se,borderBottomRightRadius:Se,borderBottomLeftRadius:Se,width:Se,maxWidth:Se,height:Se,maxHeight:Se,size:Se,top:Se,right:Se,bottom:Se,left:Se,padding:Se,paddingTop:Se,paddingRight:Se,paddingBottom:Se,paddingLeft:Se,margin:Se,marginTop:Se,marginRight:Se,marginBottom:Se,marginLeft:Se,rotate:Fr,rotateX:Fr,rotateY:Fr,rotateZ:Fr,scale:rl,scaleX:rl,scaleY:rl,scaleZ:rl,skew:Fr,skewX:Fr,skewY:Fr,distance:Se,translateX:Se,translateY:Se,translateZ:Se,x:Se,y:Se,z:Se,perspective:Se,transformPerspective:Se,opacity:Eo,originX:fg,originY:fg,originZ:Se,zIndex:pg,fillOpacity:Eo,strokeOpacity:Eo,numOctaves:pg};function Eh(n,e,t,i){const{style:o,vars:a,transform:l,transformOrigin:c}=n;let d=!1,p=!1,f=!0;for(const m in e){const g=e[m];if(j0(m)){a[m]=g;continue}const y=O0[m],x=Cb(g,y);if(Oi.has(m)){if(d=!0,l[m]=x,!f)continue;g!==(y.default||0)&&(f=!1)}else m.startsWith("origin")?(p=!0,c[m]=x):o[m]=x}if(e.transform||(d||i?o.transform=bb(n.transform,t,f,i):o.transform&&(o.transform="none")),p){const{originX:m="50%",originY:g="50%",originZ:y=0}=c;o.transformOrigin=`${m} ${g} ${y}`}}const Ah=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function R0(n,e,t){for(const i in e)!Zt(e[i])&&!T0(i,t)&&(n[i]=e[i])}function Ab({transformTemplate:n},e,t){return J.useMemo(()=>{const i=Ah();return Eh(i,e,{enableHardwareAcceleration:!t},n),Object.assign({},i.vars,i.style)},[e])}function Tb(n,e,t){const i=n.style||{},o={};return R0(o,i,n),Object.assign(o,Ab(n,e,t)),n.transformValues?n.transformValues(o):o}function Db(n,e,t){const i={},o=Tb(n,e,t);return n.drag&&n.dragListener!==!1&&(i.draggable=!1,o.userSelect=o.WebkitUserSelect=o.WebkitTouchCallout="none",o.touchAction=n.drag===!0?"none":`pan-${n.drag==="x"?"y":"x"}`),n.tabIndex===void 0&&(n.onTap||n.onTapStart||n.whileTap)&&(i.tabIndex=0),i.style=o,i}const jb=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function El(n){return n.startsWith("while")||n.startsWith("drag")&&n!=="draggable"||n.startsWith("layout")||n.startsWith("onTap")||n.startsWith("onPan")||n.startsWith("onLayout")||jb.has(n)}let L0=n=>!El(n);function Ib(n){n&&(L0=e=>e.startsWith("on")?!El(e):n(e))}try{Ib(require("@emotion/is-prop-valid").default)}catch{}function Ob(n,e,t){const i={};for(const o in n)o==="values"&&typeof n.values=="object"||(L0(o)||t===!0&&El(o)||!e&&!El(o)||n.draggable&&o.startsWith("onDrag"))&&(i[o]=n[o]);return i}function mg(n,e,t){return typeof n=="string"?n:Se.transform(e+t*n)}function Rb(n,e,t){const i=mg(e,n.x,n.width),o=mg(t,n.y,n.height);return`${i} ${o}`}const Lb={offset:"stroke-dashoffset",array:"stroke-dasharray"},Mb={offset:"strokeDashoffset",array:"strokeDasharray"};function Fb(n,e,t=1,i=0,o=!0){n.pathLength=1;const a=o?Lb:Mb;n[a.offset]=Se.transform(-i);const l=Se.transform(e),c=Se.transform(t);n[a.array]=`${l} ${c}`}function Th(n,{attrX:e,attrY:t,attrScale:i,originX:o,originY:a,pathLength:l,pathSpacing:c=1,pathOffset:d=0,...p},f,m,g){if(Eh(n,p,f,g),m){n.style.viewBox&&(n.attrs.viewBox=n.style.viewBox);return}n.attrs=n.style,n.style={};const{attrs:y,style:x,dimensions:S}=n;y.transform&&(S&&(x.transform=y.transform),delete y.transform),S&&(o!==void 0||a!==void 0||x.transform)&&(x.transformOrigin=Rb(S,o!==void 0?o:.5,a!==void 0?a:.5)),e!==void 0&&(y.x=e),t!==void 0&&(y.y=t),i!==void 0&&(y.scale=i),l!==void 0&&Fb(y,l,c,d,!1)}const M0=()=>({...Ah(),attrs:{}}),Dh=n=>typeof n=="string"&&n.toLowerCase()==="svg";function Nb(n,e,t,i){const o=J.useMemo(()=>{const a=M0();return Th(a,e,{enableHardwareAcceleration:!1},Dh(i),n.transformTemplate),{...a.attrs,style:{...a.style}}},[e]);if(n.style){const a={};R0(a,n.style,n),o.style={...a,...o.style}}return o}function Ub(n=!1){return(t,i,o,{latestValues:a},l)=>{const d=(Ph(t)?Nb:Db)(i,a,l,t),f={...Ob(i,typeof t=="string",n),...d,ref:o},{children:m}=i,g=J.useMemo(()=>Zt(m)?m.get():m,[m]);return J.createElement(t,{...f,children:g})}}function F0(n,{style:e,vars:t},i,o){Object.assign(n.style,e,o&&o.getProjectionStyles(i));for(const a in t)n.style.setProperty(a,t[a])}const N0=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function U0(n,e,t,i){F0(n,e,void 0,i);for(const o in e.attrs)n.setAttribute(N0.has(o)?o:bh(o),e.attrs[o])}function jh(n,e){const{style:t}=n,i={};for(const o in t)(Zt(t[o])||e.style&&Zt(e.style[o])||T0(o,n))&&(i[o]=t[o]);return i}function B0(n,e){const t=jh(n,e);for(const i in n)if(Zt(n[i])||Zt(e[i])){const o=$o.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;t[o]=n[i]}return t}function Ih(n,e,t,i={},o={}){return typeof e=="function"&&(e=e(t!==void 0?t:n.custom,i,o)),typeof e=="string"&&(e=n.variants&&n.variants[e]),typeof e=="function"&&(e=e(t!==void 0?t:n.custom,i,o)),e}function $0(n){const e=J.useRef(null);return e.current===null&&(e.current=n()),e.current}const Al=n=>Array.isArray(n),Bb=n=>!!(n&&typeof n=="object"&&n.mix&&n.toValue),$b=n=>Al(n)?n[n.length-1]||0:n;function gl(n){const e=Zt(n)?n.get():n;return Bb(e)?e.toValue():e}function zb({scrapeMotionValuesFromProps:n,createRenderState:e,onMount:t},i,o,a){const l={latestValues:Vb(i,o,a,n),renderState:e()};return t&&(l.mount=c=>t(i,c,l)),l}const z0=n=>(e,t)=>{const i=J.useContext(ql),o=J.useContext(Xl),a=()=>zb(n,e,i,o);return t?a():$0(a)};function Vb(n,e,t,i){const o={},a=i(n,{});for(const g in a)o[g]=gl(a[g]);let{initial:l,animate:c}=n;const d=Jl(n),p=E0(n);e&&p&&!d&&n.inherit!==!1&&(l===void 0&&(l=e.initial),c===void 0&&(c=e.animate));let f=t?t.initial===!1:!1;f=f||l===!1;const m=f?c:l;return m&&typeof m!="boolean"&&!Ql(m)&&(Array.isArray(m)?m:[m]).forEach(y=>{const x=Ih(n,y);if(!x)return;const{transitionEnd:S,transition:C,...P}=x;for(const I in P){let A=P[I];if(Array.isArray(A)){const j=f?A.length-1:0;A=A[j]}A!==null&&(o[I]=A)}for(const I in S)o[I]=S[I]}),o}const ut=n=>n;class gg{constructor(){this.order=[],this.scheduled=new Set}add(e){if(!this.scheduled.has(e))return this.scheduled.add(e),this.order.push(e),!0}remove(e){const t=this.order.indexOf(e);t!==-1&&(this.order.splice(t,1),this.scheduled.delete(e))}clear(){this.order.length=0,this.scheduled.clear()}}function Hb(n){let e=new gg,t=new gg,i=0,o=!1,a=!1;const l=new WeakSet,c={schedule:(d,p=!1,f=!1)=>{const m=f&&o,g=m?e:t;return p&&l.add(d),g.add(d)&&m&&o&&(i=e.order.length),d},cancel:d=>{t.remove(d),l.delete(d)},process:d=>{if(o){a=!0;return}if(o=!0,[e,t]=[t,e],t.clear(),i=e.order.length,i)for(let p=0;p<i;p++){const f=e.order[p];f(d),l.has(f)&&(c.schedule(f),n())}o=!1,a&&(a=!1,c.process(d))}};return c}const il=["prepare","read","update","preRender","render","postRender"],Wb=40;function Gb(n,e){let t=!1,i=!0;const o={delta:0,timestamp:0,isProcessing:!1},a=il.reduce((m,g)=>(m[g]=Hb(()=>t=!0),m),{}),l=m=>a[m].process(o),c=()=>{const m=performance.now();t=!1,o.delta=i?1e3/60:Math.max(Math.min(m-o.timestamp,Wb),1),o.timestamp=m,o.isProcessing=!0,il.forEach(l),o.isProcessing=!1,t&&e&&(i=!1,n(c))},d=()=>{t=!0,i=!0,o.isProcessing||n(c)};return{schedule:il.reduce((m,g)=>{const y=a[g];return m[g]=(x,S=!1,C=!1)=>(t||d(),y.schedule(x,S,C)),m},{}),cancel:m=>il.forEach(g=>a[g].cancel(m)),state:o,steps:a}}const{schedule:Ke,cancel:cr,state:Ft,steps:rd}=Gb(typeof requestAnimationFrame<"u"?requestAnimationFrame:ut,!0),Kb={useVisualState:z0({scrapeMotionValuesFromProps:B0,createRenderState:M0,onMount:(n,e,{renderState:t,latestValues:i})=>{Ke.read(()=>{try{t.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{t.dimensions={x:0,y:0,width:0,height:0}}}),Ke.render(()=>{Th(t,i,{enableHardwareAcceleration:!1},Dh(e.tagName),n.transformTemplate),U0(e,t)})}})},qb={useVisualState:z0({scrapeMotionValuesFromProps:jh,createRenderState:Ah})};function Xb(n,{forwardMotionProps:e=!1},t,i){return{...Ph(n)?Kb:qb,preloadedFeatures:t,useRender:Ub(e),createVisualElement:i,Component:n}}function ar(n,e,t,i={passive:!0}){return n.addEventListener(e,t,i),()=>n.removeEventListener(e,t)}const V0=n=>n.pointerType==="mouse"?typeof n.button!="number"||n.button<=0:n.isPrimary!==!1;function eu(n,e="page"){return{point:{x:n[e+"X"],y:n[e+"Y"]}}}const Yb=n=>e=>V0(e)&&n(e,eu(e));function lr(n,e,t,i){return ar(n,e,Yb(t),i)}const Qb=(n,e)=>t=>e(n(t)),Wr=(...n)=>n.reduce(Qb);function H0(n){let e=null;return()=>{const t=()=>{e=null};return e===null?(e=n,t):!1}}const vg=H0("dragHorizontal"),yg=H0("dragVertical");function W0(n){let e=!1;if(n==="y")e=yg();else if(n==="x")e=vg();else{const t=vg(),i=yg();t&&i?e=()=>{t(),i()}:(t&&t(),i&&i())}return e}function G0(){const n=W0(!0);return n?(n(),!1):!0}class Xr{constructor(e){this.isMounted=!1,this.node=e}update(){}}function wg(n,e){const t="pointer"+(e?"enter":"leave"),i="onHover"+(e?"Start":"End"),o=(a,l)=>{if(a.pointerType==="touch"||G0())return;const c=n.getProps();n.animationState&&c.whileHover&&n.animationState.setActive("whileHover",e),c[i]&&Ke.update(()=>c[i](a,l))};return lr(n.current,t,o,{passive:!n.getProps()[i]})}class Jb extends Xr{mount(){this.unmount=Wr(wg(this.node,!0),wg(this.node,!1))}unmount(){}}class Zb extends Xr{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Wr(ar(this.node.current,"focus",()=>this.onFocus()),ar(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const K0=(n,e)=>e?n===e?!0:K0(n,e.parentElement):!1;function id(n,e){if(!e)return;const t=new PointerEvent("pointer"+n);e(t,eu(t))}class ek extends Xr{constructor(){super(...arguments),this.removeStartListeners=ut,this.removeEndListeners=ut,this.removeAccessibleListeners=ut,this.startPointerPress=(e,t)=>{if(this.isPressing)return;this.removeEndListeners();const i=this.node.getProps(),a=lr(window,"pointerup",(c,d)=>{if(!this.checkPressEnd())return;const{onTap:p,onTapCancel:f,globalTapTarget:m}=this.node.getProps();Ke.update(()=>{!m&&!K0(this.node.current,c.target)?f&&f(c,d):p&&p(c,d)})},{passive:!(i.onTap||i.onPointerUp)}),l=lr(window,"pointercancel",(c,d)=>this.cancelPress(c,d),{passive:!(i.onTapCancel||i.onPointerCancel)});this.removeEndListeners=Wr(a,l),this.startPress(e,t)},this.startAccessiblePress=()=>{const e=a=>{if(a.key!=="Enter"||this.isPressing)return;const l=c=>{c.key!=="Enter"||!this.checkPressEnd()||id("up",(d,p)=>{const{onTap:f}=this.node.getProps();f&&Ke.update(()=>f(d,p))})};this.removeEndListeners(),this.removeEndListeners=ar(this.node.current,"keyup",l),id("down",(c,d)=>{this.startPress(c,d)})},t=ar(this.node.current,"keydown",e),i=()=>{this.isPressing&&id("cancel",(a,l)=>this.cancelPress(a,l))},o=ar(this.node.current,"blur",i);this.removeAccessibleListeners=Wr(t,o)}}startPress(e,t){this.isPressing=!0;const{onTapStart:i,whileTap:o}=this.node.getProps();o&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),i&&Ke.update(()=>i(e,t))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!G0()}cancelPress(e,t){if(!this.checkPressEnd())return;const{onTapCancel:i}=this.node.getProps();i&&Ke.update(()=>i(e,t))}mount(){const e=this.node.getProps(),t=lr(e.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),i=ar(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=Wr(t,i)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const Nd=new WeakMap,sd=new WeakMap,tk=n=>{const e=Nd.get(n.target);e&&e(n)},nk=n=>{n.forEach(tk)};function rk({root:n,...e}){const t=n||document;sd.has(t)||sd.set(t,{});const i=sd.get(t),o=JSON.stringify(e);return i[o]||(i[o]=new IntersectionObserver(nk,{root:n,...e})),i[o]}function ik(n,e,t){const i=rk(e);return Nd.set(n,t),i.observe(n),()=>{Nd.delete(n),i.unobserve(n)}}const sk={some:0,all:1};class ok extends Xr{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:t,margin:i,amount:o="some",once:a}=e,l={root:t?t.current:void 0,rootMargin:i,threshold:typeof o=="number"?o:sk[o]},c=d=>{const{isIntersecting:p}=d;if(this.isInView===p||(this.isInView=p,a&&!p&&this.hasEnteredView))return;p&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",p);const{onViewportEnter:f,onViewportLeave:m}=this.node.getProps(),g=p?f:m;g&&g(d)};return ik(this.node.current,l,c)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:t}=this.node;["amount","margin","root"].some(ak(e,t))&&this.startObserver()}unmount(){}}function ak({viewport:n={}},{viewport:e={}}={}){return t=>n[t]!==e[t]}const lk={inView:{Feature:ok},tap:{Feature:ek},focus:{Feature:Zb},hover:{Feature:Jb}};function q0(n,e){if(!Array.isArray(e))return!1;const t=e.length;if(t!==n.length)return!1;for(let i=0;i<t;i++)if(e[i]!==n[i])return!1;return!0}function uk(n){const e={};return n.values.forEach((t,i)=>e[i]=t.get()),e}function ck(n){const e={};return n.values.forEach((t,i)=>e[i]=t.getVelocity()),e}function tu(n,e,t){const i=n.getProps();return Ih(i,e,t!==void 0?t:i.custom,uk(n),ck(n))}let Oh=ut;const Ei=n=>n*1e3,ur=n=>n/1e3,dk={current:!1},X0=n=>Array.isArray(n)&&typeof n[0]=="number";function Y0(n){return!!(!n||typeof n=="string"&&Q0[n]||X0(n)||Array.isArray(n)&&n.every(Y0))}const _o=([n,e,t,i])=>`cubic-bezier(${n}, ${e}, ${t}, ${i})`,Q0={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:_o([0,.65,.55,1]),circOut:_o([.55,0,1,.45]),backIn:_o([.31,.01,.66,-.59]),backOut:_o([.33,1.53,.69,.99])};function J0(n){if(n)return X0(n)?_o(n):Array.isArray(n)?n.map(J0):Q0[n]}function hk(n,e,t,{delay:i=0,duration:o,repeat:a=0,repeatType:l="loop",ease:c,times:d}={}){const p={[e]:t};d&&(p.offset=d);const f=J0(c);return Array.isArray(f)&&(p.easing=f),n.animate(p,{delay:i,duration:o,easing:Array.isArray(f)?"linear":f,fill:"both",iterations:a+1,direction:l==="reverse"?"alternate":"normal"})}function fk(n,{repeat:e,repeatType:t="loop"}){const i=e&&t!=="loop"&&e%2===1?0:n.length-1;return n[i]}const Z0=(n,e,t)=>(((1-3*t+3*e)*n+(3*t-6*e))*n+3*e)*n,pk=1e-7,mk=12;function gk(n,e,t,i,o){let a,l,c=0;do l=e+(t-e)/2,a=Z0(l,i,o)-n,a>0?t=l:e=l;while(Math.abs(a)>pk&&++c<mk);return l}function Ho(n,e,t,i){if(n===e&&t===i)return ut;const o=a=>gk(a,0,1,n,t);return a=>a===0||a===1?a:Z0(o(a),e,i)}const vk=Ho(.42,0,1,1),yk=Ho(0,0,.58,1),ey=Ho(.42,0,.58,1),wk=n=>Array.isArray(n)&&typeof n[0]!="number",ty=n=>e=>e<=.5?n(2*e)/2:(2-n(2*(1-e)))/2,ny=n=>e=>1-n(1-e),Rh=n=>1-Math.sin(Math.acos(n)),ry=ny(Rh),xk=ty(Rh),iy=Ho(.33,1.53,.69,.99),Lh=ny(iy),Sk=ty(Lh),bk=n=>(n*=2)<1?.5*Lh(n):.5*(2-Math.pow(2,-10*(n-1))),kk={linear:ut,easeIn:vk,easeInOut:ey,easeOut:yk,circIn:Rh,circInOut:xk,circOut:ry,backIn:Lh,backInOut:Sk,backOut:iy,anticipate:bk},xg=n=>{if(Array.isArray(n)){Oh(n.length===4);const[e,t,i,o]=n;return Ho(e,t,i,o)}else if(typeof n=="string")return kk[n];return n},Mh=(n,e)=>t=>!!(zo(t)&&_b.test(t)&&t.startsWith(n)||e&&Object.prototype.hasOwnProperty.call(t,e)),sy=(n,e,t)=>i=>{if(!zo(i))return i;const[o,a,l,c]=i.match(Zl);return{[n]:parseFloat(o),[e]:parseFloat(a),[t]:parseFloat(l),alpha:c!==void 0?parseFloat(c):1}},Ck=n=>Kr(0,255,n),od={...Ri,transform:n=>Math.round(Ck(n))},bi={test:Mh("rgb","red"),parse:sy("red","green","blue"),transform:({red:n,green:e,blue:t,alpha:i=1})=>"rgba("+od.transform(n)+", "+od.transform(e)+", "+od.transform(t)+", "+Ao(Eo.transform(i))+")"};function _k(n){let e="",t="",i="",o="";return n.length>5?(e=n.substring(1,3),t=n.substring(3,5),i=n.substring(5,7),o=n.substring(7,9)):(e=n.substring(1,2),t=n.substring(2,3),i=n.substring(3,4),o=n.substring(4,5),e+=e,t+=t,i+=i,o+=o),{red:parseInt(e,16),green:parseInt(t,16),blue:parseInt(i,16),alpha:o?parseInt(o,16)/255:1}}const Ud={test:Mh("#"),parse:_k,transform:bi.transform},Ss={test:Mh("hsl","hue"),parse:sy("hue","saturation","lightness"),transform:({hue:n,saturation:e,lightness:t,alpha:i=1})=>"hsla("+Math.round(n)+", "+Wn.transform(Ao(e))+", "+Wn.transform(Ao(t))+", "+Ao(Eo.transform(i))+")"},Vt={test:n=>bi.test(n)||Ud.test(n)||Ss.test(n),parse:n=>bi.test(n)?bi.parse(n):Ss.test(n)?Ss.parse(n):Ud.parse(n),transform:n=>zo(n)?n:n.hasOwnProperty("red")?bi.transform(n):Ss.transform(n)},nt=(n,e,t)=>-t*n+t*e+n;function ad(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*(2/3-t)*6:n}function Pk({hue:n,saturation:e,lightness:t,alpha:i}){n/=360,e/=100,t/=100;let o=0,a=0,l=0;if(!e)o=a=l=t;else{const c=t<.5?t*(1+e):t+e-t*e,d=2*t-c;o=ad(d,c,n+1/3),a=ad(d,c,n),l=ad(d,c,n-1/3)}return{red:Math.round(o*255),green:Math.round(a*255),blue:Math.round(l*255),alpha:i}}const ld=(n,e,t)=>{const i=n*n;return Math.sqrt(Math.max(0,t*(e*e-i)+i))},Ek=[Ud,bi,Ss],Ak=n=>Ek.find(e=>e.test(n));function Sg(n){const e=Ak(n);let t=e.parse(n);return e===Ss&&(t=Pk(t)),t}const oy=(n,e)=>{const t=Sg(n),i=Sg(e),o={...t};return a=>(o.red=ld(t.red,i.red,a),o.green=ld(t.green,i.green,a),o.blue=ld(t.blue,i.blue,a),o.alpha=nt(t.alpha,i.alpha,a),bi.transform(o))};function Tk(n){var e,t;return isNaN(n)&&zo(n)&&(((e=n.match(Zl))===null||e===void 0?void 0:e.length)||0)+(((t=n.match(I0))===null||t===void 0?void 0:t.length)||0)>0}const ay={regex:kb,countKey:"Vars",token:"${v}",parse:ut},ly={regex:I0,countKey:"Colors",token:"${c}",parse:Vt.parse},uy={regex:Zl,countKey:"Numbers",token:"${n}",parse:Ri.parse};function ud(n,{regex:e,countKey:t,token:i,parse:o}){const a=n.tokenised.match(e);a&&(n["num"+t]=a.length,n.tokenised=n.tokenised.replace(e,i),n.values.push(...a.map(o)))}function Tl(n){const e=n.toString(),t={value:e,tokenised:e,values:[],numVars:0,numColors:0,numNumbers:0};return t.value.includes("var(--")&&ud(t,ay),ud(t,ly),ud(t,uy),t}function cy(n){return Tl(n).values}function dy(n){const{values:e,numColors:t,numVars:i,tokenised:o}=Tl(n),a=e.length;return l=>{let c=o;for(let d=0;d<a;d++)d<i?c=c.replace(ay.token,l[d]):d<i+t?c=c.replace(ly.token,Vt.transform(l[d])):c=c.replace(uy.token,Ao(l[d]));return c}}const Dk=n=>typeof n=="number"?0:n;function jk(n){const e=cy(n);return dy(n)(e.map(Dk))}const qr={test:Tk,parse:cy,createTransformer:dy,getAnimatableNone:jk},hy=(n,e)=>t=>`${t>0?e:n}`;function fy(n,e){return typeof n=="number"?t=>nt(n,e,t):Vt.test(n)?oy(n,e):n.startsWith("var(")?hy(n,e):my(n,e)}const py=(n,e)=>{const t=[...n],i=t.length,o=n.map((a,l)=>fy(a,e[l]));return a=>{for(let l=0;l<i;l++)t[l]=o[l](a);return t}},Ik=(n,e)=>{const t={...n,...e},i={};for(const o in t)n[o]!==void 0&&e[o]!==void 0&&(i[o]=fy(n[o],e[o]));return o=>{for(const a in i)t[a]=i[a](o);return t}},my=(n,e)=>{const t=qr.createTransformer(e),i=Tl(n),o=Tl(e);return i.numVars===o.numVars&&i.numColors===o.numColors&&i.numNumbers>=o.numNumbers?Wr(py(i.values,o.values),t):hy(n,e)},No=(n,e,t)=>{const i=e-n;return i===0?1:(t-n)/i},bg=(n,e)=>t=>nt(n,e,t);function Ok(n){return typeof n=="number"?bg:typeof n=="string"?Vt.test(n)?oy:my:Array.isArray(n)?py:typeof n=="object"?Ik:bg}function Rk(n,e,t){const i=[],o=t||Ok(n[0]),a=n.length-1;for(let l=0;l<a;l++){let c=o(n[l],n[l+1]);if(e){const d=Array.isArray(e)?e[l]||ut:e;c=Wr(d,c)}i.push(c)}return i}function gy(n,e,{clamp:t=!0,ease:i,mixer:o}={}){const a=n.length;if(Oh(a===e.length),a===1)return()=>e[0];n[0]>n[a-1]&&(n=[...n].reverse(),e=[...e].reverse());const l=Rk(e,i,o),c=l.length,d=p=>{let f=0;if(c>1)for(;f<n.length-2&&!(p<n[f+1]);f++);const m=No(n[f],n[f+1],p);return l[f](m)};return t?p=>d(Kr(n[0],n[a-1],p)):d}function Lk(n,e){const t=n[n.length-1];for(let i=1;i<=e;i++){const o=No(0,e,i);n.push(nt(t,1,o))}}function Mk(n){const e=[0];return Lk(e,n.length-1),e}function Fk(n,e){return n.map(t=>t*e)}function Nk(n,e){return n.map(()=>e||ey).splice(0,n.length-1)}function Dl({duration:n=300,keyframes:e,times:t,ease:i="easeInOut"}){const o=wk(i)?i.map(xg):xg(i),a={done:!1,value:e[0]},l=Fk(t&&t.length===e.length?t:Mk(e),n),c=gy(l,e,{ease:Array.isArray(o)?o:Nk(e,o)});return{calculatedDuration:n,next:d=>(a.value=c(d),a.done=d>=n,a)}}function vy(n,e){return e?n*(1e3/e):0}const Uk=5;function yy(n,e,t){const i=Math.max(e-Uk,0);return vy(t-n(i),e-i)}const cd=.001,Bk=.01,$k=10,zk=.05,Vk=1;function Hk({duration:n=800,bounce:e=.25,velocity:t=0,mass:i=1}){let o,a,l=1-e;l=Kr(zk,Vk,l),n=Kr(Bk,$k,ur(n)),l<1?(o=p=>{const f=p*l,m=f*n,g=f-t,y=Bd(p,l),x=Math.exp(-m);return cd-g/y*x},a=p=>{const m=p*l*n,g=m*t+t,y=Math.pow(l,2)*Math.pow(p,2)*n,x=Math.exp(-m),S=Bd(Math.pow(p,2),l);return(-o(p)+cd>0?-1:1)*((g-y)*x)/S}):(o=p=>{const f=Math.exp(-p*n),m=(p-t)*n+1;return-cd+f*m},a=p=>{const f=Math.exp(-p*n),m=(t-p)*(n*n);return f*m});const c=5/n,d=Gk(o,a,c);if(n=Ei(n),isNaN(d))return{stiffness:100,damping:10,duration:n};{const p=Math.pow(d,2)*i;return{stiffness:p,damping:l*2*Math.sqrt(i*p),duration:n}}}const Wk=12;function Gk(n,e,t){let i=t;for(let o=1;o<Wk;o++)i=i-n(i)/e(i);return i}function Bd(n,e){return n*Math.sqrt(1-e*e)}const Kk=["duration","bounce"],qk=["stiffness","damping","mass"];function kg(n,e){return e.some(t=>n[t]!==void 0)}function Xk(n){let e={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...n};if(!kg(n,qk)&&kg(n,Kk)){const t=Hk(n);e={...e,...t,mass:1},e.isResolvedFromDuration=!0}return e}function wy({keyframes:n,restDelta:e,restSpeed:t,...i}){const o=n[0],a=n[n.length-1],l={done:!1,value:o},{stiffness:c,damping:d,mass:p,duration:f,velocity:m,isResolvedFromDuration:g}=Xk({...i,velocity:-ur(i.velocity||0)}),y=m||0,x=d/(2*Math.sqrt(c*p)),S=a-o,C=ur(Math.sqrt(c/p)),P=Math.abs(S)<5;t||(t=P?.01:2),e||(e=P?.005:.5);let I;if(x<1){const A=Bd(C,x);I=j=>{const H=Math.exp(-x*C*j);return a-H*((y+x*C*S)/A*Math.sin(A*j)+S*Math.cos(A*j))}}else if(x===1)I=A=>a-Math.exp(-C*A)*(S+(y+C*S)*A);else{const A=C*Math.sqrt(x*x-1);I=j=>{const H=Math.exp(-x*C*j),T=Math.min(A*j,300);return a-H*((y+x*C*S)*Math.sinh(T)+A*S*Math.cosh(T))/A}}return{calculatedDuration:g&&f||null,next:A=>{const j=I(A);if(g)l.done=A>=f;else{let H=y;A!==0&&(x<1?H=yy(I,A,j):H=0);const T=Math.abs(H)<=t,V=Math.abs(a-j)<=e;l.done=T&&V}return l.value=l.done?a:j,l}}}function Cg({keyframes:n,velocity:e=0,power:t=.8,timeConstant:i=325,bounceDamping:o=10,bounceStiffness:a=500,modifyTarget:l,min:c,max:d,restDelta:p=.5,restSpeed:f}){const m=n[0],g={done:!1,value:m},y=k=>c!==void 0&&k<c||d!==void 0&&k>d,x=k=>c===void 0?d:d===void 0||Math.abs(c-k)<Math.abs(d-k)?c:d;let S=t*e;const C=m+S,P=l===void 0?C:l(C);P!==C&&(S=P-m);const I=k=>-S*Math.exp(-k/i),A=k=>P+I(k),j=k=>{const _=I(k),F=A(k);g.done=Math.abs(_)<=p,g.value=g.done?P:F};let H,T;const V=k=>{y(g.value)&&(H=k,T=wy({keyframes:[g.value,x(g.value)],velocity:yy(A,k,g.value),damping:o,stiffness:a,restDelta:p,restSpeed:f}))};return V(0),{calculatedDuration:null,next:k=>{let _=!1;return!T&&H===void 0&&(_=!0,j(k),V(k)),H!==void 0&&k>H?T.next(k-H):(!_&&j(k),g)}}}const Yk=n=>{const e=({timestamp:t})=>n(t);return{start:()=>Ke.update(e,!0),stop:()=>cr(e),now:()=>Ft.isProcessing?Ft.timestamp:performance.now()}},_g=2e4;function Pg(n){let e=0;const t=50;let i=n.next(e);for(;!i.done&&e<_g;)e+=t,i=n.next(e);return e>=_g?1/0:e}const Qk={decay:Cg,inertia:Cg,tween:Dl,keyframes:Dl,spring:wy};function jl({autoplay:n=!0,delay:e=0,driver:t=Yk,keyframes:i,type:o="keyframes",repeat:a=0,repeatDelay:l=0,repeatType:c="loop",onPlay:d,onStop:p,onComplete:f,onUpdate:m,...g}){let y=1,x=!1,S,C;const P=()=>{C=new Promise(R=>{S=R})};P();let I;const A=Qk[o]||Dl;let j;A!==Dl&&typeof i[0]!="number"&&(j=gy([0,100],i,{clamp:!1}),i=[0,100]);const H=A({...g,keyframes:i});let T;c==="mirror"&&(T=A({...g,keyframes:[...i].reverse(),velocity:-(g.velocity||0)}));let V="idle",k=null,_=null,F=null;H.calculatedDuration===null&&a&&(H.calculatedDuration=Pg(H));const{calculatedDuration:z}=H;let B=1/0,N=1/0;z!==null&&(B=z+l,N=B*(a+1)-l);let L=0;const q=R=>{if(_===null)return;y>0&&(_=Math.min(_,R)),y<0&&(_=Math.min(R-N/y,_)),k!==null?L=k:L=Math.round(R-_)*y;const W=L-e*(y>=0?1:-1),ne=y>=0?W<0:W>N;L=Math.max(W,0),V==="finished"&&k===null&&(L=N);let Z=L,Y=H;if(a){const fe=Math.min(L,N)/B;let xe=Math.floor(fe),Pe=fe%1;!Pe&&fe>=1&&(Pe=1),Pe===1&&xe--,xe=Math.min(xe,a+1),!!(xe%2)&&(c==="reverse"?(Pe=1-Pe,l&&(Pe-=l/B)):c==="mirror"&&(Y=T)),Z=Kr(0,1,Pe)*B}const ie=ne?{done:!1,value:i[0]}:Y.next(Z);j&&(ie.value=j(ie.value));let{done:ve}=ie;!ne&&z!==null&&(ve=y>=0?L>=N:L<=0);const de=k===null&&(V==="finished"||V==="running"&&ve);return m&&m(ie.value),de&&X(),ie},D=()=>{I&&I.stop(),I=void 0},E=()=>{V="idle",D(),S(),P(),_=F=null},X=()=>{V="finished",f&&f(),D(),S()},U=()=>{if(x)return;I||(I=t(q));const R=I.now();d&&d(),k!==null?_=R-k:(!_||V==="finished")&&(_=R),V==="finished"&&P(),F=_,k=null,V="running",I.start()};n&&U();const K={then(R,W){return C.then(R,W)},get time(){return ur(L)},set time(R){R=Ei(R),L=R,k!==null||!I||y===0?k=R:_=I.now()-R/y},get duration(){const R=H.calculatedDuration===null?Pg(H):H.calculatedDuration;return ur(R)},get speed(){return y},set speed(R){R===y||!I||(y=R,K.time=ur(L))},get state(){return V},play:U,pause:()=>{V="paused",k=L},stop:()=>{x=!0,V!=="idle"&&(V="idle",p&&p(),E())},cancel:()=>{F!==null&&q(F),E()},complete:()=>{V="finished"},sample:R=>(_=0,q(R))};return K}function Jk(n){let e;return()=>(e===void 0&&(e=n()),e)}const Zk=Jk(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),eC=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),sl=10,tC=2e4,nC=(n,e)=>e.type==="spring"||n==="backgroundColor"||!Y0(e.ease);function rC(n,e,{onUpdate:t,onComplete:i,...o}){if(!(Zk()&&eC.has(e)&&!o.repeatDelay&&o.repeatType!=="mirror"&&o.damping!==0&&o.type!=="inertia"))return!1;let l=!1,c,d,p=!1;const f=()=>{d=new Promise(A=>{c=A})};f();let{keyframes:m,duration:g=300,ease:y,times:x}=o;if(nC(e,o)){const A=jl({...o,repeat:0,delay:0});let j={done:!1,value:m[0]};const H=[];let T=0;for(;!j.done&&T<tC;)j=A.sample(T),H.push(j.value),T+=sl;x=void 0,m=H,g=T-sl,y="linear"}const S=hk(n.owner.current,e,m,{...o,duration:g,ease:y,times:x}),C=()=>{p=!1,S.cancel()},P=()=>{p=!0,Ke.update(C),c(),f()};return S.onfinish=()=>{p||(n.set(fk(m,o)),i&&i(),P())},{then(A,j){return d.then(A,j)},attachTimeline(A){return S.timeline=A,S.onfinish=null,ut},get time(){return ur(S.currentTime||0)},set time(A){S.currentTime=Ei(A)},get speed(){return S.playbackRate},set speed(A){S.playbackRate=A},get duration(){return ur(g)},play:()=>{l||(S.play(),cr(C))},pause:()=>S.pause(),stop:()=>{if(l=!0,S.playState==="idle")return;const{currentTime:A}=S;if(A){const j=jl({...o,autoplay:!1});n.setWithVelocity(j.sample(A-sl).value,j.sample(A).value,sl)}P()},complete:()=>{p||S.finish()},cancel:P}}function iC({keyframes:n,delay:e,onUpdate:t,onComplete:i}){const o=()=>(t&&t(n[n.length-1]),i&&i(),{time:0,speed:1,duration:0,play:ut,pause:ut,stop:ut,then:a=>(a(),Promise.resolve()),cancel:ut,complete:ut});return e?jl({keyframes:[0,1],duration:0,delay:e,onComplete:o}):o()}const sC={type:"spring",stiffness:500,damping:25,restSpeed:10},oC=n=>({type:"spring",stiffness:550,damping:n===0?2*Math.sqrt(550):30,restSpeed:10}),aC={type:"keyframes",duration:.8},lC={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},uC=(n,{keyframes:e})=>e.length>2?aC:Oi.has(n)?n.startsWith("scale")?oC(e[1]):sC:lC,$d=(n,e)=>n==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(qr.test(e)||e==="0")&&!e.startsWith("url(")),cC=new Set(["brightness","contrast","saturate","opacity"]);function dC(n){const[e,t]=n.slice(0,-1).split("(");if(e==="drop-shadow")return n;const[i]=t.match(Zl)||[];if(!i)return n;const o=t.replace(i,"");let a=cC.has(e)?1:0;return i!==t&&(a*=100),e+"("+a+o+")"}const hC=/([a-z-]*)\(.*?\)/g,zd={...qr,getAnimatableNone:n=>{const e=n.match(hC);return e?e.map(dC).join(" "):n}},fC={...O0,color:Vt,backgroundColor:Vt,outlineColor:Vt,fill:Vt,stroke:Vt,borderColor:Vt,borderTopColor:Vt,borderRightColor:Vt,borderBottomColor:Vt,borderLeftColor:Vt,filter:zd,WebkitFilter:zd},Fh=n=>fC[n];function xy(n,e){let t=Fh(n);return t!==zd&&(t=qr),t.getAnimatableNone?t.getAnimatableNone(e):void 0}const Sy=n=>/^0[^.\s]+$/.test(n);function pC(n){if(typeof n=="number")return n===0;if(n!==null)return n==="none"||n==="0"||Sy(n)}function mC(n,e,t,i){const o=$d(e,t);let a;Array.isArray(t)?a=[...t]:a=[null,t];const l=i.from!==void 0?i.from:n.get();let c;const d=[];for(let p=0;p<a.length;p++)a[p]===null&&(a[p]=p===0?l:a[p-1]),pC(a[p])&&d.push(p),typeof a[p]=="string"&&a[p]!=="none"&&a[p]!=="0"&&(c=a[p]);if(o&&d.length&&c)for(let p=0;p<d.length;p++){const f=d[p];a[f]=xy(e,c)}return a}function gC({when:n,delay:e,delayChildren:t,staggerChildren:i,staggerDirection:o,repeat:a,repeatType:l,repeatDelay:c,from:d,elapsed:p,...f}){return!!Object.keys(f).length}function Nh(n,e){return n[e]||n.default||n}const vC={skipAnimations:!1},Uh=(n,e,t,i={})=>o=>{const a=Nh(i,n)||{},l=a.delay||i.delay||0;let{elapsed:c=0}=i;c=c-Ei(l);const d=mC(e,n,t,a),p=d[0],f=d[d.length-1],m=$d(n,p),g=$d(n,f);let y={keyframes:d,velocity:e.getVelocity(),ease:"easeOut",...a,delay:-c,onUpdate:x=>{e.set(x),a.onUpdate&&a.onUpdate(x)},onComplete:()=>{o(),a.onComplete&&a.onComplete()}};if(gC(a)||(y={...y,...uC(n,y)}),y.duration&&(y.duration=Ei(y.duration)),y.repeatDelay&&(y.repeatDelay=Ei(y.repeatDelay)),!m||!g||dk.current||a.type===!1||vC.skipAnimations)return iC(y);if(!i.isHandoff&&e.owner&&e.owner.current instanceof HTMLElement&&!e.owner.getProps().onUpdate){const x=rC(e,n,y);if(x)return x}return jl(y)};function Il(n){return!!(Zt(n)&&n.add)}const by=n=>/^\-?\d*\.?\d+$/.test(n);function Bh(n,e){n.indexOf(e)===-1&&n.push(e)}function $h(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}class zh{constructor(){this.subscriptions=[]}add(e){return Bh(this.subscriptions,e),()=>$h(this.subscriptions,e)}notify(e,t,i){const o=this.subscriptions.length;if(o)if(o===1)this.subscriptions[0](e,t,i);else for(let a=0;a<o;a++){const l=this.subscriptions[a];l&&l(e,t,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const yC=n=>!isNaN(parseFloat(n));class wC{constructor(e,t={}){this.version="10.18.0",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(i,o=!0)=>{this.prev=this.current,this.current=i;const{delta:a,timestamp:l}=Ft;this.lastUpdated!==l&&(this.timeDelta=a,this.lastUpdated=l,Ke.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),o&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>Ke.postRender(this.velocityCheck),this.velocityCheck=({timestamp:i})=>{i!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=e,this.canTrackVelocity=yC(this.current),this.owner=t.owner}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new zh);const i=this.events[e].add(t);return e==="change"?()=>{i(),Ke.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e,t=!0){!t||!this.passiveEffect?this.updateAndNotify(e,t):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,t,i){this.set(t),this.prev=e,this.timeDelta=i}jump(e){this.updateAndNotify(e),this.prev=e,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?vy(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(e){return this.stop(),new Promise(t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Es(n,e){return new wC(n,e)}const ky=n=>e=>e.test(n),xC={test:n=>n==="auto",parse:n=>n},Cy=[Ri,Se,Wn,Fr,Eb,Pb,xC],xo=n=>Cy.find(ky(n)),SC=[...Cy,Vt,qr],bC=n=>SC.find(ky(n));function kC(n,e,t){n.hasValue(e)?n.getValue(e).set(t):n.addValue(e,Es(t))}function CC(n,e){const t=tu(n,e);let{transitionEnd:i={},transition:o={},...a}=t?n.makeTargetAnimatable(t,!1):{};a={...a,...i};for(const l in a){const c=$b(a[l]);kC(n,l,c)}}function _C(n,e,t){var i,o;const a=Object.keys(e).filter(c=>!n.hasValue(c)),l=a.length;if(l)for(let c=0;c<l;c++){const d=a[c],p=e[d];let f=null;Array.isArray(p)&&(f=p[0]),f===null&&(f=(o=(i=t[d])!==null&&i!==void 0?i:n.readValue(d))!==null&&o!==void 0?o:e[d]),f!=null&&(typeof f=="string"&&(by(f)||Sy(f))?f=parseFloat(f):!bC(f)&&qr.test(p)&&(f=xy(d,p)),n.addValue(d,Es(f,{owner:n})),t[d]===void 0&&(t[d]=f),f!==null&&n.setBaseTarget(d,f))}}function PC(n,e){return e?(e[n]||e.default||e).from:void 0}function EC(n,e,t){const i={};for(const o in n){const a=PC(o,e);if(a!==void 0)i[o]=a;else{const l=t.getValue(o);l&&(i[o]=l.get())}}return i}function AC({protectedKeys:n,needsAnimating:e},t){const i=n.hasOwnProperty(t)&&e[t]!==!0;return e[t]=!1,i}function TC(n,e){const t=n.get();if(Array.isArray(e)){for(let i=0;i<e.length;i++)if(e[i]!==t)return!0}else return t!==e}function _y(n,e,{delay:t=0,transitionOverride:i,type:o}={}){let{transition:a=n.getDefaultTransition(),transitionEnd:l,...c}=n.makeTargetAnimatable(e);const d=n.getValue("willChange");i&&(a=i);const p=[],f=o&&n.animationState&&n.animationState.getState()[o];for(const m in c){const g=n.getValue(m),y=c[m];if(!g||y===void 0||f&&AC(f,m))continue;const x={delay:t,elapsed:0,...Nh(a||{},m)};if(window.HandoffAppearAnimations){const P=n.getProps()[P0];if(P){const I=window.HandoffAppearAnimations(P,m,g,Ke);I!==null&&(x.elapsed=I,x.isHandoff=!0)}}let S=!x.isHandoff&&!TC(g,y);if(x.type==="spring"&&(g.getVelocity()||x.velocity)&&(S=!1),g.animation&&(S=!1),S)continue;g.start(Uh(m,g,y,n.shouldReduceMotion&&Oi.has(m)?{type:!1}:x));const C=g.animation;Il(d)&&(d.add(m),C.then(()=>d.remove(m))),p.push(C)}return l&&Promise.all(p).then(()=>{l&&CC(n,l)}),p}function Vd(n,e,t={}){const i=tu(n,e,t.custom);let{transition:o=n.getDefaultTransition()||{}}=i||{};t.transitionOverride&&(o=t.transitionOverride);const a=i?()=>Promise.all(_y(n,i,t)):()=>Promise.resolve(),l=n.variantChildren&&n.variantChildren.size?(d=0)=>{const{delayChildren:p=0,staggerChildren:f,staggerDirection:m}=o;return DC(n,e,p+d,f,m,t)}:()=>Promise.resolve(),{when:c}=o;if(c){const[d,p]=c==="beforeChildren"?[a,l]:[l,a];return d().then(()=>p())}else return Promise.all([a(),l(t.delay)])}function DC(n,e,t=0,i=0,o=1,a){const l=[],c=(n.variantChildren.size-1)*i,d=o===1?(p=0)=>p*i:(p=0)=>c-p*i;return Array.from(n.variantChildren).sort(jC).forEach((p,f)=>{p.notify("AnimationStart",e),l.push(Vd(p,e,{...a,delay:t+d(f)}).then(()=>p.notify("AnimationComplete",e)))}),Promise.all(l)}function jC(n,e){return n.sortNodePosition(e)}function IC(n,e,t={}){n.notify("AnimationStart",e);let i;if(Array.isArray(e)){const o=e.map(a=>Vd(n,a,t));i=Promise.all(o)}else if(typeof e=="string")i=Vd(n,e,t);else{const o=typeof e=="function"?tu(n,e,t.custom):e;i=Promise.all(_y(n,o,t))}return i.then(()=>n.notify("AnimationComplete",e))}const OC=[...kh].reverse(),RC=kh.length;function LC(n){return e=>Promise.all(e.map(({animation:t,options:i})=>IC(n,t,i)))}function MC(n){let e=LC(n);const t=NC();let i=!0;const o=(d,p)=>{const f=tu(n,p);if(f){const{transition:m,transitionEnd:g,...y}=f;d={...d,...y,...g}}return d};function a(d){e=d(n)}function l(d,p){const f=n.getProps(),m=n.getVariantContext(!0)||{},g=[],y=new Set;let x={},S=1/0;for(let P=0;P<RC;P++){const I=OC[P],A=t[I],j=f[I]!==void 0?f[I]:m[I],H=Mo(j),T=I===p?A.isActive:null;T===!1&&(S=P);let V=j===m[I]&&j!==f[I]&&H;if(V&&i&&n.manuallyAnimateOnMount&&(V=!1),A.protectedKeys={...x},!A.isActive&&T===null||!j&&!A.prevProp||Ql(j)||typeof j=="boolean")continue;let _=FC(A.prevProp,j)||I===p&&A.isActive&&!V&&H||P>S&&H,F=!1;const z=Array.isArray(j)?j:[j];let B=z.reduce(o,{});T===!1&&(B={});const{prevResolvedValues:N={}}=A,L={...N,...B},q=D=>{_=!0,y.has(D)&&(F=!0,y.delete(D)),A.needsAnimating[D]=!0};for(const D in L){const E=B[D],X=N[D];if(x.hasOwnProperty(D))continue;let U=!1;Al(E)&&Al(X)?U=!q0(E,X):U=E!==X,U?E!==void 0?q(D):y.add(D):E!==void 0&&y.has(D)?q(D):A.protectedKeys[D]=!0}A.prevProp=j,A.prevResolvedValues=B,A.isActive&&(x={...x,...B}),i&&n.blockInitialAnimation&&(_=!1),_&&(!V||F)&&g.push(...z.map(D=>({animation:D,options:{type:I,...d}})))}if(y.size){const P={};y.forEach(I=>{const A=n.getBaseTarget(I);A!==void 0&&(P[I]=A)}),g.push({animation:P})}let C=!!g.length;return i&&(f.initial===!1||f.initial===f.animate)&&!n.manuallyAnimateOnMount&&(C=!1),i=!1,C?e(g):Promise.resolve()}function c(d,p,f){var m;if(t[d].isActive===p)return Promise.resolve();(m=n.variantChildren)===null||m===void 0||m.forEach(y=>{var x;return(x=y.animationState)===null||x===void 0?void 0:x.setActive(d,p)}),t[d].isActive=p;const g=l(f,d);for(const y in t)t[y].protectedKeys={};return g}return{animateChanges:l,setActive:c,setAnimateFunction:a,getState:()=>t}}function FC(n,e){return typeof e=="string"?e!==n:Array.isArray(e)?!q0(e,n):!1}function hi(n=!1){return{isActive:n,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function NC(){return{animate:hi(!0),whileInView:hi(),whileHover:hi(),whileTap:hi(),whileDrag:hi(),whileFocus:hi(),exit:hi()}}class UC extends Xr{constructor(e){super(e),e.animationState||(e.animationState=MC(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();this.unmount(),Ql(e)&&(this.unmount=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){}}let BC=0;class $C extends Xr{constructor(){super(...arguments),this.id=BC++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:t,custom:i}=this.node.presenceContext,{isPresent:o}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===o)return;const a=this.node.animationState.setActive("exit",!e,{custom:i??this.node.getProps().custom});t&&!e&&a.then(()=>t(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const zC={animation:{Feature:UC},exit:{Feature:$C}},Eg=(n,e)=>Math.abs(n-e);function VC(n,e){const t=Eg(n.x,e.x),i=Eg(n.y,e.y);return Math.sqrt(t**2+i**2)}class Py{constructor(e,t,{transformPagePoint:i,contextWindow:o,dragSnapToOrigin:a=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const m=hd(this.lastMoveEventInfo,this.history),g=this.startEvent!==null,y=VC(m.offset,{x:0,y:0})>=3;if(!g&&!y)return;const{point:x}=m,{timestamp:S}=Ft;this.history.push({...x,timestamp:S});const{onStart:C,onMove:P}=this.handlers;g||(C&&C(this.lastMoveEvent,m),this.startEvent=this.lastMoveEvent),P&&P(this.lastMoveEvent,m)},this.handlePointerMove=(m,g)=>{this.lastMoveEvent=m,this.lastMoveEventInfo=dd(g,this.transformPagePoint),Ke.update(this.updatePoint,!0)},this.handlePointerUp=(m,g)=>{this.end();const{onEnd:y,onSessionEnd:x,resumeAnimation:S}=this.handlers;if(this.dragSnapToOrigin&&S&&S(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const C=hd(m.type==="pointercancel"?this.lastMoveEventInfo:dd(g,this.transformPagePoint),this.history);this.startEvent&&y&&y(m,C),x&&x(m,C)},!V0(e))return;this.dragSnapToOrigin=a,this.handlers=t,this.transformPagePoint=i,this.contextWindow=o||window;const l=eu(e),c=dd(l,this.transformPagePoint),{point:d}=c,{timestamp:p}=Ft;this.history=[{...d,timestamp:p}];const{onSessionStart:f}=t;f&&f(e,hd(c,this.history)),this.removeListeners=Wr(lr(this.contextWindow,"pointermove",this.handlePointerMove),lr(this.contextWindow,"pointerup",this.handlePointerUp),lr(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),cr(this.updatePoint)}}function dd(n,e){return e?{point:e(n.point)}:n}function Ag(n,e){return{x:n.x-e.x,y:n.y-e.y}}function hd({point:n},e){return{point:n,delta:Ag(n,Ey(e)),offset:Ag(n,HC(e)),velocity:WC(e,.1)}}function HC(n){return n[0]}function Ey(n){return n[n.length-1]}function WC(n,e){if(n.length<2)return{x:0,y:0};let t=n.length-1,i=null;const o=Ey(n);for(;t>=0&&(i=n[t],!(o.timestamp-i.timestamp>Ei(e)));)t--;if(!i)return{x:0,y:0};const a=ur(o.timestamp-i.timestamp);if(a===0)return{x:0,y:0};const l={x:(o.x-i.x)/a,y:(o.y-i.y)/a};return l.x===1/0&&(l.x=0),l.y===1/0&&(l.y=0),l}function an(n){return n.max-n.min}function Hd(n,e=0,t=.01){return Math.abs(n-e)<=t}function Tg(n,e,t,i=.5){n.origin=i,n.originPoint=nt(e.min,e.max,n.origin),n.scale=an(t)/an(e),(Hd(n.scale,1,1e-4)||isNaN(n.scale))&&(n.scale=1),n.translate=nt(t.min,t.max,n.origin)-n.originPoint,(Hd(n.translate)||isNaN(n.translate))&&(n.translate=0)}function To(n,e,t,i){Tg(n.x,e.x,t.x,i?i.originX:void 0),Tg(n.y,e.y,t.y,i?i.originY:void 0)}function Dg(n,e,t){n.min=t.min+e.min,n.max=n.min+an(e)}function GC(n,e,t){Dg(n.x,e.x,t.x),Dg(n.y,e.y,t.y)}function jg(n,e,t){n.min=e.min-t.min,n.max=n.min+an(e)}function Do(n,e,t){jg(n.x,e.x,t.x),jg(n.y,e.y,t.y)}function KC(n,{min:e,max:t},i){return e!==void 0&&n<e?n=i?nt(e,n,i.min):Math.max(n,e):t!==void 0&&n>t&&(n=i?nt(t,n,i.max):Math.min(n,t)),n}function Ig(n,e,t){return{min:e!==void 0?n.min+e:void 0,max:t!==void 0?n.max+t-(n.max-n.min):void 0}}function qC(n,{top:e,left:t,bottom:i,right:o}){return{x:Ig(n.x,t,o),y:Ig(n.y,e,i)}}function Og(n,e){let t=e.min-n.min,i=e.max-n.max;return e.max-e.min<n.max-n.min&&([t,i]=[i,t]),{min:t,max:i}}function XC(n,e){return{x:Og(n.x,e.x),y:Og(n.y,e.y)}}function YC(n,e){let t=.5;const i=an(n),o=an(e);return o>i?t=No(e.min,e.max-i,n.min):i>o&&(t=No(n.min,n.max-o,e.min)),Kr(0,1,t)}function QC(n,e){const t={};return e.min!==void 0&&(t.min=e.min-n.min),e.max!==void 0&&(t.max=e.max-n.min),t}const Wd=.35;function JC(n=Wd){return n===!1?n=0:n===!0&&(n=Wd),{x:Rg(n,"left","right"),y:Rg(n,"top","bottom")}}function Rg(n,e,t){return{min:Lg(n,e),max:Lg(n,t)}}function Lg(n,e){return typeof n=="number"?n:n[e]||0}const Mg=()=>({translate:0,scale:1,origin:0,originPoint:0}),bs=()=>({x:Mg(),y:Mg()}),Fg=()=>({min:0,max:0}),ht=()=>({x:Fg(),y:Fg()});function gn(n){return[n("x"),n("y")]}function Ay({top:n,left:e,right:t,bottom:i}){return{x:{min:e,max:t},y:{min:n,max:i}}}function ZC({x:n,y:e}){return{top:e.min,right:n.max,bottom:e.max,left:n.min}}function e2(n,e){if(!e)return n;const t=e({x:n.left,y:n.top}),i=e({x:n.right,y:n.bottom});return{top:t.y,left:t.x,bottom:i.y,right:i.x}}function fd(n){return n===void 0||n===1}function Gd({scale:n,scaleX:e,scaleY:t}){return!fd(n)||!fd(e)||!fd(t)}function mi(n){return Gd(n)||Ty(n)||n.z||n.rotate||n.rotateX||n.rotateY}function Ty(n){return Ng(n.x)||Ng(n.y)}function Ng(n){return n&&n!=="0%"}function Ol(n,e,t){const i=n-t,o=e*i;return t+o}function Ug(n,e,t,i,o){return o!==void 0&&(n=Ol(n,o,i)),Ol(n,t,i)+e}function Kd(n,e=0,t=1,i,o){n.min=Ug(n.min,e,t,i,o),n.max=Ug(n.max,e,t,i,o)}function Dy(n,{x:e,y:t}){Kd(n.x,e.translate,e.scale,e.originPoint),Kd(n.y,t.translate,t.scale,t.originPoint)}function t2(n,e,t,i=!1){const o=t.length;if(!o)return;e.x=e.y=1;let a,l;for(let c=0;c<o;c++){a=t[c],l=a.projectionDelta;const d=a.instance;d&&d.style&&d.style.display==="contents"||(i&&a.options.layoutScroll&&a.scroll&&a!==a.root&&ks(n,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),l&&(e.x*=l.x.scale,e.y*=l.y.scale,Dy(n,l)),i&&mi(a.latestValues)&&ks(n,a.latestValues))}e.x=Bg(e.x),e.y=Bg(e.y)}function Bg(n){return Number.isInteger(n)||n>1.0000000000001||n<.999999999999?n:1}function Ur(n,e){n.min=n.min+e,n.max=n.max+e}function $g(n,e,[t,i,o]){const a=e[o]!==void 0?e[o]:.5,l=nt(n.min,n.max,a);Kd(n,e[t],e[i],l,e.scale)}const n2=["x","scaleX","originX"],r2=["y","scaleY","originY"];function ks(n,e){$g(n.x,e,n2),$g(n.y,e,r2)}function jy(n,e){return Ay(e2(n.getBoundingClientRect(),e))}function i2(n,e,t){const i=jy(n,t),{scroll:o}=e;return o&&(Ur(i.x,o.offset.x),Ur(i.y,o.offset.y)),i}const Iy=({current:n})=>n?n.ownerDocument.defaultView:null,s2=new WeakMap;class o2{constructor(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=ht(),this.visualElement=e}start(e,{snapToCursor:t=!1}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const o=f=>{const{dragSnapToOrigin:m}=this.getProps();m?this.pauseAnimation():this.stopAnimation(),t&&this.snapToCursor(eu(f,"page").point)},a=(f,m)=>{const{drag:g,dragPropagation:y,onDragStart:x}=this.getProps();if(g&&!y&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=W0(g),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),gn(C=>{let P=this.getAxisMotionValue(C).get()||0;if(Wn.test(P)){const{projection:I}=this.visualElement;if(I&&I.layout){const A=I.layout.layoutBox[C];A&&(P=an(A)*(parseFloat(P)/100))}}this.originPoint[C]=P}),x&&Ke.update(()=>x(f,m),!1,!0);const{animationState:S}=this.visualElement;S&&S.setActive("whileDrag",!0)},l=(f,m)=>{const{dragPropagation:g,dragDirectionLock:y,onDirectionLock:x,onDrag:S}=this.getProps();if(!g&&!this.openGlobalLock)return;const{offset:C}=m;if(y&&this.currentDirection===null){this.currentDirection=a2(C),this.currentDirection!==null&&x&&x(this.currentDirection);return}this.updateAxis("x",m.point,C),this.updateAxis("y",m.point,C),this.visualElement.render(),S&&S(f,m)},c=(f,m)=>this.stop(f,m),d=()=>gn(f=>{var m;return this.getAnimationState(f)==="paused"&&((m=this.getAxisMotionValue(f).animation)===null||m===void 0?void 0:m.play())}),{dragSnapToOrigin:p}=this.getProps();this.panSession=new Py(e,{onSessionStart:o,onStart:a,onMove:l,onSessionEnd:c,resumeAnimation:d},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:p,contextWindow:Iy(this.visualElement)})}stop(e,t){const i=this.isDragging;if(this.cancel(),!i)return;const{velocity:o}=t;this.startAnimation(o);const{onDragEnd:a}=this.getProps();a&&Ke.update(()=>a(e,t))}cancel(){this.isDragging=!1;const{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:i}=this.getProps();!i&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),t&&t.setActive("whileDrag",!1)}updateAxis(e,t,i){const{drag:o}=this.getProps();if(!i||!ol(e,o,this.currentDirection))return;const a=this.getAxisMotionValue(e);let l=this.originPoint[e]+i[e];this.constraints&&this.constraints[e]&&(l=KC(l,this.constraints[e],this.elastic[e])),a.set(l)}resolveConstraints(){var e;const{dragConstraints:t,dragElastic:i}=this.getProps(),o=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,a=this.constraints;t&&xs(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&o?this.constraints=qC(o.layoutBox,t):this.constraints=!1,this.elastic=JC(i),a!==this.constraints&&o&&this.constraints&&!this.hasMutatedConstraints&&gn(l=>{this.getAxisMotionValue(l)&&(this.constraints[l]=QC(o.layoutBox[l],this.constraints[l]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!xs(e))return!1;const i=e.current,{projection:o}=this.visualElement;if(!o||!o.layout)return!1;const a=i2(i,o.root,this.visualElement.getTransformPagePoint());let l=XC(o.layout.layoutBox,a);if(t){const c=t(ZC(l));this.hasMutatedConstraints=!!c,c&&(l=Ay(c))}return l}startAnimation(e){const{drag:t,dragMomentum:i,dragElastic:o,dragTransition:a,dragSnapToOrigin:l,onDragTransitionEnd:c}=this.getProps(),d=this.constraints||{},p=gn(f=>{if(!ol(f,t,this.currentDirection))return;let m=d&&d[f]||{};l&&(m={min:0,max:0});const g=o?200:1e6,y=o?40:1e7,x={type:"inertia",velocity:i?e[f]:0,bounceStiffness:g,bounceDamping:y,timeConstant:750,restDelta:1,restSpeed:10,...a,...m};return this.startAxisValueAnimation(f,x)});return Promise.all(p).then(c)}startAxisValueAnimation(e,t){const i=this.getAxisMotionValue(e);return i.start(Uh(e,i,0,t))}stopAnimation(){gn(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){gn(e=>{var t;return(t=this.getAxisMotionValue(e).animation)===null||t===void 0?void 0:t.pause()})}getAnimationState(e){var t;return(t=this.getAxisMotionValue(e).animation)===null||t===void 0?void 0:t.state}getAxisMotionValue(e){const t="_drag"+e.toUpperCase(),i=this.visualElement.getProps(),o=i[t];return o||this.visualElement.getValue(e,(i.initial?i.initial[e]:void 0)||0)}snapToCursor(e){gn(t=>{const{drag:i}=this.getProps();if(!ol(t,i,this.currentDirection))return;const{projection:o}=this.visualElement,a=this.getAxisMotionValue(t);if(o&&o.layout){const{min:l,max:c}=o.layout.layoutBox[t];a.set(e[t]-nt(l,c,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:t}=this.getProps(),{projection:i}=this.visualElement;if(!xs(t)||!i||!this.constraints)return;this.stopAnimation();const o={x:0,y:0};gn(l=>{const c=this.getAxisMotionValue(l);if(c){const d=c.get();o[l]=YC({min:d,max:d},this.constraints[l])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.resolveConstraints(),gn(l=>{if(!ol(l,e,null))return;const c=this.getAxisMotionValue(l),{min:d,max:p}=this.constraints[l];c.set(nt(d,p,o[l]))})}addListeners(){if(!this.visualElement.current)return;s2.set(this.visualElement,this);const e=this.visualElement.current,t=lr(e,"pointerdown",d=>{const{drag:p,dragListener:f=!0}=this.getProps();p&&f&&this.start(d)}),i=()=>{const{dragConstraints:d}=this.getProps();xs(d)&&(this.constraints=this.resolveRefConstraints())},{projection:o}=this.visualElement,a=o.addEventListener("measure",i);o&&!o.layout&&(o.root&&o.root.updateScroll(),o.updateLayout()),i();const l=ar(window,"resize",()=>this.scalePositionWithinConstraints()),c=o.addEventListener("didUpdate",(({delta:d,hasLayoutChanged:p})=>{this.isDragging&&p&&(gn(f=>{const m=this.getAxisMotionValue(f);m&&(this.originPoint[f]+=d[f].translate,m.set(m.get()+d[f].translate))}),this.visualElement.render())}));return()=>{l(),t(),a(),c&&c()}}getProps(){const e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:i=!1,dragPropagation:o=!1,dragConstraints:a=!1,dragElastic:l=Wd,dragMomentum:c=!0}=e;return{...e,drag:t,dragDirectionLock:i,dragPropagation:o,dragConstraints:a,dragElastic:l,dragMomentum:c}}}function ol(n,e,t){return(e===!0||e===n)&&(t===null||t===n)}function a2(n,e=10){let t=null;return Math.abs(n.y)>e?t="y":Math.abs(n.x)>e&&(t="x"),t}class l2 extends Xr{constructor(e){super(e),this.removeGroupControls=ut,this.removeListeners=ut,this.controls=new o2(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||ut}unmount(){this.removeGroupControls(),this.removeListeners()}}const zg=n=>(e,t)=>{n&&Ke.update(()=>n(e,t))};class u2 extends Xr{constructor(){super(...arguments),this.removePointerDownListener=ut}onPointerDown(e){this.session=new Py(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Iy(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:t,onPan:i,onPanEnd:o}=this.node.getProps();return{onSessionStart:zg(e),onStart:zg(t),onMove:i,onEnd:(a,l)=>{delete this.session,o&&Ke.update(()=>o(a,l))}}}mount(){this.removePointerDownListener=lr(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function c2(){const n=J.useContext(Xl);if(n===null)return[!0,null];const{isPresent:e,onExitComplete:t,register:i}=n,o=J.useId();return J.useEffect(()=>i(o),[]),!e&&t?[!1,()=>t&&t(o)]:[!0]}const vl={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Vg(n,e){return e.max===e.min?0:n/(e.max-e.min)*100}const So={correct:(n,e)=>{if(!e.target)return n;if(typeof n=="string")if(Se.test(n))n=parseFloat(n);else return n;const t=Vg(n,e.target.x),i=Vg(n,e.target.y);return`${t}% ${i}%`}},d2={correct:(n,{treeScale:e,projectionDelta:t})=>{const i=n,o=qr.parse(n);if(o.length>5)return i;const a=qr.createTransformer(n),l=typeof o[0]!="number"?1:0,c=t.x.scale*e.x,d=t.y.scale*e.y;o[0+l]/=c,o[1+l]/=d;const p=nt(c,d,.5);return typeof o[2+l]=="number"&&(o[2+l]/=p),typeof o[3+l]=="number"&&(o[3+l]/=p),a(o)}};class h2 extends je.Component{componentDidMount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:i,layoutId:o}=this.props,{projection:a}=e;wb(f2),a&&(t.group&&t.group.add(a),i&&i.register&&o&&i.register(a),a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),vl.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:t,visualElement:i,drag:o,isPresent:a}=this.props,l=i.projection;return l&&(l.isPresent=a,o||e.layoutDependency!==t||t===void 0?l.willUpdate():this.safeToRemove(),e.isPresent!==a&&(a?l.promote():l.relegate()||Ke.postRender(()=>{const c=l.getStack();(!c||!c.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),queueMicrotask(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:i}=this.props,{projection:o}=e;o&&(o.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(o),i&&i.deregister&&i.deregister(o))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function Oy(n){const[e,t]=c2(),i=J.useContext(_h);return je.createElement(h2,{...n,layoutGroup:i,switchLayoutGroup:J.useContext(A0),isPresent:e,safeToRemove:t})}const f2={borderRadius:{...So,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:So,borderTopRightRadius:So,borderBottomLeftRadius:So,borderBottomRightRadius:So,boxShadow:d2},Ry=["TopLeft","TopRight","BottomLeft","BottomRight"],p2=Ry.length,Hg=n=>typeof n=="string"?parseFloat(n):n,Wg=n=>typeof n=="number"||Se.test(n);function m2(n,e,t,i,o,a){o?(n.opacity=nt(0,t.opacity!==void 0?t.opacity:1,g2(i)),n.opacityExit=nt(e.opacity!==void 0?e.opacity:1,0,v2(i))):a&&(n.opacity=nt(e.opacity!==void 0?e.opacity:1,t.opacity!==void 0?t.opacity:1,i));for(let l=0;l<p2;l++){const c=`border${Ry[l]}Radius`;let d=Gg(e,c),p=Gg(t,c);if(d===void 0&&p===void 0)continue;d||(d=0),p||(p=0),d===0||p===0||Wg(d)===Wg(p)?(n[c]=Math.max(nt(Hg(d),Hg(p),i),0),(Wn.test(p)||Wn.test(d))&&(n[c]+="%")):n[c]=p}(e.rotate||t.rotate)&&(n.rotate=nt(e.rotate||0,t.rotate||0,i))}function Gg(n,e){return n[e]!==void 0?n[e]:n.borderRadius}const g2=Ly(0,.5,ry),v2=Ly(.5,.95,ut);function Ly(n,e,t){return i=>i<n?0:i>e?1:t(No(n,e,i))}function Kg(n,e){n.min=e.min,n.max=e.max}function pn(n,e){Kg(n.x,e.x),Kg(n.y,e.y)}function qg(n,e,t,i,o){return n-=e,n=Ol(n,1/t,i),o!==void 0&&(n=Ol(n,1/o,i)),n}function y2(n,e=0,t=1,i=.5,o,a=n,l=n){if(Wn.test(e)&&(e=parseFloat(e),e=nt(l.min,l.max,e/100)-l.min),typeof e!="number")return;let c=nt(a.min,a.max,i);n===a&&(c-=e),n.min=qg(n.min,e,t,c,o),n.max=qg(n.max,e,t,c,o)}function Xg(n,e,[t,i,o],a,l){y2(n,e[t],e[i],e[o],e.scale,a,l)}const w2=["x","scaleX","originX"],x2=["y","scaleY","originY"];function Yg(n,e,t,i){Xg(n.x,e,w2,t?t.x:void 0,i?i.x:void 0),Xg(n.y,e,x2,t?t.y:void 0,i?i.y:void 0)}function Qg(n){return n.translate===0&&n.scale===1}function My(n){return Qg(n.x)&&Qg(n.y)}function S2(n,e){return n.x.min===e.x.min&&n.x.max===e.x.max&&n.y.min===e.y.min&&n.y.max===e.y.max}function Fy(n,e){return Math.round(n.x.min)===Math.round(e.x.min)&&Math.round(n.x.max)===Math.round(e.x.max)&&Math.round(n.y.min)===Math.round(e.y.min)&&Math.round(n.y.max)===Math.round(e.y.max)}function Jg(n){return an(n.x)/an(n.y)}class b2{constructor(){this.members=[]}add(e){Bh(this.members,e),e.scheduleRender()}remove(e){if($h(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const t=this.members[this.members.length-1];t&&this.promote(t)}}relegate(e){const t=this.members.findIndex(o=>e===o);if(t===0)return!1;let i;for(let o=t;o>=0;o--){const a=this.members[o];if(a.isPresent!==!1){i=a;break}}return i?(this.promote(i),!0):!1}promote(e,t){const i=this.lead;if(e!==i&&(this.prevLead=i,this.lead=e,e.show(),i)){i.instance&&i.scheduleRender(),e.scheduleRender(),e.resumeFrom=i,t&&(e.resumeFrom.preserveOpacity=!0),i.snapshot&&(e.snapshot=i.snapshot,e.snapshot.latestValues=i.animationValues||i.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:o}=e.options;o===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:t,resumingFrom:i}=e;t.onExitComplete&&t.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Zg(n,e,t){let i="";const o=n.x.translate/e.x,a=n.y.translate/e.y;if((o||a)&&(i=`translate3d(${o}px, ${a}px, 0) `),(e.x!==1||e.y!==1)&&(i+=`scale(${1/e.x}, ${1/e.y}) `),t){const{rotate:d,rotateX:p,rotateY:f}=t;d&&(i+=`rotate(${d}deg) `),p&&(i+=`rotateX(${p}deg) `),f&&(i+=`rotateY(${f}deg) `)}const l=n.x.scale*e.x,c=n.y.scale*e.y;return(l!==1||c!==1)&&(i+=`scale(${l}, ${c})`),i||"none"}const k2=(n,e)=>n.depth-e.depth;class C2{constructor(){this.children=[],this.isDirty=!1}add(e){Bh(this.children,e),this.isDirty=!0}remove(e){$h(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(k2),this.isDirty=!1,this.children.forEach(e)}}function _2(n,e){const t=performance.now(),i=({timestamp:o})=>{const a=o-t;a>=e&&(cr(i),n(a-e))};return Ke.read(i,!0),()=>cr(i)}function P2(n){window.MotionDebug&&window.MotionDebug.record(n)}function E2(n){return n instanceof SVGElement&&n.tagName!=="svg"}function A2(n,e,t){const i=Zt(n)?n:Es(n);return i.start(Uh("",i,e,t)),i.animation}const ev=["","X","Y","Z"],T2={visibility:"hidden"},tv=1e3;let D2=0;const gi={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function Ny({attachResizeListener:n,defaultParent:e,measureScroll:t,checkIsScrollRoot:i,resetTransform:o}){return class{constructor(l={},c=e?.()){this.id=D2++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,gi.totalNodes=gi.resolvedTargetDeltas=gi.recalculatedProjection=0,this.nodes.forEach(O2),this.nodes.forEach(N2),this.nodes.forEach(U2),this.nodes.forEach(R2),P2(gi)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=l,this.root=c?c.root||c:this,this.path=c?[...c.path,c]:[],this.parent=c,this.depth=c?c.depth+1:0;for(let d=0;d<this.path.length;d++)this.path[d].shouldResetTransform=!0;this.root===this&&(this.nodes=new C2)}addEventListener(l,c){return this.eventHandlers.has(l)||this.eventHandlers.set(l,new zh),this.eventHandlers.get(l).add(c)}notifyListeners(l,...c){const d=this.eventHandlers.get(l);d&&d.notify(...c)}hasListeners(l){return this.eventHandlers.has(l)}mount(l,c=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=E2(l),this.instance=l;const{layoutId:d,layout:p,visualElement:f}=this.options;if(f&&!f.current&&f.mount(l),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),c&&(p||d)&&(this.isLayoutDirty=!0),n){let m;const g=()=>this.root.updateBlockedByResize=!1;n(l,()=>{this.root.updateBlockedByResize=!0,m&&m(),m=_2(g,250),vl.hasAnimatedSinceResize&&(vl.hasAnimatedSinceResize=!1,this.nodes.forEach(rv))})}d&&this.root.registerSharedNode(d,this),this.options.animate!==!1&&f&&(d||p)&&this.addEventListener("didUpdate",({delta:m,hasLayoutChanged:g,hasRelativeTargetChanged:y,layout:x})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const S=this.options.transition||f.getDefaultTransition()||H2,{onLayoutAnimationStart:C,onLayoutAnimationComplete:P}=f.getProps(),I=!this.targetLayout||!Fy(this.targetLayout,x)||y,A=!g&&y;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||A||g&&(I||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(m,A);const j={...Nh(S,"layout"),onPlay:C,onComplete:P};(f.shouldReduceMotion||this.options.layoutRoot)&&(j.delay=0,j.type=!1),this.startAnimation(j)}else g||rv(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=x})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const l=this.getStack();l&&l.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,cr(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(B2),this.animationId++)}getTransformTemplate(){const{visualElement:l}=this.options;return l&&l.getProps().transformTemplate}willUpdate(l=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let f=0;f<this.path.length;f++){const m=this.path[f];m.shouldResetTransform=!0,m.updateScroll("snapshot"),m.options.layoutRoot&&m.willUpdate(!1)}const{layoutId:c,layout:d}=this.options;if(c===void 0&&!d)return;const p=this.getTransformTemplate();this.prevTransformTemplateValue=p?p(this.latestValues,""):void 0,this.updateSnapshot(),l&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(nv);return}this.isUpdating||this.nodes.forEach(M2),this.isUpdating=!1,this.nodes.forEach(F2),this.nodes.forEach(j2),this.nodes.forEach(I2),this.clearAllSnapshots();const c=performance.now();Ft.delta=Kr(0,1e3/60,c-Ft.timestamp),Ft.timestamp=c,Ft.isProcessing=!0,rd.update.process(Ft),rd.preRender.process(Ft),rd.render.process(Ft),Ft.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(L2),this.sharedNodes.forEach($2)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Ke.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Ke.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let d=0;d<this.path.length;d++)this.path[d].updateScroll();const l=this.layout;this.layout=this.measure(!1),this.layoutCorrected=ht(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:c}=this.options;c&&c.notify("LayoutMeasure",this.layout.layoutBox,l?l.layoutBox:void 0)}updateScroll(l="measure"){let c=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===l&&(c=!1),c&&(this.scroll={animationId:this.root.animationId,phase:l,isRoot:i(this.instance),offset:t(this.instance)})}resetTransform(){if(!o)return;const l=this.isLayoutDirty||this.shouldResetTransform,c=this.projectionDelta&&!My(this.projectionDelta),d=this.getTransformTemplate(),p=d?d(this.latestValues,""):void 0,f=p!==this.prevTransformTemplateValue;l&&(c||mi(this.latestValues)||f)&&(o(this.instance,p),this.shouldResetTransform=!1,this.scheduleRender())}measure(l=!0){const c=this.measurePageBox();let d=this.removeElementScroll(c);return l&&(d=this.removeTransform(d)),W2(d),{animationId:this.root.animationId,measuredBox:c,layoutBox:d,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:l}=this.options;if(!l)return ht();const c=l.measureViewportBox(),{scroll:d}=this.root;return d&&(Ur(c.x,d.offset.x),Ur(c.y,d.offset.y)),c}removeElementScroll(l){const c=ht();pn(c,l);for(let d=0;d<this.path.length;d++){const p=this.path[d],{scroll:f,options:m}=p;if(p!==this.root&&f&&m.layoutScroll){if(f.isRoot){pn(c,l);const{scroll:g}=this.root;g&&(Ur(c.x,-g.offset.x),Ur(c.y,-g.offset.y))}Ur(c.x,f.offset.x),Ur(c.y,f.offset.y)}}return c}applyTransform(l,c=!1){const d=ht();pn(d,l);for(let p=0;p<this.path.length;p++){const f=this.path[p];!c&&f.options.layoutScroll&&f.scroll&&f!==f.root&&ks(d,{x:-f.scroll.offset.x,y:-f.scroll.offset.y}),mi(f.latestValues)&&ks(d,f.latestValues)}return mi(this.latestValues)&&ks(d,this.latestValues),d}removeTransform(l){const c=ht();pn(c,l);for(let d=0;d<this.path.length;d++){const p=this.path[d];if(!p.instance||!mi(p.latestValues))continue;Gd(p.latestValues)&&p.updateSnapshot();const f=ht(),m=p.measurePageBox();pn(f,m),Yg(c,p.latestValues,p.snapshot?p.snapshot.layoutBox:void 0,f)}return mi(this.latestValues)&&Yg(c,this.latestValues),c}setTargetDelta(l){this.targetDelta=l,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(l){this.options={...this.options,...l,crossfade:l.crossfade!==void 0?l.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Ft.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(l=!1){var c;const d=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=d.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=d.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=d.isSharedProjectionDirty);const p=!!this.resumingFrom||this!==d;if(!(l||p&&this.isSharedProjectionDirty||this.isProjectionDirty||!((c=this.parent)===null||c===void 0)&&c.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:m,layoutId:g}=this.options;if(!(!this.layout||!(m||g))){if(this.resolvedRelativeTargetAt=Ft.timestamp,!this.targetDelta&&!this.relativeTarget){const y=this.getClosestProjectingParent();y&&y.layout&&this.animationProgress!==1?(this.relativeParent=y,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ht(),this.relativeTargetOrigin=ht(),Do(this.relativeTargetOrigin,this.layout.layoutBox,y.layout.layoutBox),pn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=ht(),this.targetWithTransforms=ht()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),GC(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):pn(this.target,this.layout.layoutBox),Dy(this.target,this.targetDelta)):pn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const y=this.getClosestProjectingParent();y&&!!y.resumingFrom==!!this.resumingFrom&&!y.options.layoutScroll&&y.target&&this.animationProgress!==1?(this.relativeParent=y,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ht(),this.relativeTargetOrigin=ht(),Do(this.relativeTargetOrigin,this.target,y.target),pn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}gi.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||Gd(this.parent.latestValues)||Ty(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var l;const c=this.getLead(),d=!!this.resumingFrom||this!==c;let p=!0;if((this.isProjectionDirty||!((l=this.parent)===null||l===void 0)&&l.isProjectionDirty)&&(p=!1),d&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(p=!1),this.resolvedRelativeTargetAt===Ft.timestamp&&(p=!1),p)return;const{layout:f,layoutId:m}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(f||m))return;pn(this.layoutCorrected,this.layout.layoutBox);const g=this.treeScale.x,y=this.treeScale.y;t2(this.layoutCorrected,this.treeScale,this.path,d),c.layout&&!c.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(c.target=c.layout.layoutBox);const{target:x}=c;if(!x){this.projectionTransform&&(this.projectionDelta=bs(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=bs(),this.projectionDeltaWithTransform=bs());const S=this.projectionTransform;To(this.projectionDelta,this.layoutCorrected,x,this.latestValues),this.projectionTransform=Zg(this.projectionDelta,this.treeScale),(this.projectionTransform!==S||this.treeScale.x!==g||this.treeScale.y!==y)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",x)),gi.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(l=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),l){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(l,c=!1){const d=this.snapshot,p=d?d.latestValues:{},f={...this.latestValues},m=bs();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!c;const g=ht(),y=d?d.source:void 0,x=this.layout?this.layout.source:void 0,S=y!==x,C=this.getStack(),P=!C||C.members.length<=1,I=!!(S&&!P&&this.options.crossfade===!0&&!this.path.some(V2));this.animationProgress=0;let A;this.mixTargetDelta=j=>{const H=j/1e3;iv(m.x,l.x,H),iv(m.y,l.y,H),this.setTargetDelta(m),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Do(g,this.layout.layoutBox,this.relativeParent.layout.layoutBox),z2(this.relativeTarget,this.relativeTargetOrigin,g,H),A&&S2(this.relativeTarget,A)&&(this.isProjectionDirty=!1),A||(A=ht()),pn(A,this.relativeTarget)),S&&(this.animationValues=f,m2(f,p,this.latestValues,H,I,P)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=H},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(l){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(cr(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Ke.update(()=>{vl.hasAnimatedSinceResize=!0,this.currentAnimation=A2(0,tv,{...l,onUpdate:c=>{this.mixTargetDelta(c),l.onUpdate&&l.onUpdate(c)},onComplete:()=>{l.onComplete&&l.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const l=this.getStack();l&&l.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(tv),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const l=this.getLead();let{targetWithTransforms:c,target:d,layout:p,latestValues:f}=l;if(!(!c||!d||!p)){if(this!==l&&this.layout&&p&&Uy(this.options.animationType,this.layout.layoutBox,p.layoutBox)){d=this.target||ht();const m=an(this.layout.layoutBox.x);d.x.min=l.target.x.min,d.x.max=d.x.min+m;const g=an(this.layout.layoutBox.y);d.y.min=l.target.y.min,d.y.max=d.y.min+g}pn(c,d),ks(c,f),To(this.projectionDeltaWithTransform,this.layoutCorrected,c,f)}}registerSharedNode(l,c){this.sharedNodes.has(l)||this.sharedNodes.set(l,new b2),this.sharedNodes.get(l).add(c);const p=c.options.initialPromotionConfig;c.promote({transition:p?p.transition:void 0,preserveFollowOpacity:p&&p.shouldPreserveFollowOpacity?p.shouldPreserveFollowOpacity(c):void 0})}isLead(){const l=this.getStack();return l?l.lead===this:!0}getLead(){var l;const{layoutId:c}=this.options;return c?((l=this.getStack())===null||l===void 0?void 0:l.lead)||this:this}getPrevLead(){var l;const{layoutId:c}=this.options;return c?(l=this.getStack())===null||l===void 0?void 0:l.prevLead:void 0}getStack(){const{layoutId:l}=this.options;if(l)return this.root.sharedNodes.get(l)}promote({needsReset:l,transition:c,preserveFollowOpacity:d}={}){const p=this.getStack();p&&p.promote(this,d),l&&(this.projectionDelta=void 0,this.needsReset=!0),c&&this.setOptions({transition:c})}relegate(){const l=this.getStack();return l?l.relegate(this):!1}resetRotation(){const{visualElement:l}=this.options;if(!l)return;let c=!1;const{latestValues:d}=l;if((d.rotate||d.rotateX||d.rotateY||d.rotateZ)&&(c=!0),!c)return;const p={};for(let f=0;f<ev.length;f++){const m="rotate"+ev[f];d[m]&&(p[m]=d[m],l.setStaticValue(m,0))}l.render();for(const f in p)l.setStaticValue(f,p[f]);l.scheduleRender()}getProjectionStyles(l){var c,d;if(!this.instance||this.isSVG)return;if(!this.isVisible)return T2;const p={visibility:""},f=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,p.opacity="",p.pointerEvents=gl(l?.pointerEvents)||"",p.transform=f?f(this.latestValues,""):"none",p;const m=this.getLead();if(!this.projectionDelta||!this.layout||!m.target){const S={};return this.options.layoutId&&(S.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,S.pointerEvents=gl(l?.pointerEvents)||""),this.hasProjected&&!mi(this.latestValues)&&(S.transform=f?f({},""):"none",this.hasProjected=!1),S}const g=m.animationValues||m.latestValues;this.applyTransformsToTarget(),p.transform=Zg(this.projectionDeltaWithTransform,this.treeScale,g),f&&(p.transform=f(g,p.transform));const{x:y,y:x}=this.projectionDelta;p.transformOrigin=`${y.origin*100}% ${x.origin*100}% 0`,m.animationValues?p.opacity=m===this?(d=(c=g.opacity)!==null&&c!==void 0?c:this.latestValues.opacity)!==null&&d!==void 0?d:1:this.preserveOpacity?this.latestValues.opacity:g.opacityExit:p.opacity=m===this?g.opacity!==void 0?g.opacity:"":g.opacityExit!==void 0?g.opacityExit:0;for(const S in Pl){if(g[S]===void 0)continue;const{correct:C,applyTo:P}=Pl[S],I=p.transform==="none"?g[S]:C(g[S],m);if(P){const A=P.length;for(let j=0;j<A;j++)p[P[j]]=I}else p[S]=I}return this.options.layoutId&&(p.pointerEvents=m===this?gl(l?.pointerEvents)||"":"none"),p}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(l=>{var c;return(c=l.currentAnimation)===null||c===void 0?void 0:c.stop()}),this.root.nodes.forEach(nv),this.root.sharedNodes.clear()}}}function j2(n){n.updateLayout()}function I2(n){var e;const t=((e=n.resumeFrom)===null||e===void 0?void 0:e.snapshot)||n.snapshot;if(n.isLead()&&n.layout&&t&&n.hasListeners("didUpdate")){const{layoutBox:i,measuredBox:o}=n.layout,{animationType:a}=n.options,l=t.source!==n.layout.source;a==="size"?gn(m=>{const g=l?t.measuredBox[m]:t.layoutBox[m],y=an(g);g.min=i[m].min,g.max=g.min+y}):Uy(a,t.layoutBox,i)&&gn(m=>{const g=l?t.measuredBox[m]:t.layoutBox[m],y=an(i[m]);g.max=g.min+y,n.relativeTarget&&!n.currentAnimation&&(n.isProjectionDirty=!0,n.relativeTarget[m].max=n.relativeTarget[m].min+y)});const c=bs();To(c,i,t.layoutBox);const d=bs();l?To(d,n.applyTransform(o,!0),t.measuredBox):To(d,i,t.layoutBox);const p=!My(c);let f=!1;if(!n.resumeFrom){const m=n.getClosestProjectingParent();if(m&&!m.resumeFrom){const{snapshot:g,layout:y}=m;if(g&&y){const x=ht();Do(x,t.layoutBox,g.layoutBox);const S=ht();Do(S,i,y.layoutBox),Fy(x,S)||(f=!0),m.options.layoutRoot&&(n.relativeTarget=S,n.relativeTargetOrigin=x,n.relativeParent=m)}}}n.notifyListeners("didUpdate",{layout:i,snapshot:t,delta:d,layoutDelta:c,hasLayoutChanged:p,hasRelativeTargetChanged:f})}else if(n.isLead()){const{onExitComplete:i}=n.options;i&&i()}n.options.transition=void 0}function O2(n){gi.totalNodes++,n.parent&&(n.isProjecting()||(n.isProjectionDirty=n.parent.isProjectionDirty),n.isSharedProjectionDirty||(n.isSharedProjectionDirty=!!(n.isProjectionDirty||n.parent.isProjectionDirty||n.parent.isSharedProjectionDirty)),n.isTransformDirty||(n.isTransformDirty=n.parent.isTransformDirty))}function R2(n){n.isProjectionDirty=n.isSharedProjectionDirty=n.isTransformDirty=!1}function L2(n){n.clearSnapshot()}function nv(n){n.clearMeasurements()}function M2(n){n.isLayoutDirty=!1}function F2(n){const{visualElement:e}=n.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),n.resetTransform()}function rv(n){n.finishAnimation(),n.targetDelta=n.relativeTarget=n.target=void 0,n.isProjectionDirty=!0}function N2(n){n.resolveTargetDelta()}function U2(n){n.calcProjection()}function B2(n){n.resetRotation()}function $2(n){n.removeLeadSnapshot()}function iv(n,e,t){n.translate=nt(e.translate,0,t),n.scale=nt(e.scale,1,t),n.origin=e.origin,n.originPoint=e.originPoint}function sv(n,e,t,i){n.min=nt(e.min,t.min,i),n.max=nt(e.max,t.max,i)}function z2(n,e,t,i){sv(n.x,e.x,t.x,i),sv(n.y,e.y,t.y,i)}function V2(n){return n.animationValues&&n.animationValues.opacityExit!==void 0}const H2={duration:.45,ease:[.4,0,.1,1]},ov=n=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes(n),av=ov("applewebkit/")&&!ov("chrome/")?Math.round:ut;function lv(n){n.min=av(n.min),n.max=av(n.max)}function W2(n){lv(n.x),lv(n.y)}function Uy(n,e,t){return n==="position"||n==="preserve-aspect"&&!Hd(Jg(e),Jg(t),.2)}const G2=Ny({attachResizeListener:(n,e)=>ar(n,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),pd={current:void 0},By=Ny({measureScroll:n=>({x:n.scrollLeft,y:n.scrollTop}),defaultParent:()=>{if(!pd.current){const n=new G2({});n.mount(window),n.setOptions({layoutScroll:!0}),pd.current=n}return pd.current},resetTransform:(n,e)=>{n.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:n=>window.getComputedStyle(n).position==="fixed"}),K2={pan:{Feature:u2},drag:{Feature:l2,ProjectionNode:By,MeasureLayout:Oy}},q2=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function X2(n){const e=q2.exec(n);if(!e)return[,];const[,t,i]=e;return[t,i]}function qd(n,e,t=1){const[i,o]=X2(n);if(!i)return;const a=window.getComputedStyle(e).getPropertyValue(i);if(a){const l=a.trim();return by(l)?parseFloat(l):l}else return Fd(o)?qd(o,e,t+1):o}function Y2(n,{...e},t){const i=n.current;if(!(i instanceof Element))return{target:e,transitionEnd:t};t&&(t={...t}),n.values.forEach(o=>{const a=o.get();if(!Fd(a))return;const l=qd(a,i);l&&o.set(l)});for(const o in e){const a=e[o];if(!Fd(a))continue;const l=qd(a,i);l&&(e[o]=l,t||(t={}),t[o]===void 0&&(t[o]=a))}return{target:e,transitionEnd:t}}const Q2=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),$y=n=>Q2.has(n),J2=n=>Object.keys(n).some($y),uv=n=>n===Ri||n===Se,cv=(n,e)=>parseFloat(n.split(", ")[e]),dv=(n,e)=>(t,{transform:i})=>{if(i==="none"||!i)return 0;const o=i.match(/^matrix3d\((.+)\)$/);if(o)return cv(o[1],e);{const a=i.match(/^matrix\((.+)\)$/);return a?cv(a[1],n):0}},Z2=new Set(["x","y","z"]),e_=$o.filter(n=>!Z2.has(n));function t_(n){const e=[];return e_.forEach(t=>{const i=n.getValue(t);i!==void 0&&(e.push([t,i.get()]),i.set(t.startsWith("scale")?1:0))}),e.length&&n.render(),e}const As={width:({x:n},{paddingLeft:e="0",paddingRight:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),height:({y:n},{paddingTop:e="0",paddingBottom:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),top:(n,{top:e})=>parseFloat(e),left:(n,{left:e})=>parseFloat(e),bottom:({y:n},{top:e})=>parseFloat(e)+(n.max-n.min),right:({x:n},{left:e})=>parseFloat(e)+(n.max-n.min),x:dv(4,13),y:dv(5,14)};As.translateX=As.x;As.translateY=As.y;const n_=(n,e,t)=>{const i=e.measureViewportBox(),o=e.current,a=getComputedStyle(o),{display:l}=a,c={};l==="none"&&e.setStaticValue("display",n.display||"block"),t.forEach(p=>{c[p]=As[p](i,a)}),e.render();const d=e.measureViewportBox();return t.forEach(p=>{const f=e.getValue(p);f&&f.jump(c[p]),n[p]=As[p](d,a)}),n},r_=(n,e,t={},i={})=>{e={...e},i={...i};const o=Object.keys(e).filter($y);let a=[],l=!1;const c=[];if(o.forEach(d=>{const p=n.getValue(d);if(!n.hasValue(d))return;let f=t[d],m=xo(f);const g=e[d];let y;if(Al(g)){const x=g.length,S=g[0]===null?1:0;f=g[S],m=xo(f);for(let C=S;C<x&&g[C]!==null;C++)y?Oh(xo(g[C])===y):y=xo(g[C])}else y=xo(g);if(m!==y)if(uv(m)&&uv(y)){const x=p.get();typeof x=="string"&&p.set(parseFloat(x)),typeof g=="string"?e[d]=parseFloat(g):Array.isArray(g)&&y===Se&&(e[d]=g.map(parseFloat))}else m?.transform&&y?.transform&&(f===0||g===0)?f===0?p.set(y.transform(f)):e[d]=m.transform(g):(l||(a=t_(n),l=!0),c.push(d),i[d]=i[d]!==void 0?i[d]:e[d],p.jump(g))}),c.length){const d=c.indexOf("height")>=0?window.pageYOffset:null,p=n_(e,n,c);return a.length&&a.forEach(([f,m])=>{n.getValue(f).set(m)}),n.render(),Yl&&d!==null&&window.scrollTo({top:d}),{target:p,transitionEnd:i}}else return{target:e,transitionEnd:i}};function i_(n,e,t,i){return J2(e)?r_(n,e,t,i):{target:e,transitionEnd:i}}const s_=(n,e,t,i)=>{const o=Y2(n,e,i);return e=o.target,i=o.transitionEnd,i_(n,e,t,i)},Xd={current:null},zy={current:!1};function o_(){if(zy.current=!0,!!Yl)if(window.matchMedia){const n=window.matchMedia("(prefers-reduced-motion)"),e=()=>Xd.current=n.matches;n.addListener(e),e()}else Xd.current=!1}function a_(n,e,t){const{willChange:i}=e;for(const o in e){const a=e[o],l=t[o];if(Zt(a))n.addValue(o,a),Il(i)&&i.add(o);else if(Zt(l))n.addValue(o,Es(a,{owner:n})),Il(i)&&i.remove(o);else if(l!==a)if(n.hasValue(o)){const c=n.getValue(o);!c.hasAnimated&&c.set(a)}else{const c=n.getStaticValue(o);n.addValue(o,Es(c!==void 0?c:a,{owner:n}))}}for(const o in t)e[o]===void 0&&n.removeValue(o);return e}const hv=new WeakMap,Vy=Object.keys(Fo),l_=Vy.length,fv=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],u_=Ch.length;class c_{constructor({parent:e,props:t,presenceContext:i,reducedMotionConfig:o,visualState:a},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>Ke.render(this.render,!1,!0);const{latestValues:c,renderState:d}=a;this.latestValues=c,this.baseTarget={...c},this.initialValues=t.initial?{...c}:{},this.renderState=d,this.parent=e,this.props=t,this.presenceContext=i,this.depth=e?e.depth+1:0,this.reducedMotionConfig=o,this.options=l,this.isControllingVariants=Jl(t),this.isVariantNode=E0(t),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:p,...f}=this.scrapeMotionValuesFromProps(t,{});for(const m in f){const g=f[m];c[m]!==void 0&&Zt(g)&&(g.set(c[m],!1),Il(p)&&p.add(m))}}scrapeMotionValuesFromProps(e,t){return{}}mount(e){this.current=e,hv.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((t,i)=>this.bindToMotionValue(i,t)),zy.current||o_(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Xd.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){hv.delete(this.current),this.projection&&this.projection.unmount(),cr(this.notifyUpdate),cr(this.render),this.valueSubscriptions.forEach(e=>e()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features)this.features[e].unmount();this.current=null}bindToMotionValue(e,t){const i=Oi.has(e),o=t.on("change",l=>{this.latestValues[e]=l,this.props.onUpdate&&Ke.update(this.notifyUpdate,!1,!0),i&&this.projection&&(this.projection.isTransformDirty=!0)}),a=t.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(e,()=>{o(),a()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}loadFeatures({children:e,...t},i,o,a){let l,c;for(let d=0;d<l_;d++){const p=Vy[d],{isEnabled:f,Feature:m,ProjectionNode:g,MeasureLayout:y}=Fo[p];g&&(l=g),f(t)&&(!this.features[p]&&m&&(this.features[p]=new m(this)),y&&(c=y))}if((this.type==="html"||this.type==="svg")&&!this.projection&&l){this.projection=new l(this.latestValues,this.parent&&this.parent.projection);const{layoutId:d,layout:p,drag:f,dragConstraints:m,layoutScroll:g,layoutRoot:y}=t;this.projection.setOptions({layoutId:d,layout:p,alwaysMeasureLayout:!!f||m&&xs(m),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof p=="string"?p:"both",initialPromotionConfig:a,layoutScroll:g,layoutRoot:y})}return c}updateFeatures(){for(const e in this.features){const t=this.features[e];t.isMounted?t.update():(t.mount(),t.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):ht()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}makeTargetAnimatable(e,t=!0){return this.makeTargetAnimatableFromInstance(e,this.props,t)}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let i=0;i<fv.length;i++){const o=fv[i];this.propEventSubscriptions[o]&&(this.propEventSubscriptions[o](),delete this.propEventSubscriptions[o]);const a=e["on"+o];a&&(this.propEventSubscriptions[o]=this.on(o,a))}this.prevMotionValues=a_(this,this.scrapeMotionValuesFromProps(e,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(e=!1){if(e)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const i=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(i.initial=this.props.initial),i}const t={};for(let i=0;i<u_;i++){const o=Ch[i],a=this.props[o];(Mo(a)||a===!1)&&(t[o]=a)}return t}addVariantChild(e){const t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){t!==this.values.get(e)&&(this.removeValue(e),this.bindToMotionValue(e,t)),this.values.set(e,t),this.latestValues[e]=t.get()}removeValue(e){this.values.delete(e);const t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let i=this.values.get(e);return i===void 0&&t!==void 0&&(i=Es(t,{owner:this}),this.addValue(e,i)),i}readValue(e){var t;return this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(t=this.getBaseTargetFromProps(this.props,e))!==null&&t!==void 0?t:this.readValueFromInstance(this.current,e,this.options)}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){var t;const{initial:i}=this.props,o=typeof i=="string"||typeof i=="object"?(t=Ih(this.props,i))===null||t===void 0?void 0:t[e]:void 0;if(i&&o!==void 0)return o;const a=this.getBaseTargetFromProps(this.props,e);return a!==void 0&&!Zt(a)?a:this.initialValues[e]!==void 0&&o===void 0?void 0:this.baseTarget[e]}on(e,t){return this.events[e]||(this.events[e]=new zh),this.events[e].add(t)}notify(e,...t){this.events[e]&&this.events[e].notify(...t)}}class Hy extends c_{sortInstanceNodePosition(e,t){return e.compareDocumentPosition(t)&2?1:-1}getBaseTargetFromProps(e,t){return e.style?e.style[t]:void 0}removeValueFromRenderState(e,{vars:t,style:i}){delete t[e],delete i[e]}makeTargetAnimatableFromInstance({transition:e,transitionEnd:t,...i},{transformValues:o},a){let l=EC(i,e||{},this);if(o&&(t&&(t=o(t)),i&&(i=o(i)),l&&(l=o(l))),a){_C(this,i,l);const c=s_(this,i,l,t);t=c.transitionEnd,i=c.target}return{transition:e,transitionEnd:t,...i}}}function d_(n){return window.getComputedStyle(n)}class h_ extends Hy{constructor(){super(...arguments),this.type="html"}readValueFromInstance(e,t){if(Oi.has(t)){const i=Fh(t);return i&&i.default||0}else{const i=d_(e),o=(j0(t)?i.getPropertyValue(t):i[t])||0;return typeof o=="string"?o.trim():o}}measureInstanceViewportBox(e,{transformPagePoint:t}){return jy(e,t)}build(e,t,i,o){Eh(e,t,i,o.transformTemplate)}scrapeMotionValuesFromProps(e,t){return jh(e,t)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Zt(e)&&(this.childSubscription=e.on("change",t=>{this.current&&(this.current.textContent=`${t}`)}))}renderInstance(e,t,i,o){F0(e,t,i,o)}}class f_ extends Hy{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(Oi.has(t)){const i=Fh(t);return i&&i.default||0}return t=N0.has(t)?t:bh(t),e.getAttribute(t)}measureInstanceViewportBox(){return ht()}scrapeMotionValuesFromProps(e,t){return B0(e,t)}build(e,t,i,o){Th(e,t,i,this.isSVGTag,o.transformTemplate)}renderInstance(e,t,i,o){U0(e,t,i,o)}mount(e){this.isSVGTag=Dh(e.tagName),super.mount(e)}}const p_=(n,e)=>Ph(n)?new f_(e,{enableHardwareAcceleration:!1}):new h_(e,{enableHardwareAcceleration:!0}),m_={layout:{ProjectionNode:By,MeasureLayout:Oy}},g_={...zC,...lk,...K2,...m_},yl=vb((n,e)=>Xb(n,e,g_,p_));function Wy(){const n=J.useRef(!1);return Sh(()=>(n.current=!0,()=>{n.current=!1}),[]),n}function v_(){const n=Wy(),[e,t]=J.useState(0),i=J.useCallback(()=>{n.current&&t(e+1)},[e]);return[J.useCallback(()=>Ke.postRender(i),[i]),e]}class y_ extends J.Component{getSnapshotBeforeUpdate(e){const t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){const i=this.props.sizeRef.current;i.height=t.offsetHeight||0,i.width=t.offsetWidth||0,i.top=t.offsetTop,i.left=t.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function w_({children:n,isPresent:e}){const t=J.useId(),i=J.useRef(null),o=J.useRef({width:0,height:0,top:0,left:0});return J.useInsertionEffect(()=>{const{width:a,height:l,top:c,left:d}=o.current;if(e||!i.current||!a||!l)return;i.current.dataset.motionPopId=t;const p=document.createElement("style");return document.head.appendChild(p),p.sheet&&p.sheet.insertRule(`
          [data-motion-pop-id="${t}"] {
            position: absolute !important;
            width: ${a}px !important;
            height: ${l}px !important;
            top: ${c}px !important;
            left: ${d}px !important;
          }
        `),()=>{document.head.removeChild(p)}},[e]),J.createElement(y_,{isPresent:e,childRef:i,sizeRef:o},J.cloneElement(n,{ref:i}))}const md=({children:n,initial:e,isPresent:t,onExitComplete:i,custom:o,presenceAffectsLayout:a,mode:l})=>{const c=$0(x_),d=J.useId(),p=J.useMemo(()=>({id:d,initial:e,isPresent:t,custom:o,onExitComplete:f=>{c.set(f,!0);for(const m of c.values())if(!m)return;i&&i()},register:f=>(c.set(f,!1),()=>c.delete(f))}),a?void 0:[t]);return J.useMemo(()=>{c.forEach((f,m)=>c.set(m,!1))},[t]),J.useEffect(()=>{!t&&!c.size&&i&&i()},[t]),l==="popLayout"&&(n=J.createElement(w_,{isPresent:t},n)),J.createElement(Xl.Provider,{value:p},n)};function x_(){return new Map}function S_(n){return J.useEffect(()=>()=>n(),[])}const vi=n=>n.key||"";function b_(n,e){n.forEach(t=>{const i=vi(t);e.set(i,t)})}function k_(n){const e=[];return J.Children.forEach(n,t=>{J.isValidElement(t)&&e.push(t)}),e}const C_=({children:n,custom:e,initial:t=!0,onExitComplete:i,exitBeforeEnter:o,presenceAffectsLayout:a=!0,mode:l="sync"})=>{const c=J.useContext(_h).forceRender||v_()[0],d=Wy(),p=k_(n);let f=p;const m=J.useRef(new Map).current,g=J.useRef(f),y=J.useRef(new Map).current,x=J.useRef(!0);if(Sh(()=>{x.current=!1,b_(p,y),g.current=f}),S_(()=>{x.current=!0,y.clear(),m.clear()}),x.current)return J.createElement(J.Fragment,null,f.map(I=>J.createElement(md,{key:vi(I),isPresent:!0,initial:t?void 0:!1,presenceAffectsLayout:a,mode:l},I)));f=[...f];const S=g.current.map(vi),C=p.map(vi),P=S.length;for(let I=0;I<P;I++){const A=S[I];C.indexOf(A)===-1&&!m.has(A)&&m.set(A,void 0)}return l==="wait"&&m.size&&(f=[]),m.forEach((I,A)=>{if(C.indexOf(A)!==-1)return;const j=y.get(A);if(!j)return;const H=S.indexOf(A);let T=I;if(!T){const V=()=>{m.delete(A);const k=Array.from(y.keys()).filter(_=>!C.includes(_));if(k.forEach(_=>y.delete(_)),g.current=p.filter(_=>{const F=vi(_);return F===A||k.includes(F)}),!m.size){if(d.current===!1)return;c(),i&&i()}};T=J.createElement(md,{key:vi(j),isPresent:!1,onExitComplete:V,custom:e,presenceAffectsLayout:a,mode:l},j),m.set(A,T)}f.splice(H,0,T)}),f=f.map(I=>{const A=I.key;return m.has(A)?I:J.createElement(md,{key:vi(I),isPresent:!0,presenceAffectsLayout:a,mode:l},I)}),J.createElement(J.Fragment,null,m.size?f:f.map(I=>J.cloneElement(I)))};var Yd=new Map,al=new WeakMap,pv=0,__=void 0;function P_(n){return n?(al.has(n)||(pv+=1,al.set(n,pv.toString())),al.get(n)):"0"}function E_(n){return Object.keys(n).sort().filter(e=>n[e]!==void 0).map(e=>`${e}_${e==="root"?P_(n.root):n[e]}`).toString()}function A_(n){const e=E_(n);let t=Yd.get(e);if(!t){const i=new Map;let o;const a=new IntersectionObserver(l=>{l.forEach(c=>{var d;const p=c.isIntersecting&&o.some(f=>c.intersectionRatio>=f);n.trackVisibility&&typeof c.isVisible>"u"&&(c.isVisible=p),(d=i.get(c.target))==null||d.forEach(f=>{f(p,c)})})},n);o=a.thresholds||(Array.isArray(n.threshold)?n.threshold:[n.threshold||0]),t={id:e,observer:a,elements:i},Yd.set(e,t)}return t}function T_(n,e,t={},i=__){if(typeof window.IntersectionObserver>"u"&&i!==void 0){const d=n.getBoundingClientRect();return e(i,{isIntersecting:i,target:n,intersectionRatio:typeof t.threshold=="number"?t.threshold:0,time:0,boundingClientRect:d,intersectionRect:d,rootBounds:d}),()=>{}}const{id:o,observer:a,elements:l}=A_(t),c=l.get(n)||[];return l.has(n)||l.set(n,c),c.push(e),a.observe(n),function(){c.splice(c.indexOf(e),1),c.length===0&&(l.delete(n),a.unobserve(n)),l.size===0&&(a.disconnect(),Yd.delete(o))}}function D_({threshold:n,delay:e,trackVisibility:t,rootMargin:i,root:o,triggerOnce:a,skip:l,initialInView:c,fallbackInView:d,onChange:p}={}){var f;const[m,g]=J.useState(null),y=J.useRef(p),[x,S]=J.useState({inView:!!c,entry:void 0});y.current=p,J.useEffect(()=>{if(l||!m)return;let A;return A=T_(m,(j,H)=>{S({inView:j,entry:H}),y.current&&y.current(j,H),H.isIntersecting&&a&&A&&(A(),A=void 0)},{root:o,rootMargin:i,threshold:n,trackVisibility:t,delay:e},d),()=>{A&&A()}},[Array.isArray(n)?n.toString():n,m,o,i,a,l,t,d,e]);const C=(f=x.entry)==null?void 0:f.target,P=J.useRef(void 0);!m&&C&&!a&&!l&&P.current!==C&&(P.current=C,S({inView:!!c,entry:void 0}));const I=[g,x.inView,x.entry];return I.ref=I[0],I.inView=I[1],I.entry=I[2],I}function j_({photo:n,isAdmin:e,deleteLabel:t,onDelete:i,onClick:o,onLike:a}){const[l,c]=J.useState(!1),d=localStorage.getItem(`liked_${n.id}`)==="true",p=f=>{f.stopPropagation(),a()};return O.jsxs("div",{className:"photo-card",onClick:o,children:[O.jsxs("div",{className:"photo-img-wrapper",children:[!l&&O.jsx("div",{className:"photo-skeleton"}),O.jsx("img",{src:n.thumbnail||n.image,alt:n.title,className:`photo-img ${l?"loaded":""}`,onLoad:()=>c(!0),loading:"lazy"}),O.jsx("div",{className:"photo-overlay",children:O.jsxs("div",{className:"photo-stats",children:[O.jsxs("span",{className:"stat",children:[O.jsx("span",{className:"stat-icon",children:"❤"})," ",n.likes]}),O.jsxs("span",{className:"stat",children:[O.jsx("span",{className:"stat-icon",children:"👁"})," ",n.views]})]})}),n.is_featured&&O.jsx("div",{className:"featured-badge",children:"⭐ Featured"})]}),O.jsxs("div",{className:"photo-content",children:[O.jsx("div",{className:"photo-title",children:n.title}),O.jsx("div",{className:"photo-date",children:n.date}),n.description&&O.jsx("div",{className:"photo-description",children:n.description}),n.tags&&n.tags.length>0&&O.jsx("div",{className:"photo-tags",children:n.tags.slice(0,3).map((f,m)=>O.jsx("span",{className:"tag",children:f},m))}),O.jsxs("div",{className:"photo-actions",children:[O.jsxs("button",{className:`action-btn ${d?"liked":""}`,onClick:p,children:["❤ ",n.likes]}),e&&O.jsx("button",{className:"btn-text delete-btn",onClick:f=>{f.stopPropagation(),confirm("Are you sure you want to delete this photo?")&&i()},children:t})]})]})]})}function I_({photos:n,isAdmin:e,translations:t,onDeletePhoto:i,onPhotoClick:o,onLike:a}){const l={default:3,1100:2,700:1};return n.length===0?O.jsxs("div",{className:"empty-state",children:[O.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:O.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})}),O.jsx("p",{children:t.emptyText})]}):O.jsx(k0,{breakpointCols:l,className:"masonry-grid",columnClassName:"masonry-grid-column",children:n.map((c,d)=>O.jsx(O_,{photo:c,isAdmin:e,translations:t,onDelete:()=>i(c.id),onClick:()=>o(c),onLike:()=>a(c.id),index:d},c.id))})}function O_({photo:n,isAdmin:e,translations:t,onDelete:i,onClick:o,onLike:a,index:l}){const{ref:c,inView:d}=D_({triggerOnce:!0,threshold:.1});return O.jsx(yl.div,{ref:c,initial:{opacity:0,y:50},animate:d?{opacity:1,y:0}:{},transition:{duration:.5,delay:l*.05},children:O.jsx(j_,{photo:n,isAdmin:e,deleteLabel:t.deleteBtn,onDelete:i,onClick:o,onLike:a})})}function R_({isOpen:n,isAdmin:e,translations:t,onToggle:i,onLogin:o,onLogout:a}){const[l,c]=J.useState(""),d=p=>{p.preventDefault(),o(l)||alert(t.wrongPassword),c("")};return O.jsxs(O.Fragment,{children:[O.jsxs("div",{className:`admin-panel ${n?"open":"close"}`,children:[O.jsxs("div",{className:"admin-panel-header",children:[O.jsx("div",{className:"admin-panel-title",children:t.adminPanelTitle}),O.jsx("button",{className:"close-btn",onClick:i,children:"X"})]}),e?O.jsxs("div",{className:"admin-status",children:[O.jsx("span",{className:"status-dot"}),O.jsx("span",{children:t.adminStatusText}),O.jsx("button",{className:"logout-btn",onClick:a,children:t.logoutBtn})]}):O.jsxs("form",{className:"login-form",onSubmit:d,children:[O.jsxs("div",{className:"form-group",children:[O.jsx("label",{children:t.passwordLabel}),O.jsx("input",{type:"password",value:l,onChange:p=>c(p.target.value),required:!0})]}),O.jsx("button",{type:"submit",className:"btn-primary",children:t.loginBtn})]})]}),O.jsx("button",{className:"admin-toggle-btn",onClick:i,children:"↓"})]})}function L_({value:n,onChange:e,translations:t}){return O.jsxs("div",{className:"search-bar",children:[O.jsx("svg",{className:"search-icon",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:O.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),O.jsx("input",{type:"text",placeholder:t.search,value:n,onChange:i=>e(i.target.value),className:"search-input"}),n&&O.jsx("button",{className:"search-clear",onClick:()=>e(""),children:"×"})]})}function M_({selectedCategory:n,selectedTags:e,sortBy:t,onCategoryChange:i,onTagToggle:o,onSortChange:a,translations:l,availableTags:c}){return O.jsxs("div",{className:"filter-bar",children:[O.jsxs("div",{className:"filter-section",children:[O.jsx("label",{children:l.categories}),O.jsxs("select",{value:n,onChange:d=>i(d.target.value),className:"filter-select",children:[O.jsx("option",{value:"",children:l.allCategories}),b0.map(d=>O.jsx("option",{value:d,children:d},d))]})]}),O.jsxs("div",{className:"filter-section",children:[O.jsx("label",{children:l.sortBy}),O.jsxs("select",{value:t,onChange:d=>a(d.target.value),className:"filter-select",children:[O.jsx("option",{value:"date",children:l.recent}),O.jsx("option",{value:"likes",children:l.popular}),O.jsx("option",{value:"views",children:l.views}),O.jsx("option",{value:"random",children:"Random"})]})]}),c.length>0&&O.jsxs("div",{className:"filter-section filter-tags",children:[O.jsx("label",{children:l.tags}),O.jsx("div",{className:"tag-list",children:c.slice(0,10).map(d=>O.jsx("button",{className:`tag-btn ${e.includes(d)?"active":""}`,onClick:()=>o(d),children:d},d))})]})]})}const F_="modulepreload",N_=function(n){return"/"+n},mv={},Wo=function(e,t,i){let o=Promise.resolve();if(t&&t.length>0){let p=function(f){return Promise.all(f.map(m=>Promise.resolve(m).then(g=>({status:"fulfilled",value:g}),g=>({status:"rejected",reason:g}))))};var l=p;document.getElementsByTagName("link");const c=document.querySelector("meta[property=csp-nonce]"),d=c?.nonce||c?.getAttribute("nonce");o=p(t.map(f=>{if(f=N_(f),f in mv)return;mv[f]=!0;const m=f.endsWith(".css"),g=m?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${f}"]${g}`))return;const y=document.createElement("link");if(y.rel=m?"stylesheet":F_,m||(y.as="script"),y.crossOrigin="",y.href=f,d&&y.setAttribute("nonce",d),document.head.appendChild(y),m)return new Promise((x,S)=>{y.addEventListener("load",x),y.addEventListener("error",()=>S(new Error(`Unable to preload CSS for ${f}`)))})}))}function a(c){const d=new Event("vite:preloadError",{cancelable:!0});if(d.payload=c,window.dispatchEvent(d),!d.defaultPrevented)throw c}return o.then(c=>{for(const d of c||[])d.status==="rejected"&&a(d.reason);return e().catch(a)})},U_=n=>{let e;return n?e=n:typeof fetch>"u"?e=(...t)=>Wo(async()=>{const{default:i}=await Promise.resolve().then(()=>Ds);return{default:i}},[]).then(({default:i})=>i(...t)):e=fetch,(...t)=>e(...t)};class Vh extends Error{constructor(e,t="FunctionsError",i){super(e),this.name=t,this.context=i}}class gv extends Vh{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class vv extends Vh{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class yv extends Vh{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Qd;(function(n){n.Any="any",n.ApNortheast1="ap-northeast-1",n.ApNortheast2="ap-northeast-2",n.ApSouth1="ap-south-1",n.ApSoutheast1="ap-southeast-1",n.ApSoutheast2="ap-southeast-2",n.CaCentral1="ca-central-1",n.EuCentral1="eu-central-1",n.EuWest1="eu-west-1",n.EuWest2="eu-west-2",n.EuWest3="eu-west-3",n.SaEast1="sa-east-1",n.UsEast1="us-east-1",n.UsWest1="us-west-1",n.UsWest2="us-west-2"})(Qd||(Qd={}));var B_=function(n,e,t,i){function o(a){return a instanceof t?a:new t(function(l){l(a)})}return new(t||(t=Promise))(function(a,l){function c(f){try{p(i.next(f))}catch(m){l(m)}}function d(f){try{p(i.throw(f))}catch(m){l(m)}}function p(f){f.done?a(f.value):o(f.value).then(c,d)}p((i=i.apply(n,e||[])).next())})};class $_{constructor(e,{headers:t={},customFetch:i,region:o=Qd.Any}={}){this.url=e,this.headers=t,this.region=o,this.fetch=U_(i)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,t={}){var i;return B_(this,void 0,void 0,function*(){try{const{headers:o,method:a,body:l,signal:c}=t;let d={},{region:p}=t;p||(p=this.region);const f=new URL(`${this.url}/${e}`);p&&p!=="any"&&(d["x-region"]=p,f.searchParams.set("forceFunctionRegion",p));let m;l&&(o&&!Object.prototype.hasOwnProperty.call(o,"Content-Type")||!o)&&(typeof Blob<"u"&&l instanceof Blob||l instanceof ArrayBuffer?(d["Content-Type"]="application/octet-stream",m=l):typeof l=="string"?(d["Content-Type"]="text/plain",m=l):typeof FormData<"u"&&l instanceof FormData?m=l:(d["Content-Type"]="application/json",m=JSON.stringify(l)));const g=yield this.fetch(f.toString(),{method:a||"POST",headers:Object.assign(Object.assign(Object.assign({},d),this.headers),o),body:m,signal:c}).catch(C=>{throw C.name==="AbortError"?C:new gv(C)}),y=g.headers.get("x-relay-error");if(y&&y==="true")throw new vv(g);if(!g.ok)throw new yv(g);let x=((i=g.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),S;return x==="application/json"?S=yield g.json():x==="application/octet-stream"?S=yield g.blob():x==="text/event-stream"?S=g:x==="multipart/form-data"?S=yield g.formData():S=yield g.text(),{data:S,error:null,response:g}}catch(o){return o instanceof Error&&o.name==="AbortError"?{data:null,error:new gv(o)}:{data:null,error:o,response:o instanceof yv||o instanceof vv?o.context:void 0}}})}}var _t={},ls={},us={},cs={},ds={},hs={},z_=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Ts=z_();const V_=Ts.fetch,Gy=Ts.fetch.bind(Ts),Ky=Ts.Headers,H_=Ts.Request,W_=Ts.Response,Ds=Object.freeze(Object.defineProperty({__proto__:null,Headers:Ky,Request:H_,Response:W_,default:Gy,fetch:V_},Symbol.toStringTag,{value:"Module"})),G_=Nx(Ds);var ll={},wv;function qy(){if(wv)return ll;wv=1,Object.defineProperty(ll,"__esModule",{value:!0});class n extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}}return ll.default=n,ll}var xv;function Xy(){if(xv)return hs;xv=1;var n=hs&&hs.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(hs,"__esModule",{value:!0});const e=n(G_),t=n(qy());class i{constructor(a){var l,c;this.shouldThrowOnError=!1,this.method=a.method,this.url=a.url,this.headers=new Headers(a.headers),this.schema=a.schema,this.body=a.body,this.shouldThrowOnError=(l=a.shouldThrowOnError)!==null&&l!==void 0?l:!1,this.signal=a.signal,this.isMaybeSingle=(c=a.isMaybeSingle)!==null&&c!==void 0?c:!1,a.fetch?this.fetch=a.fetch:typeof fetch>"u"?this.fetch=e.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(a,l){return this.headers=new Headers(this.headers),this.headers.set(a,l),this}then(a,l){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const c=this.fetch;let d=c(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async p=>{var f,m,g,y;let x=null,S=null,C=null,P=p.status,I=p.statusText;if(p.ok){if(this.method!=="HEAD"){const T=await p.text();T===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((f=this.headers.get("Accept"))===null||f===void 0)&&f.includes("application/vnd.pgrst.plan+text"))?S=T:S=JSON.parse(T))}const j=(m=this.headers.get("Prefer"))===null||m===void 0?void 0:m.match(/count=(exact|planned|estimated)/),H=(g=p.headers.get("content-range"))===null||g===void 0?void 0:g.split("/");j&&H&&H.length>1&&(C=parseInt(H[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(S)&&(S.length>1?(x={code:"PGRST116",details:`Results contain ${S.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},S=null,C=null,P=406,I="Not Acceptable"):S.length===1?S=S[0]:S=null)}else{const j=await p.text();try{x=JSON.parse(j),Array.isArray(x)&&p.status===404&&(S=[],x=null,P=200,I="OK")}catch{p.status===404&&j===""?(P=204,I="No Content"):x={message:j}}if(x&&this.isMaybeSingle&&(!((y=x?.details)===null||y===void 0)&&y.includes("0 rows"))&&(x=null,P=200,I="OK"),x&&this.shouldThrowOnError)throw new t.default(x)}return{error:x,data:S,count:C,status:P,statusText:I}});return this.shouldThrowOnError||(d=d.catch(p=>{var f,m,g;return{error:{message:`${(f=p?.name)!==null&&f!==void 0?f:"FetchError"}: ${p?.message}`,details:`${(m=p?.stack)!==null&&m!==void 0?m:""}`,hint:"",code:`${(g=p?.code)!==null&&g!==void 0?g:""}`},data:null,count:null,status:0,statusText:""}})),d.then(a,l)}returns(){return this}overrideTypes(){return this}}return hs.default=i,hs}var Sv;function Yy(){if(Sv)return ds;Sv=1;var n=ds&&ds.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(ds,"__esModule",{value:!0});const e=n(Xy());class t extends e.default{select(o){let a=!1;const l=(o??"*").split("").map(c=>/\s/.test(c)&&!a?"":(c==='"'&&(a=!a),c)).join("");return this.url.searchParams.set("select",l),this.headers.append("Prefer","return=representation"),this}order(o,{ascending:a=!0,nullsFirst:l,foreignTable:c,referencedTable:d=c}={}){const p=d?`${d}.order`:"order",f=this.url.searchParams.get(p);return this.url.searchParams.set(p,`${f?`${f},`:""}${o}.${a?"asc":"desc"}${l===void 0?"":l?".nullsfirst":".nullslast"}`),this}limit(o,{foreignTable:a,referencedTable:l=a}={}){const c=typeof l>"u"?"limit":`${l}.limit`;return this.url.searchParams.set(c,`${o}`),this}range(o,a,{foreignTable:l,referencedTable:c=l}={}){const d=typeof c>"u"?"offset":`${c}.offset`,p=typeof c>"u"?"limit":`${c}.limit`;return this.url.searchParams.set(d,`${o}`),this.url.searchParams.set(p,`${a-o+1}`),this}abortSignal(o){return this.signal=o,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:o=!1,verbose:a=!1,settings:l=!1,buffers:c=!1,wal:d=!1,format:p="text"}={}){var f;const m=[o?"analyze":null,a?"verbose":null,l?"settings":null,c?"buffers":null,d?"wal":null].filter(Boolean).join("|"),g=(f=this.headers.get("Accept"))!==null&&f!==void 0?f:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${p}; for="${g}"; options=${m};`),p==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(o){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${o}`),this}}return ds.default=t,ds}var bv;function Hh(){if(bv)return cs;bv=1;var n=cs&&cs.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(cs,"__esModule",{value:!0});const e=n(Yy());class t extends e.default{eq(o,a){return this.url.searchParams.append(o,`eq.${a}`),this}neq(o,a){return this.url.searchParams.append(o,`neq.${a}`),this}gt(o,a){return this.url.searchParams.append(o,`gt.${a}`),this}gte(o,a){return this.url.searchParams.append(o,`gte.${a}`),this}lt(o,a){return this.url.searchParams.append(o,`lt.${a}`),this}lte(o,a){return this.url.searchParams.append(o,`lte.${a}`),this}like(o,a){return this.url.searchParams.append(o,`like.${a}`),this}likeAllOf(o,a){return this.url.searchParams.append(o,`like(all).{${a.join(",")}}`),this}likeAnyOf(o,a){return this.url.searchParams.append(o,`like(any).{${a.join(",")}}`),this}ilike(o,a){return this.url.searchParams.append(o,`ilike.${a}`),this}ilikeAllOf(o,a){return this.url.searchParams.append(o,`ilike(all).{${a.join(",")}}`),this}ilikeAnyOf(o,a){return this.url.searchParams.append(o,`ilike(any).{${a.join(",")}}`),this}is(o,a){return this.url.searchParams.append(o,`is.${a}`),this}in(o,a){const l=Array.from(new Set(a)).map(c=>typeof c=="string"&&new RegExp("[,()]").test(c)?`"${c}"`:`${c}`).join(",");return this.url.searchParams.append(o,`in.(${l})`),this}contains(o,a){return typeof a=="string"?this.url.searchParams.append(o,`cs.${a}`):Array.isArray(a)?this.url.searchParams.append(o,`cs.{${a.join(",")}}`):this.url.searchParams.append(o,`cs.${JSON.stringify(a)}`),this}containedBy(o,a){return typeof a=="string"?this.url.searchParams.append(o,`cd.${a}`):Array.isArray(a)?this.url.searchParams.append(o,`cd.{${a.join(",")}}`):this.url.searchParams.append(o,`cd.${JSON.stringify(a)}`),this}rangeGt(o,a){return this.url.searchParams.append(o,`sr.${a}`),this}rangeGte(o,a){return this.url.searchParams.append(o,`nxl.${a}`),this}rangeLt(o,a){return this.url.searchParams.append(o,`sl.${a}`),this}rangeLte(o,a){return this.url.searchParams.append(o,`nxr.${a}`),this}rangeAdjacent(o,a){return this.url.searchParams.append(o,`adj.${a}`),this}overlaps(o,a){return typeof a=="string"?this.url.searchParams.append(o,`ov.${a}`):this.url.searchParams.append(o,`ov.{${a.join(",")}}`),this}textSearch(o,a,{config:l,type:c}={}){let d="";c==="plain"?d="pl":c==="phrase"?d="ph":c==="websearch"&&(d="w");const p=l===void 0?"":`(${l})`;return this.url.searchParams.append(o,`${d}fts${p}.${a}`),this}match(o){return Object.entries(o).forEach(([a,l])=>{this.url.searchParams.append(a,`eq.${l}`)}),this}not(o,a,l){return this.url.searchParams.append(o,`not.${a}.${l}`),this}or(o,{foreignTable:a,referencedTable:l=a}={}){const c=l?`${l}.or`:"or";return this.url.searchParams.append(c,`(${o})`),this}filter(o,a,l){return this.url.searchParams.append(o,`${a}.${l}`),this}}return cs.default=t,cs}var kv;function Qy(){if(kv)return us;kv=1;var n=us&&us.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(us,"__esModule",{value:!0});const e=n(Hh());class t{constructor(o,{headers:a={},schema:l,fetch:c}){this.url=o,this.headers=new Headers(a),this.schema=l,this.fetch=c}select(o,{head:a=!1,count:l}={}){const c=a?"HEAD":"GET";let d=!1;const p=(o??"*").split("").map(f=>/\s/.test(f)&&!d?"":(f==='"'&&(d=!d),f)).join("");return this.url.searchParams.set("select",p),l&&this.headers.append("Prefer",`count=${l}`),new e.default({method:c,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(o,{count:a,defaultToNull:l=!0}={}){var c;const d="POST";if(a&&this.headers.append("Prefer",`count=${a}`),l||this.headers.append("Prefer","missing=default"),Array.isArray(o)){const p=o.reduce((f,m)=>f.concat(Object.keys(m)),[]);if(p.length>0){const f=[...new Set(p)].map(m=>`"${m}"`);this.url.searchParams.set("columns",f.join(","))}}return new e.default({method:d,url:this.url,headers:this.headers,schema:this.schema,body:o,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}upsert(o,{onConflict:a,ignoreDuplicates:l=!1,count:c,defaultToNull:d=!0}={}){var p;const f="POST";if(this.headers.append("Prefer",`resolution=${l?"ignore":"merge"}-duplicates`),a!==void 0&&this.url.searchParams.set("on_conflict",a),c&&this.headers.append("Prefer",`count=${c}`),d||this.headers.append("Prefer","missing=default"),Array.isArray(o)){const m=o.reduce((g,y)=>g.concat(Object.keys(y)),[]);if(m.length>0){const g=[...new Set(m)].map(y=>`"${y}"`);this.url.searchParams.set("columns",g.join(","))}}return new e.default({method:f,url:this.url,headers:this.headers,schema:this.schema,body:o,fetch:(p=this.fetch)!==null&&p!==void 0?p:fetch})}update(o,{count:a}={}){var l;const c="PATCH";return a&&this.headers.append("Prefer",`count=${a}`),new e.default({method:c,url:this.url,headers:this.headers,schema:this.schema,body:o,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}delete({count:o}={}){var a;const l="DELETE";return o&&this.headers.append("Prefer",`count=${o}`),new e.default({method:l,url:this.url,headers:this.headers,schema:this.schema,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}}return us.default=t,us}var Cv;function K_(){if(Cv)return ls;Cv=1;var n=ls&&ls.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(ls,"__esModule",{value:!0});const e=n(Qy()),t=n(Hh());class i{constructor(a,{headers:l={},schema:c,fetch:d}={}){this.url=a,this.headers=new Headers(l),this.schemaName=c,this.fetch=d}from(a){const l=new URL(`${this.url}/${a}`);return new e.default(l,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(a){return new i(this.url,{headers:this.headers,schema:a,fetch:this.fetch})}rpc(a,l={},{head:c=!1,get:d=!1,count:p}={}){var f;let m;const g=new URL(`${this.url}/rpc/${a}`);let y;c||d?(m=c?"HEAD":"GET",Object.entries(l).filter(([S,C])=>C!==void 0).map(([S,C])=>[S,Array.isArray(C)?`{${C.join(",")}}`:`${C}`]).forEach(([S,C])=>{g.searchParams.append(S,C)})):(m="POST",y=l);const x=new Headers(this.headers);return p&&x.set("Prefer",`count=${p}`),new t.default({method:m,url:g,headers:x,schema:this.schemaName,body:y,fetch:(f=this.fetch)!==null&&f!==void 0?f:fetch})}}return ls.default=i,ls}var _v;function q_(){if(_v)return _t;_v=1;var n=_t&&_t.__importDefault||function(c){return c&&c.__esModule?c:{default:c}};Object.defineProperty(_t,"__esModule",{value:!0}),_t.PostgrestError=_t.PostgrestBuilder=_t.PostgrestTransformBuilder=_t.PostgrestFilterBuilder=_t.PostgrestQueryBuilder=_t.PostgrestClient=void 0;const e=n(K_());_t.PostgrestClient=e.default;const t=n(Qy());_t.PostgrestQueryBuilder=t.default;const i=n(Hh());_t.PostgrestFilterBuilder=i.default;const o=n(Yy());_t.PostgrestTransformBuilder=o.default;const a=n(Xy());_t.PostgrestBuilder=a.default;const l=n(qy());return _t.PostgrestError=l.default,_t.default={PostgrestClient:e.default,PostgrestQueryBuilder:t.default,PostgrestFilterBuilder:i.default,PostgrestTransformBuilder:o.default,PostgrestBuilder:a.default,PostgrestError:l.default},_t}var X_=q_();const Y_=Kl(X_),{PostgrestClient:Q_,PostgrestQueryBuilder:kT,PostgrestFilterBuilder:CT,PostgrestTransformBuilder:_T,PostgrestBuilder:PT,PostgrestError:ET}=Y_;class J_{static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const t=process.versions;if(t&&t.node){const i=t.node,o=parseInt(i.replace(/^v/,"").split(".")[0]);return o>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${o} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${o} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let t=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(t+=`

Suggested solution: ${e.workaround}`),new Error(t)}static createWebSocket(e,t){const i=this.getWebSocketConstructor();return new i(e,t)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const Z_="2.15.5",eP=`realtime-js/${Z_}`,tP="1.0.0",Jd=1e4,nP=1e3,rP=100;var jo;(function(n){n[n.connecting=0]="connecting",n[n.open=1]="open",n[n.closing=2]="closing",n[n.closed=3]="closed"})(jo||(jo={}));var wt;(function(n){n.closed="closed",n.errored="errored",n.joined="joined",n.joining="joining",n.leaving="leaving"})(wt||(wt={}));var Dn;(function(n){n.close="phx_close",n.error="phx_error",n.join="phx_join",n.reply="phx_reply",n.leave="phx_leave",n.access_token="access_token"})(Dn||(Dn={}));var Zd;(function(n){n.websocket="websocket"})(Zd||(Zd={}));var xi;(function(n){n.Connecting="connecting",n.Open="open",n.Closing="closing",n.Closed="closed"})(xi||(xi={}));class iP{constructor(){this.HEADER_LENGTH=1}decode(e,t){return e.constructor===ArrayBuffer?t(this._binaryDecode(e)):t(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const t=new DataView(e),i=new TextDecoder;return this._decodeBroadcast(e,t,i)}_decodeBroadcast(e,t,i){const o=t.getUint8(1),a=t.getUint8(2);let l=this.HEADER_LENGTH+2;const c=i.decode(e.slice(l,l+o));l=l+o;const d=i.decode(e.slice(l,l+a));l=l+a;const p=JSON.parse(i.decode(e.slice(l,e.byteLength)));return{ref:null,topic:c,event:d,payload:p}}}class Jy{constructor(e,t){this.callback=e,this.timerCalc=t,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=t}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Ge;(function(n){n.abstime="abstime",n.bool="bool",n.date="date",n.daterange="daterange",n.float4="float4",n.float8="float8",n.int2="int2",n.int4="int4",n.int4range="int4range",n.int8="int8",n.int8range="int8range",n.json="json",n.jsonb="jsonb",n.money="money",n.numeric="numeric",n.oid="oid",n.reltime="reltime",n.text="text",n.time="time",n.timestamp="timestamp",n.timestamptz="timestamptz",n.timetz="timetz",n.tsrange="tsrange",n.tstzrange="tstzrange"})(Ge||(Ge={}));const Pv=(n,e,t={})=>{var i;const o=(i=t.skipTypes)!==null&&i!==void 0?i:[];return Object.keys(e).reduce((a,l)=>(a[l]=sP(l,n,e,o),a),{})},sP=(n,e,t,i)=>{const o=e.find(c=>c.name===n),a=o?.type,l=t[n];return a&&!i.includes(a)?Zy(a,l):eh(l)},Zy=(n,e)=>{if(n.charAt(0)==="_"){const t=n.slice(1,n.length);return uP(e,t)}switch(n){case Ge.bool:return oP(e);case Ge.float4:case Ge.float8:case Ge.int2:case Ge.int4:case Ge.int8:case Ge.numeric:case Ge.oid:return aP(e);case Ge.json:case Ge.jsonb:return lP(e);case Ge.timestamp:return cP(e);case Ge.abstime:case Ge.date:case Ge.daterange:case Ge.int4range:case Ge.int8range:case Ge.money:case Ge.reltime:case Ge.text:case Ge.time:case Ge.timestamptz:case Ge.timetz:case Ge.tsrange:case Ge.tstzrange:return eh(e);default:return eh(e)}},eh=n=>n,oP=n=>{switch(n){case"t":return!0;case"f":return!1;default:return n}},aP=n=>{if(typeof n=="string"){const e=parseFloat(n);if(!Number.isNaN(e))return e}return n},lP=n=>{if(typeof n=="string")try{return JSON.parse(n)}catch(e){return console.log(`JSON parse error: ${e}`),n}return n},uP=(n,e)=>{if(typeof n!="string")return n;const t=n.length-1,i=n[t];if(n[0]==="{"&&i==="}"){let a;const l=n.slice(1,t);try{a=JSON.parse("["+l+"]")}catch{a=l?l.split(","):[]}return a.map(c=>Zy(e,c))}return n},cP=n=>typeof n=="string"?n.replace(" ","T"):n,ew=n=>{let e=n;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")+"/api/broadcast"};class gd{constructor(e,t,i={},o=Jd){this.channel=e,this.event=t,this.payload=i,this.timeout=o,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,t){var i;return this._hasReceived(e)&&t((i=this.receivedResp)===null||i===void 0?void 0:i.response),this.recHooks.push({status:e,callback:t}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=t=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=t,this._matchReceive(t)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,t){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:t})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:t}){this.recHooks.filter(i=>i.status===e).forEach(i=>i.callback(t))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var Ev;(function(n){n.SYNC="sync",n.JOIN="join",n.LEAVE="leave"})(Ev||(Ev={}));class Io{constructor(e,t){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const i=t?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(i.state,{},o=>{const{onJoin:a,onLeave:l,onSync:c}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Io.syncState(this.state,o,a,l),this.pendingDiffs.forEach(d=>{this.state=Io.syncDiff(this.state,d,a,l)}),this.pendingDiffs=[],c()}),this.channel._on(i.diff,{},o=>{const{onJoin:a,onLeave:l,onSync:c}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(o):(this.state=Io.syncDiff(this.state,o,a,l),c())}),this.onJoin((o,a,l)=>{this.channel._trigger("presence",{event:"join",key:o,currentPresences:a,newPresences:l})}),this.onLeave((o,a,l)=>{this.channel._trigger("presence",{event:"leave",key:o,currentPresences:a,leftPresences:l})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,t,i,o){const a=this.cloneDeep(e),l=this.transformState(t),c={},d={};return this.map(a,(p,f)=>{l[p]||(d[p]=f)}),this.map(l,(p,f)=>{const m=a[p];if(m){const g=f.map(C=>C.presence_ref),y=m.map(C=>C.presence_ref),x=f.filter(C=>y.indexOf(C.presence_ref)<0),S=m.filter(C=>g.indexOf(C.presence_ref)<0);x.length>0&&(c[p]=x),S.length>0&&(d[p]=S)}else c[p]=f}),this.syncDiff(a,{joins:c,leaves:d},i,o)}static syncDiff(e,t,i,o){const{joins:a,leaves:l}={joins:this.transformState(t.joins),leaves:this.transformState(t.leaves)};return i||(i=()=>{}),o||(o=()=>{}),this.map(a,(c,d)=>{var p;const f=(p=e[c])!==null&&p!==void 0?p:[];if(e[c]=this.cloneDeep(d),f.length>0){const m=e[c].map(y=>y.presence_ref),g=f.filter(y=>m.indexOf(y.presence_ref)<0);e[c].unshift(...g)}i(c,f,d)}),this.map(l,(c,d)=>{let p=e[c];if(!p)return;const f=d.map(m=>m.presence_ref);p=p.filter(m=>f.indexOf(m.presence_ref)<0),e[c]=p,o(c,p,d),p.length===0&&delete e[c]}),e}static map(e,t){return Object.getOwnPropertyNames(e).map(i=>t(i,e[i]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((t,i)=>{const o=e[i];return"metas"in o?t[i]=o.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):t[i]=o,t},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Av;(function(n){n.ALL="*",n.INSERT="INSERT",n.UPDATE="UPDATE",n.DELETE="DELETE"})(Av||(Av={}));var Oo;(function(n){n.BROADCAST="broadcast",n.PRESENCE="presence",n.POSTGRES_CHANGES="postgres_changes",n.SYSTEM="system"})(Oo||(Oo={}));var or;(function(n){n.SUBSCRIBED="SUBSCRIBED",n.TIMED_OUT="TIMED_OUT",n.CLOSED="CLOSED",n.CHANNEL_ERROR="CHANNEL_ERROR"})(or||(or={}));class Wh{constructor(e,t={config:{}},i){this.topic=e,this.params=t,this.socket=i,this.bindings={},this.state=wt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},t.config),this.timeout=this.socket.timeout,this.joinPush=new gd(this,Dn.join,this.params,this.timeout),this.rejoinTimer=new Jy(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=wt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=wt.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=wt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=wt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=wt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Dn.reply,{},(o,a)=>{this._trigger(this._replyEventName(a),o)}),this.presence=new Io(this),this.broadcastEndpointURL=ew(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(e,t=this.timeout){var i,o,a;if(this.socket.isConnected()||this.socket.connect(),this.state==wt.closed){const{config:{broadcast:l,presence:c,private:d}}=this.params,p=(o=(i=this.bindings.postgres_changes)===null||i===void 0?void 0:i.map(y=>y.filter))!==null&&o!==void 0?o:[],f=!!this.bindings[Oo.PRESENCE]&&this.bindings[Oo.PRESENCE].length>0||((a=this.params.config.presence)===null||a===void 0?void 0:a.enabled)===!0,m={},g={broadcast:l,presence:Object.assign(Object.assign({},c),{enabled:f}),postgres_changes:p,private:d};this.socket.accessTokenValue&&(m.access_token=this.socket.accessTokenValue),this._onError(y=>e?.(or.CHANNEL_ERROR,y)),this._onClose(()=>e?.(or.CLOSED)),this.updateJoinPayload(Object.assign({config:g},m)),this.joinedOnce=!0,this._rejoin(t),this.joinPush.receive("ok",async({postgres_changes:y})=>{var x;if(this.socket.setAuth(),y===void 0){e?.(or.SUBSCRIBED);return}else{const S=this.bindings.postgres_changes,C=(x=S?.length)!==null&&x!==void 0?x:0,P=[];for(let I=0;I<C;I++){const A=S[I],{filter:{event:j,schema:H,table:T,filter:V}}=A,k=y&&y[I];if(k&&k.event===j&&k.schema===H&&k.table===T&&k.filter===V)P.push(Object.assign(Object.assign({},A),{id:k.id}));else{this.unsubscribe(),this.state=wt.errored,e?.(or.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=P,e&&e(or.SUBSCRIBED);return}}).receive("error",y=>{this.state=wt.errored,e?.(or.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(y).join(", ")||"error")))}).receive("timeout",()=>{e?.(or.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,t={}){return await this.send({type:"presence",event:"track",payload:e},t.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,t,i){return this.state===wt.joined&&e===Oo.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,t,i)}async send(e,t={}){var i,o;if(!this._canPush()&&e.type==="broadcast"){const{event:a,payload:l}=e,d={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:l,private:this.private}]})};try{const p=await this._fetchWithTimeout(this.broadcastEndpointURL,d,(i=t.timeout)!==null&&i!==void 0?i:this.timeout);return await((o=p.body)===null||o===void 0?void 0:o.cancel()),p.ok?"ok":"error"}catch(p){return p.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var l,c,d;const p=this._push(e.type,e,t.timeout||this.timeout);e.type==="broadcast"&&!(!((d=(c=(l=this.params)===null||l===void 0?void 0:l.config)===null||c===void 0?void 0:c.broadcast)===null||d===void 0)&&d.ack)&&a("ok"),p.receive("ok",()=>a("ok")),p.receive("error",()=>a("error")),p.receive("timeout",()=>a("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=wt.leaving;const t=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Dn.close,"leave",this._joinRef())};this.joinPush.destroy();let i=null;return new Promise(o=>{i=new gd(this,Dn.leave,{},e),i.receive("ok",()=>{t(),o("ok")}).receive("timeout",()=>{t(),o("timed out")}).receive("error",()=>{o("error")}),i.send(),this._canPush()||i.trigger("ok",{})}).finally(()=>{i?.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=wt.closed,this.bindings={}}async _fetchWithTimeout(e,t,i){const o=new AbortController,a=setTimeout(()=>o.abort(),i),l=await this.socket.fetch(e,Object.assign(Object.assign({},t),{signal:o.signal}));return clearTimeout(a),l}_push(e,t,i=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let o=new gd(this,e,t,i);return this._canPush()?o.send():this._addToPushBuffer(o),o}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>rP){const t=this.pushBuffer.shift();t&&(t.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${t.event}`,t.payload))}}_onMessage(e,t,i){return t}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,t,i){var o,a;const l=e.toLocaleLowerCase(),{close:c,error:d,leave:p,join:f}=Dn;if(i&&[c,d,p,f].indexOf(l)>=0&&i!==this._joinRef())return;let g=this._onMessage(l,t,i);if(t&&!g)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(l)?(o=this.bindings.postgres_changes)===null||o===void 0||o.filter(y=>{var x,S,C;return((x=y.filter)===null||x===void 0?void 0:x.event)==="*"||((C=(S=y.filter)===null||S===void 0?void 0:S.event)===null||C===void 0?void 0:C.toLocaleLowerCase())===l}).map(y=>y.callback(g,i)):(a=this.bindings[l])===null||a===void 0||a.filter(y=>{var x,S,C,P,I,A;if(["broadcast","presence","postgres_changes"].includes(l))if("id"in y){const j=y.id,H=(x=y.filter)===null||x===void 0?void 0:x.event;return j&&((S=t.ids)===null||S===void 0?void 0:S.includes(j))&&(H==="*"||H?.toLocaleLowerCase()===((C=t.data)===null||C===void 0?void 0:C.type.toLocaleLowerCase()))}else{const j=(I=(P=y?.filter)===null||P===void 0?void 0:P.event)===null||I===void 0?void 0:I.toLocaleLowerCase();return j==="*"||j===((A=t?.event)===null||A===void 0?void 0:A.toLocaleLowerCase())}else return y.type.toLocaleLowerCase()===l}).map(y=>{if(typeof g=="object"&&"ids"in g){const x=g.data,{schema:S,table:C,commit_timestamp:P,type:I,errors:A}=x;g=Object.assign(Object.assign({},{schema:S,table:C,commit_timestamp:P,eventType:I,new:{},old:{},errors:A}),this._getPayloadRecords(x))}y.callback(g,i)})}_isClosed(){return this.state===wt.closed}_isJoined(){return this.state===wt.joined}_isJoining(){return this.state===wt.joining}_isLeaving(){return this.state===wt.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,t,i){const o=e.toLocaleLowerCase(),a={type:o,filter:t,callback:i};return this.bindings[o]?this.bindings[o].push(a):this.bindings[o]=[a],this}_off(e,t){const i=e.toLocaleLowerCase();return this.bindings[i]&&(this.bindings[i]=this.bindings[i].filter(o=>{var a;return!(((a=o.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===i&&Wh.isEqual(o.filter,t))})),this}static isEqual(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const i in e)if(e[i]!==t[i])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Dn.close,{},e)}_onError(e){this._on(Dn.error,{},t=>e(t))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=wt.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const t={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(t.new=Pv(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(t.old=Pv(e.columns,e.old_record)),t}}const vd=()=>{},ul={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},dP=[1e3,2e3,5e3,1e4],hP=1e4,fP=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class pP{constructor(e,t){var i;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Jd,this.transport=null,this.heartbeatIntervalMs=ul.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=vd,this.ref=0,this.reconnectTimer=null,this.logger=vd,this.conn=null,this.sendBuffer=[],this.serializer=new iP,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=o=>{let a;return o?a=o:typeof fetch>"u"?a=(...l)=>Wo(async()=>{const{default:c}=await Promise.resolve().then(()=>Ds);return{default:c}},void 0).then(({default:c})=>c(...l)).catch(c=>{throw new Error(`Failed to load @supabase/node-fetch: ${c.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):a=fetch,(...l)=>a(...l)},!(!((i=t?.params)===null||i===void 0)&&i.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=t.params.apikey,this.endPoint=`${e}/${Zd.websocket}`,this.httpEndpoint=ew(e),this._initializeOptions(t),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(t?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=J_.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const t=e.message;throw t.includes("Node.js")?new Error(`${t}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${t}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:tP}))}disconnect(e,t){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const i=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(i),this._setConnectionState("disconnected")},e?this.conn.close(e,t??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const t=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),t}async removeAllChannels(){const e=await Promise.all(this.channels.map(t=>t.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,t,i){this.logger(e,t,i)}connectionState(){switch(this.conn&&this.conn.readyState){case jo.connecting:return xi.Connecting;case jo.open:return xi.Open;case jo.closing:return xi.Closing;default:return xi.Closed}}isConnected(){return this.connectionState()===xi.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,t={config:{}}){const i=`realtime:${e}`,o=this.getChannels().find(a=>a.topic===i);if(o)return o;{const a=new Wh(`realtime:${e}`,t,this);return this.channels.push(a),a}}push(e){const{topic:t,event:i,payload:o,ref:a}=e,l=()=>{this.encode(e,c=>{var d;(d=this.conn)===null||d===void 0||d.send(c)})};this.log("push",`${t} ${i} (${a})`,o),this.isConnected()?l():this.sendBuffer.push(l)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(t){this.log("error","error in heartbeat callback",t)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(t){this.log("error","error in heartbeat callback",t)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(nP,"heartbeat timeout"),setTimeout(()=>{var t;this.isConnected()||(t=this.reconnectTimer)===null||t===void 0||t.scheduleTimeout()},ul.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(t){this.log("error","error in heartbeat callback",t)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let t=this.channels.find(i=>i.topic===e&&(i._isJoined()||i._isJoining()));t&&(this.log("transport",`leaving duplicate topic "${e}"`),t.unsubscribe())}_remove(e){this.channels=this.channels.filter(t=>t.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,t=>{if(t.topic==="phoenix"&&t.event==="phx_reply")try{this.heartbeatCallback(t.payload.status==="ok"?"ok":"error")}catch(p){this.log("error","error in heartbeat callback",p)}t.ref&&t.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:i,event:o,payload:a,ref:l}=t,c=l?`(${l})`:"",d=a.status||"";this.log("receive",`${d} ${i} ${o} ${c}`.trim(),a),this.channels.filter(p=>p._isMember(i)).forEach(p=>p._trigger(o,a,l)),this._triggerStateCallbacks("message",t)})}_clearTimer(e){var t;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((t=this.reconnectTimer)===null||t===void 0||t.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=t=>{this.log("worker","worker error",t.message),this.workerRef.terminate()},this.workerRef.onmessage=t=>{t.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var t;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(t=this.reconnectTimer)===null||t===void 0||t.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(Dn.error))}_appendParams(e,t){if(Object.keys(t).length===0)return e;const i=e.match(/\?/)?"&":"?",o=new URLSearchParams(t);return`${e}${i}${o}`}_workerObjectUrl(e){let t;if(e)t=e;else{const i=new Blob([fP],{type:"application/javascript"});t=URL.createObjectURL(i)}return t}_setConnectionState(e,t=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=t)}async _performAuth(e=null){let t;e?t=e:this.accessToken?t=await this.accessToken():t=this.accessTokenValue,this.accessTokenValue!=t&&(this.accessTokenValue=t,this.channels.forEach(i=>{const o={access_token:t,version:eP};t&&i.updateJoinPayload(o),i.joinedOnce&&i._isJoined()&&i._push(Dn.access_token,{access_token:t})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(t=>{this.log("error",`error setting auth in ${e}`,t)})}_triggerStateCallbacks(e,t){try{this.stateChangeCallbacks[e].forEach(i=>{try{i(t)}catch(o){this.log("error",`error in ${e} callback`,o)}})}catch(i){this.log("error",`error triggering ${e} callbacks`,i)}}_setupReconnectionTimer(){this.reconnectTimer=new Jy(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},ul.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var t,i,o,a,l,c,d,p,f;if(this.transport=(t=e?.transport)!==null&&t!==void 0?t:null,this.timeout=(i=e?.timeout)!==null&&i!==void 0?i:Jd,this.heartbeatIntervalMs=(o=e?.heartbeatIntervalMs)!==null&&o!==void 0?o:ul.HEARTBEAT_INTERVAL,this.worker=(a=e?.worker)!==null&&a!==void 0?a:!1,this.accessToken=(l=e?.accessToken)!==null&&l!==void 0?l:null,this.heartbeatCallback=(c=e?.heartbeatCallback)!==null&&c!==void 0?c:vd,e?.params&&(this.params=e.params),e?.logger&&(this.logger=e.logger),(e?.logLevel||e?.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(d=e?.reconnectAfterMs)!==null&&d!==void 0?d:(m=>dP[m-1]||hP),this.encode=(p=e?.encode)!==null&&p!==void 0?p:((m,g)=>g(JSON.stringify(m))),this.decode=(f=e?.decode)!==null&&f!==void 0?f:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e?.workerUrl}}}class Gh extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function ft(n){return typeof n=="object"&&n!==null&&"__isStorageError"in n}class mP extends Gh{constructor(e,t,i){super(e),this.name="StorageApiError",this.status=t,this.statusCode=i}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class th extends Gh{constructor(e,t){super(e),this.name="StorageUnknownError",this.originalError=t}}var gP=function(n,e,t,i){function o(a){return a instanceof t?a:new t(function(l){l(a)})}return new(t||(t=Promise))(function(a,l){function c(f){try{p(i.next(f))}catch(m){l(m)}}function d(f){try{p(i.throw(f))}catch(m){l(m)}}function p(f){f.done?a(f.value):o(f.value).then(c,d)}p((i=i.apply(n,e||[])).next())})};const tw=n=>{let e;return n?e=n:typeof fetch>"u"?e=(...t)=>Wo(async()=>{const{default:i}=await Promise.resolve().then(()=>Ds);return{default:i}},void 0).then(({default:i})=>i(...t)):e=fetch,(...t)=>e(...t)},vP=()=>gP(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Wo(()=>Promise.resolve().then(()=>Ds),void 0)).Response:Response}),nh=n=>{if(Array.isArray(n))return n.map(t=>nh(t));if(typeof n=="function"||n!==Object(n))return n;const e={};return Object.entries(n).forEach(([t,i])=>{const o=t.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""));e[o]=nh(i)}),e},yP=n=>{if(typeof n!="object"||n===null)return!1;const e=Object.getPrototypeOf(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)};var Li=function(n,e,t,i){function o(a){return a instanceof t?a:new t(function(l){l(a)})}return new(t||(t=Promise))(function(a,l){function c(f){try{p(i.next(f))}catch(m){l(m)}}function d(f){try{p(i.throw(f))}catch(m){l(m)}}function p(f){f.done?a(f.value):o(f.value).then(c,d)}p((i=i.apply(n,e||[])).next())})};const yd=n=>n.msg||n.message||n.error_description||n.error||JSON.stringify(n),wP=(n,e,t)=>Li(void 0,void 0,void 0,function*(){const i=yield vP();n instanceof i&&!t?.noResolveJson?n.json().then(o=>{const a=n.status||500,l=o?.statusCode||a+"";e(new mP(yd(o),a,l))}).catch(o=>{e(new th(yd(o),o))}):e(new th(yd(n),n))}),xP=(n,e,t,i)=>{const o={method:n,headers:e?.headers||{}};return n==="GET"||!i?o:(yP(i)?(o.headers=Object.assign({"Content-Type":"application/json"},e?.headers),o.body=JSON.stringify(i)):o.body=i,e?.duplex&&(o.duplex=e.duplex),Object.assign(Object.assign({},o),t))};function Go(n,e,t,i,o,a){return Li(this,void 0,void 0,function*(){return new Promise((l,c)=>{n(t,xP(e,i,o,a)).then(d=>{if(!d.ok)throw d;return i?.noResolveJson?d:d.json()}).then(d=>l(d)).catch(d=>wP(d,c,i))})})}function Rl(n,e,t,i){return Li(this,void 0,void 0,function*(){return Go(n,"GET",e,t,i)})}function zn(n,e,t,i,o){return Li(this,void 0,void 0,function*(){return Go(n,"POST",e,i,o,t)})}function rh(n,e,t,i,o){return Li(this,void 0,void 0,function*(){return Go(n,"PUT",e,i,o,t)})}function SP(n,e,t,i){return Li(this,void 0,void 0,function*(){return Go(n,"HEAD",e,Object.assign(Object.assign({},t),{noResolveJson:!0}),i)})}function nw(n,e,t,i,o){return Li(this,void 0,void 0,function*(){return Go(n,"DELETE",e,i,o,t)})}var bP=function(n,e,t,i){function o(a){return a instanceof t?a:new t(function(l){l(a)})}return new(t||(t=Promise))(function(a,l){function c(f){try{p(i.next(f))}catch(m){l(m)}}function d(f){try{p(i.throw(f))}catch(m){l(m)}}function p(f){f.done?a(f.value):o(f.value).then(c,d)}p((i=i.apply(n,e||[])).next())})};class kP{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t}then(e,t){return this.execute().then(e,t)}execute(){return bP(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(ft(e))return{data:null,error:e};throw e}})}}var CP=function(n,e,t,i){function o(a){return a instanceof t?a:new t(function(l){l(a)})}return new(t||(t=Promise))(function(a,l){function c(f){try{p(i.next(f))}catch(m){l(m)}}function d(f){try{p(i.throw(f))}catch(m){l(m)}}function p(f){f.done?a(f.value):o(f.value).then(c,d)}p((i=i.apply(n,e||[])).next())})};class _P{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t}asStream(){return new kP(this.downloadFn,this.shouldThrowOnError)}then(e,t){return this.execute().then(e,t)}execute(){return CP(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(ft(e))return{data:null,error:e};throw e}})}}var Yt=function(n,e,t,i){function o(a){return a instanceof t?a:new t(function(l){l(a)})}return new(t||(t=Promise))(function(a,l){function c(f){try{p(i.next(f))}catch(m){l(m)}}function d(f){try{p(i.throw(f))}catch(m){l(m)}}function p(f){f.done?a(f.value):o(f.value).then(c,d)}p((i=i.apply(n,e||[])).next())})};const PP={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Tv={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class EP{constructor(e,t={},i,o){this.shouldThrowOnError=!1,this.url=e,this.headers=t,this.bucketId=i,this.fetch=tw(o)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,t,i,o){return Yt(this,void 0,void 0,function*(){try{let a;const l=Object.assign(Object.assign({},Tv),o);let c=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(l.upsert)});const d=l.metadata;typeof Blob<"u"&&i instanceof Blob?(a=new FormData,a.append("cacheControl",l.cacheControl),d&&a.append("metadata",this.encodeMetadata(d)),a.append("",i)):typeof FormData<"u"&&i instanceof FormData?(a=i,a.append("cacheControl",l.cacheControl),d&&a.append("metadata",this.encodeMetadata(d))):(a=i,c["cache-control"]=`max-age=${l.cacheControl}`,c["content-type"]=l.contentType,d&&(c["x-metadata"]=this.toBase64(this.encodeMetadata(d)))),o?.headers&&(c=Object.assign(Object.assign({},c),o.headers));const p=this._removeEmptyFolders(t),f=this._getFinalPath(p),m=yield(e=="PUT"?rh:zn)(this.fetch,`${this.url}/object/${f}`,a,Object.assign({headers:c},l?.duplex?{duplex:l.duplex}:{}));return{data:{path:p,id:m.Id,fullPath:m.Key},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(ft(a))return{data:null,error:a};throw a}})}upload(e,t,i){return Yt(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,t,i)})}uploadToSignedUrl(e,t,i,o){return Yt(this,void 0,void 0,function*(){const a=this._removeEmptyFolders(e),l=this._getFinalPath(a),c=new URL(this.url+`/object/upload/sign/${l}`);c.searchParams.set("token",t);try{let d;const p=Object.assign({upsert:Tv.upsert},o),f=Object.assign(Object.assign({},this.headers),{"x-upsert":String(p.upsert)});typeof Blob<"u"&&i instanceof Blob?(d=new FormData,d.append("cacheControl",p.cacheControl),d.append("",i)):typeof FormData<"u"&&i instanceof FormData?(d=i,d.append("cacheControl",p.cacheControl)):(d=i,f["cache-control"]=`max-age=${p.cacheControl}`,f["content-type"]=p.contentType);const m=yield rh(this.fetch,c.toString(),d,{headers:f});return{data:{path:a,fullPath:m.Key},error:null}}catch(d){if(this.shouldThrowOnError)throw d;if(ft(d))return{data:null,error:d};throw d}})}createSignedUploadUrl(e,t){return Yt(this,void 0,void 0,function*(){try{let i=this._getFinalPath(e);const o=Object.assign({},this.headers);t?.upsert&&(o["x-upsert"]="true");const a=yield zn(this.fetch,`${this.url}/object/upload/sign/${i}`,{},{headers:o}),l=new URL(this.url+a.url),c=l.searchParams.get("token");if(!c)throw new Gh("No token returned by API");return{data:{signedUrl:l.toString(),path:e,token:c},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ft(i))return{data:null,error:i};throw i}})}update(e,t,i){return Yt(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,t,i)})}move(e,t,i){return Yt(this,void 0,void 0,function*(){try{return{data:yield zn(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:i?.destinationBucket},{headers:this.headers}),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(ft(o))return{data:null,error:o};throw o}})}copy(e,t,i){return Yt(this,void 0,void 0,function*(){try{return{data:{path:(yield zn(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:i?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(ft(o))return{data:null,error:o};throw o}})}createSignedUrl(e,t,i){return Yt(this,void 0,void 0,function*(){try{let o=this._getFinalPath(e),a=yield zn(this.fetch,`${this.url}/object/sign/${o}`,Object.assign({expiresIn:t},i?.transform?{transform:i.transform}:{}),{headers:this.headers});const l=i?.download?`&download=${i.download===!0?"":i.download}`:"";return a={signedUrl:encodeURI(`${this.url}${a.signedURL}${l}`)},{data:a,error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(ft(o))return{data:null,error:o};throw o}})}createSignedUrls(e,t,i){return Yt(this,void 0,void 0,function*(){try{const o=yield zn(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:t,paths:e},{headers:this.headers}),a=i?.download?`&download=${i.download===!0?"":i.download}`:"";return{data:o.map(l=>Object.assign(Object.assign({},l),{signedUrl:l.signedURL?encodeURI(`${this.url}${l.signedURL}${a}`):null})),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(ft(o))return{data:null,error:o};throw o}})}download(e,t){const o=typeof t?.transform<"u"?"render/image/authenticated":"object",a=this.transformOptsToQueryString(t?.transform||{}),l=a?`?${a}`:"",c=this._getFinalPath(e),d=()=>Rl(this.fetch,`${this.url}/${o}/${c}${l}`,{headers:this.headers,noResolveJson:!0});return new _P(d,this.shouldThrowOnError)}info(e){return Yt(this,void 0,void 0,function*(){const t=this._getFinalPath(e);try{const i=yield Rl(this.fetch,`${this.url}/object/info/${t}`,{headers:this.headers});return{data:nh(i),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ft(i))return{data:null,error:i};throw i}})}exists(e){return Yt(this,void 0,void 0,function*(){const t=this._getFinalPath(e);try{return yield SP(this.fetch,`${this.url}/object/${t}`,{headers:this.headers}),{data:!0,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ft(i)&&i instanceof th){const o=i.originalError;if([400,404].includes(o?.status))return{data:!1,error:i}}throw i}})}getPublicUrl(e,t){const i=this._getFinalPath(e),o=[],a=t?.download?`download=${t.download===!0?"":t.download}`:"";a!==""&&o.push(a);const c=typeof t?.transform<"u"?"render/image":"object",d=this.transformOptsToQueryString(t?.transform||{});d!==""&&o.push(d);let p=o.join("&");return p!==""&&(p=`?${p}`),{data:{publicUrl:encodeURI(`${this.url}/${c}/public/${i}${p}`)}}}remove(e){return Yt(this,void 0,void 0,function*(){try{return{data:yield nw(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(ft(t))return{data:null,error:t};throw t}})}list(e,t,i){return Yt(this,void 0,void 0,function*(){try{const o=Object.assign(Object.assign(Object.assign({},PP),t),{prefix:e||""});return{data:yield zn(this.fetch,`${this.url}/object/list/${this.bucketId}`,o,{headers:this.headers},i),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(ft(o))return{data:null,error:o};throw o}})}listV2(e,t){return Yt(this,void 0,void 0,function*(){try{const i=Object.assign({},e);return{data:yield zn(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,i,{headers:this.headers},t),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ft(i))return{data:null,error:i};throw i}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}}const AP="2.12.2",TP={"X-Client-Info":`storage-js/${AP}`};var fs=function(n,e,t,i){function o(a){return a instanceof t?a:new t(function(l){l(a)})}return new(t||(t=Promise))(function(a,l){function c(f){try{p(i.next(f))}catch(m){l(m)}}function d(f){try{p(i.throw(f))}catch(m){l(m)}}function p(f){f.done?a(f.value):o(f.value).then(c,d)}p((i=i.apply(n,e||[])).next())})};class DP{constructor(e,t={},i,o){this.shouldThrowOnError=!1;const a=new URL(e);o?.useNewHostname&&/supabase\.(co|in|red)$/.test(a.hostname)&&!a.hostname.includes("storage.supabase.")&&(a.hostname=a.hostname.replace("supabase.","storage.supabase.")),this.url=a.href,this.headers=Object.assign(Object.assign({},TP),t),this.fetch=tw(i)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return fs(this,void 0,void 0,function*(){try{return{data:yield Rl(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(ft(e))return{data:null,error:e};throw e}})}getBucket(e){return fs(this,void 0,void 0,function*(){try{return{data:yield Rl(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(ft(t))return{data:null,error:t};throw t}})}createBucket(e,t={public:!1}){return fs(this,void 0,void 0,function*(){try{return{data:yield zn(this.fetch,`${this.url}/bucket`,{id:e,name:e,type:t.type,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ft(i))return{data:null,error:i};throw i}})}updateBucket(e,t){return fs(this,void 0,void 0,function*(){try{return{data:yield rh(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ft(i))return{data:null,error:i};throw i}})}emptyBucket(e){return fs(this,void 0,void 0,function*(){try{return{data:yield zn(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(ft(t))return{data:null,error:t};throw t}})}deleteBucket(e){return fs(this,void 0,void 0,function*(){try{return{data:yield nw(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(ft(t))return{data:null,error:t};throw t}})}}class jP extends DP{constructor(e,t={},i,o){super(e,t,i,o)}from(e){return new EP(this.url,this.headers,e,this.fetch)}}const IP="2.58.0";let Po="";typeof Deno<"u"?Po="deno":typeof document<"u"?Po="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Po="react-native":Po="node";const OP={"X-Client-Info":`supabase-js-${Po}/${IP}`},RP={headers:OP},LP={schema:"public"},MP={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},FP={};var NP=function(n,e,t,i){function o(a){return a instanceof t?a:new t(function(l){l(a)})}return new(t||(t=Promise))(function(a,l){function c(f){try{p(i.next(f))}catch(m){l(m)}}function d(f){try{p(i.throw(f))}catch(m){l(m)}}function p(f){f.done?a(f.value):o(f.value).then(c,d)}p((i=i.apply(n,e||[])).next())})};const UP=n=>{let e;return n?e=n:typeof fetch>"u"?e=Gy:e=fetch,(...t)=>e(...t)},BP=()=>typeof Headers>"u"?Ky:Headers,$P=(n,e,t)=>{const i=UP(t),o=BP();return(a,l)=>NP(void 0,void 0,void 0,function*(){var c;const d=(c=yield e())!==null&&c!==void 0?c:n;let p=new o(l?.headers);return p.has("apikey")||p.set("apikey",n),p.has("Authorization")||p.set("Authorization",`Bearer ${d}`),i(a,Object.assign(Object.assign({},l),{headers:p}))})};var zP=function(n,e,t,i){function o(a){return a instanceof t?a:new t(function(l){l(a)})}return new(t||(t=Promise))(function(a,l){function c(f){try{p(i.next(f))}catch(m){l(m)}}function d(f){try{p(i.throw(f))}catch(m){l(m)}}function p(f){f.done?a(f.value):o(f.value).then(c,d)}p((i=i.apply(n,e||[])).next())})};function VP(n){return n.endsWith("/")?n:n+"/"}function HP(n,e){var t,i;const{db:o,auth:a,realtime:l,global:c}=n,{db:d,auth:p,realtime:f,global:m}=e,g={db:Object.assign(Object.assign({},d),o),auth:Object.assign(Object.assign({},p),a),realtime:Object.assign(Object.assign({},f),l),storage:{},global:Object.assign(Object.assign(Object.assign({},m),c),{headers:Object.assign(Object.assign({},(t=m?.headers)!==null&&t!==void 0?t:{}),(i=c?.headers)!==null&&i!==void 0?i:{})}),accessToken:()=>zP(this,void 0,void 0,function*(){return""})};return n.accessToken?g.accessToken=n.accessToken:delete g.accessToken,g}function WP(n){const e=n?.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(VP(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const rw="2.72.0",ys=30*1e3,ih=3,wd=ih*ys,GP="http://localhost:9999",KP="supabase.auth.token",qP={"X-Client-Info":`gotrue-js/${rw}`},sh="X-Supabase-Api-Version",iw={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},XP=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,YP=600*1e3;class Kh extends Error{constructor(e,t,i){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=t,this.code=i}}function _e(n){return typeof n=="object"&&n!==null&&"__isAuthError"in n}class QP extends Kh{constructor(e,t,i){super(e,t,i),this.name="AuthApiError",this.status=t,this.code=i}}function JP(n){return _e(n)&&n.name==="AuthApiError"}class sw extends Kh{constructor(e,t){super(e),this.name="AuthUnknownError",this.originalError=t}}class Yr extends Kh{constructor(e,t,i,o){super(e,i,o),this.name=t,this.status=i}}class Nr extends Yr{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function ZP(n){return _e(n)&&n.name==="AuthSessionMissingError"}class bo extends Yr{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class cl extends Yr{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class dl extends Yr{constructor(e,t=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function eE(n){return _e(n)&&n.name==="AuthImplicitGrantRedirectError"}class Dv extends Yr{constructor(e,t=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class oh extends Yr{constructor(e,t){super(e,"AuthRetryableFetchError",t,void 0)}}function xd(n){return _e(n)&&n.name==="AuthRetryableFetchError"}class jv extends Yr{constructor(e,t,i){super(e,"AuthWeakPasswordError",t,"weak_password"),this.reasons=i}}class ah extends Yr{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Ll="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Iv=` 	
\r=`.split(""),tE=(()=>{const n=new Array(128);for(let e=0;e<n.length;e+=1)n[e]=-1;for(let e=0;e<Iv.length;e+=1)n[Iv[e].charCodeAt(0)]=-2;for(let e=0;e<Ll.length;e+=1)n[Ll[e].charCodeAt(0)]=e;return n})();function Ov(n,e,t){if(n!==null)for(e.queue=e.queue<<8|n,e.queuedBits+=8;e.queuedBits>=6;){const i=e.queue>>e.queuedBits-6&63;t(Ll[i]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const i=e.queue>>e.queuedBits-6&63;t(Ll[i]),e.queuedBits-=6}}function ow(n,e,t){const i=tE[n];if(i>-1)for(e.queue=e.queue<<6|i,e.queuedBits+=6;e.queuedBits>=8;)t(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(i===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(n)}"`)}}function Rv(n){const e=[],t=l=>{e.push(String.fromCodePoint(l))},i={utf8seq:0,codepoint:0},o={queue:0,queuedBits:0},a=l=>{iE(l,i,t)};for(let l=0;l<n.length;l+=1)ow(n.charCodeAt(l),o,a);return e.join("")}function nE(n,e){if(n<=127){e(n);return}else if(n<=2047){e(192|n>>6),e(128|n&63);return}else if(n<=65535){e(224|n>>12),e(128|n>>6&63),e(128|n&63);return}else if(n<=1114111){e(240|n>>18),e(128|n>>12&63),e(128|n>>6&63),e(128|n&63);return}throw new Error(`Unrecognized Unicode codepoint: ${n.toString(16)}`)}function rE(n,e){for(let t=0;t<n.length;t+=1){let i=n.charCodeAt(t);if(i>55295&&i<=56319){const o=(i-55296)*1024&65535;i=(n.charCodeAt(t+1)-56320&65535|o)+65536,t+=1}nE(i,e)}}function iE(n,e,t){if(e.utf8seq===0){if(n<=127){t(n);return}for(let i=1;i<6;i+=1)if((n>>7-i&1)===0){e.utf8seq=i;break}if(e.utf8seq===2)e.codepoint=n&31;else if(e.utf8seq===3)e.codepoint=n&15;else if(e.utf8seq===4)e.codepoint=n&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(n<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|n&63,e.utf8seq-=1,e.utf8seq===0&&t(e.codepoint)}}function sE(n){const e=[],t={queue:0,queuedBits:0},i=o=>{e.push(o)};for(let o=0;o<n.length;o+=1)ow(n.charCodeAt(o),t,i);return new Uint8Array(e)}function oE(n){const e=[];return rE(n,t=>e.push(t)),new Uint8Array(e)}function aE(n){const e=[],t={queue:0,queuedBits:0},i=o=>{e.push(o)};return n.forEach(o=>Ov(o,t,i)),Ov(null,t,i),e.join("")}function lE(n){return Math.round(Date.now()/1e3)+n}function uE(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(n){const e=Math.random()*16|0;return(n=="x"?e:e&3|8).toString(16)})}const mn=()=>typeof window<"u"&&typeof document<"u",fi={tested:!1,writable:!1},aw=()=>{if(!mn())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(fi.tested)return fi.writable;const n=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(n,n),globalThis.localStorage.removeItem(n),fi.tested=!0,fi.writable=!0}catch{fi.tested=!0,fi.writable=!1}return fi.writable};function cE(n){const e={},t=new URL(n);if(t.hash&&t.hash[0]==="#")try{new URLSearchParams(t.hash.substring(1)).forEach((o,a)=>{e[a]=o})}catch{}return t.searchParams.forEach((i,o)=>{e[o]=i}),e}const lw=n=>{let e;return n?e=n:typeof fetch>"u"?e=(...t)=>Wo(async()=>{const{default:i}=await Promise.resolve().then(()=>Ds);return{default:i}},void 0).then(({default:i})=>i(...t)):e=fetch,(...t)=>e(...t)},dE=n=>typeof n=="object"&&n!==null&&"status"in n&&"ok"in n&&"json"in n&&typeof n.json=="function",ws=async(n,e,t)=>{await n.setItem(e,JSON.stringify(t))},pi=async(n,e)=>{const t=await n.getItem(e);if(!t)return null;try{return JSON.parse(t)}catch{return t}},Lr=async(n,e)=>{await n.removeItem(e)};class nu{constructor(){this.promise=new nu.promiseConstructor((e,t)=>{this.resolve=e,this.reject=t})}}nu.promiseConstructor=Promise;function Sd(n){const e=n.split(".");if(e.length!==3)throw new ah("Invalid JWT structure");for(let i=0;i<e.length;i++)if(!XP.test(e[i]))throw new ah("JWT not in base64url format");return{header:JSON.parse(Rv(e[0])),payload:JSON.parse(Rv(e[1])),signature:sE(e[2]),raw:{header:e[0],payload:e[1]}}}async function hE(n){return await new Promise(e=>{setTimeout(()=>e(null),n)})}function fE(n,e){return new Promise((i,o)=>{(async()=>{for(let a=0;a<1/0;a++)try{const l=await n(a);if(!e(a,null,l)){i(l);return}}catch(l){if(!e(a,l)){o(l);return}}})()})}function pE(n){return("0"+n.toString(16)).substr(-2)}function mE(){const e=new Uint32Array(56);if(typeof crypto>"u"){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",i=t.length;let o="";for(let a=0;a<56;a++)o+=t.charAt(Math.floor(Math.random()*i));return o}return crypto.getRandomValues(e),Array.from(e,pE).join("")}async function gE(n){const t=new TextEncoder().encode(n),i=await crypto.subtle.digest("SHA-256",t),o=new Uint8Array(i);return Array.from(o).map(a=>String.fromCharCode(a)).join("")}async function vE(n){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),n;const t=await gE(n);return btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function ps(n,e,t=!1){const i=mE();let o=i;t&&(o+="/PASSWORD_RECOVERY"),await ws(n,`${e}-code-verifier`,o);const a=await vE(i);return[a,i===a?"plain":"s256"]}const yE=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function wE(n){const e=n.headers.get(sh);if(!e||!e.match(yE))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function xE(n){if(!n)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(n<=e)throw new Error("JWT has expired")}function SE(n){switch(n){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const bE=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function ms(n){if(!bE.test(n))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function bd(){const n={};return new Proxy(n,{get:(e,t)=>{if(t==="__isUserNotAvailableProxy")return!0;if(typeof t=="symbol"){const i=t.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${t}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,t)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${t}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,t)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${t}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Lv(n){return JSON.parse(JSON.stringify(n))}var kE=function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(n);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(n,i[o])&&(t[i[o]]=n[i[o]]);return t};const yi=n=>n.msg||n.message||n.error_description||n.error||JSON.stringify(n),CE=[502,503,504];async function Mv(n){var e;if(!dE(n))throw new oh(yi(n),0);if(CE.includes(n.status))throw new oh(yi(n),n.status);let t;try{t=await n.json()}catch(a){throw new sw(yi(a),a)}let i;const o=wE(n);if(o&&o.getTime()>=iw["2024-01-01"].timestamp&&typeof t=="object"&&t&&typeof t.code=="string"?i=t.code:typeof t=="object"&&t&&typeof t.error_code=="string"&&(i=t.error_code),i){if(i==="weak_password")throw new jv(yi(t),n.status,((e=t.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(i==="session_not_found")throw new Nr}else if(typeof t=="object"&&t&&typeof t.weak_password=="object"&&t.weak_password&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.reasons.reduce((a,l)=>a&&typeof l=="string",!0))throw new jv(yi(t),n.status,t.weak_password.reasons);throw new QP(yi(t),n.status||500,i)}const _E=(n,e,t,i)=>{const o={method:n,headers:e?.headers||{}};return n==="GET"?o:(o.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e?.headers),o.body=JSON.stringify(i),Object.assign(Object.assign({},o),t))};async function Ae(n,e,t,i){var o;const a=Object.assign({},i?.headers);a[sh]||(a[sh]=iw["2024-01-01"].name),i?.jwt&&(a.Authorization=`Bearer ${i.jwt}`);const l=(o=i?.query)!==null&&o!==void 0?o:{};i?.redirectTo&&(l.redirect_to=i.redirectTo);const c=Object.keys(l).length?"?"+new URLSearchParams(l).toString():"",d=await PE(n,e,t+c,{headers:a,noResolveJson:i?.noResolveJson},{},i?.body);return i?.xform?i?.xform(d):{data:Object.assign({},d),error:null}}async function PE(n,e,t,i,o,a){const l=_E(e,i,o,a);let c;try{c=await n(t,Object.assign({},l))}catch(d){throw console.error(d),new oh(yi(d),0)}if(c.ok||await Mv(c),i?.noResolveJson)return c;try{return await c.json()}catch(d){await Mv(d)}}function $n(n){var e;let t=null;DE(n)&&(t=Object.assign({},n),n.expires_at||(t.expires_at=lE(n.expires_in)));const i=(e=n.user)!==null&&e!==void 0?e:n;return{data:{session:t,user:i},error:null}}function Fv(n){const e=$n(n);return!e.error&&n.weak_password&&typeof n.weak_password=="object"&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.message&&typeof n.weak_password.message=="string"&&n.weak_password.reasons.reduce((t,i)=>t&&typeof i=="string",!0)&&(e.data.weak_password=n.weak_password),e}function Br(n){var e;return{data:{user:(e=n.user)!==null&&e!==void 0?e:n},error:null}}function EE(n){return{data:n,error:null}}function AE(n){const{action_link:e,email_otp:t,hashed_token:i,redirect_to:o,verification_type:a}=n,l=kE(n,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),c={action_link:e,email_otp:t,hashed_token:i,redirect_to:o,verification_type:a},d=Object.assign({},l);return{data:{properties:c,user:d},error:null}}function TE(n){return n}function DE(n){return n.access_token&&n.refresh_token&&n.expires_in}const kd=["global","local","others"];var jE=function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(n);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(n,i[o])&&(t[i[o]]=n[i[o]]);return t};class IE{constructor({url:e="",headers:t={},fetch:i}){this.url=e,this.headers=t,this.fetch=lw(i),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,t=kd[0]){if(kd.indexOf(t)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${kd.join(", ")}`);try{return await Ae(this.fetch,"POST",`${this.url}/logout?scope=${t}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(i){if(_e(i))return{data:null,error:i};throw i}}async inviteUserByEmail(e,t={}){try{return await Ae(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:t.data},headers:this.headers,redirectTo:t.redirectTo,xform:Br})}catch(i){if(_e(i))return{data:{user:null},error:i};throw i}}async generateLink(e){try{const{options:t}=e,i=jE(e,["options"]),o=Object.assign(Object.assign({},i),t);return"newEmail"in i&&(o.new_email=i?.newEmail,delete o.newEmail),await Ae(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:o,headers:this.headers,xform:AE,redirectTo:t?.redirectTo})}catch(t){if(_e(t))return{data:{properties:null,user:null},error:t};throw t}}async createUser(e){try{return await Ae(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Br})}catch(t){if(_e(t))return{data:{user:null},error:t};throw t}}async listUsers(e){var t,i,o,a,l,c,d;try{const p={nextPage:null,lastPage:0,total:0},f=await Ae(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(i=(t=e?.page)===null||t===void 0?void 0:t.toString())!==null&&i!==void 0?i:"",per_page:(a=(o=e?.perPage)===null||o===void 0?void 0:o.toString())!==null&&a!==void 0?a:""},xform:TE});if(f.error)throw f.error;const m=await f.json(),g=(l=f.headers.get("x-total-count"))!==null&&l!==void 0?l:0,y=(d=(c=f.headers.get("link"))===null||c===void 0?void 0:c.split(","))!==null&&d!==void 0?d:[];return y.length>0&&(y.forEach(x=>{const S=parseInt(x.split(";")[0].split("=")[1].substring(0,1)),C=JSON.parse(x.split(";")[1].split("=")[1]);p[`${C}Page`]=S}),p.total=parseInt(g)),{data:Object.assign(Object.assign({},m),p),error:null}}catch(p){if(_e(p))return{data:{users:[]},error:p};throw p}}async getUserById(e){ms(e);try{return await Ae(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Br})}catch(t){if(_e(t))return{data:{user:null},error:t};throw t}}async updateUserById(e,t){ms(e);try{return await Ae(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:t,headers:this.headers,xform:Br})}catch(i){if(_e(i))return{data:{user:null},error:i};throw i}}async deleteUser(e,t=!1){ms(e);try{return await Ae(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:t},xform:Br})}catch(i){if(_e(i))return{data:{user:null},error:i};throw i}}async _listFactors(e){ms(e.userId);try{const{data:t,error:i}=await Ae(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:o=>({data:{factors:o},error:null})});return{data:t,error:i}}catch(t){if(_e(t))return{data:null,error:t};throw t}}async _deleteFactor(e){ms(e.userId),ms(e.id);try{return{data:await Ae(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(t){if(_e(t))return{data:null,error:t};throw t}}}function Nv(n={}){return{getItem:e=>n[e]||null,setItem:(e,t)=>{n[e]=t},removeItem:e=>{delete n[e]}}}function OE(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const gs={debug:!!(globalThis&&aw()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class uw extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class RE extends uw{}async function LE(n,e,t){gs.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",n,e);const i=new globalThis.AbortController;return e>0&&setTimeout(()=>{i.abort(),gs.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",n)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(n,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:i.signal},async o=>{if(o){gs.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",n,o.name);try{return await t()}finally{gs.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",n,o.name)}}else{if(e===0)throw gs.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",n),new RE(`Acquiring an exclusive Navigator LockManager lock "${n}" immediately failed`);if(gs.debug)try{const a=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(a,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await t()}}))}function cw(n){if(!/^0x[a-fA-F0-9]{40}$/.test(n))throw new Error(`@supabase/auth-js: Address "${n}" is invalid.`);return n.toLowerCase()}function ME(n){return parseInt(n,16)}function FE(n){const e=new TextEncoder().encode(n);return"0x"+Array.from(e,i=>i.toString(16).padStart(2,"0")).join("")}function NE(n){var e;const{chainId:t,domain:i,expirationTime:o,issuedAt:a=new Date,nonce:l,notBefore:c,requestId:d,resources:p,scheme:f,uri:m,version:g}=n;{if(!Number.isInteger(t))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${t}`);if(!i)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(l&&l.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${l}`);if(!m)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(g!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${g}`);if(!((e=n.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${n.statement}`)}const y=cw(n.address),x=f?`${f}://${i}`:i,S=n.statement?`${n.statement}
`:"",C=`${x} wants you to sign in with your Ethereum account:
${y}

${S}`;let P=`URI: ${m}
Version: ${g}
Chain ID: ${t}${l?`
Nonce: ${l}`:""}
Issued At: ${a.toISOString()}`;if(o&&(P+=`
Expiration Time: ${o.toISOString()}`),c&&(P+=`
Not Before: ${c.toISOString()}`),d&&(P+=`
Request ID: ${d}`),p){let I=`
Resources:`;for(const A of p){if(!A||typeof A!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${A}`);I+=`
- ${A}`}P+=I}return`${C}
${P}`}OE();const UE={url:GP,storageKey:KP,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:qP,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Uv(n,e,t){return await t()}const vs={};class Uo{constructor(e){var t,i;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Uo.nextInstanceID,Uo.nextInstanceID+=1,this.instanceID>0&&mn()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const o=Object.assign(Object.assign({},UE),e);if(this.logDebugMessages=!!o.debug,typeof o.debug=="function"&&(this.logger=o.debug),this.persistSession=o.persistSession,this.storageKey=o.storageKey,this.autoRefreshToken=o.autoRefreshToken,this.admin=new IE({url:o.url,headers:o.headers,fetch:o.fetch}),this.url=o.url,this.headers=o.headers,this.fetch=lw(o.fetch),this.lock=o.lock||Uv,this.detectSessionInUrl=o.detectSessionInUrl,this.flowType=o.flowType,this.hasCustomAuthorizationHeader=o.hasCustomAuthorizationHeader,o.lock?this.lock=o.lock:mn()&&(!((t=globalThis?.navigator)===null||t===void 0)&&t.locks)?this.lock=LE:this.lock=Uv,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(o.storage?this.storage=o.storage:aw()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Nv(this.memoryStorage)),o.userStorage&&(this.userStorage=o.userStorage)):(this.memoryStorage={},this.storage=Nv(this.memoryStorage)),mn()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",async a=>{this._debug("received broadcast notification from other tab or client",a),await this._notifyAllSubscribers(a.data.event,a.data.session,!1)})}this.initialize()}get jwks(){var e,t;return(t=(e=vs[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&t!==void 0?t:{keys:[]}}set jwks(e){vs[this.storageKey]=Object.assign(Object.assign({},vs[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,t;return(t=(e=vs[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&t!==void 0?t:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){vs[this.storageKey]=Object.assign(Object.assign({},vs[this.storageKey]),{cachedAt:e})}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${rw}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const t=cE(window.location.href);let i="none";if(this._isImplicitGrantCallback(t)?i="implicit":await this._isPKCECallback(t)&&(i="pkce"),mn()&&this.detectSessionInUrl&&i!=="none"){const{data:o,error:a}=await this._getSessionFromURL(t,i);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),eE(a)){const d=(e=a.details)===null||e===void 0?void 0:e.code;if(d==="identity_already_exists"||d==="identity_not_found"||d==="single_identity_not_deletable")return{error:a}}return await this._removeSession(),{error:a}}const{session:l,redirectType:c}=o;return this._debug("#_initialize()","detected session in URL",l,"redirect type",c),await this._saveSession(l),setTimeout(async()=>{c==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",l):await this._notifyAllSubscribers("SIGNED_IN",l)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(t){return _e(t)?{error:t}:{error:new sw("Unexpected error during initialization",t)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var t,i,o;try{const a=await Ae(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(i=(t=e?.options)===null||t===void 0?void 0:t.data)!==null&&i!==void 0?i:{},gotrue_meta_security:{captcha_token:(o=e?.options)===null||o===void 0?void 0:o.captchaToken}},xform:$n}),{data:l,error:c}=a;if(c||!l)return{data:{user:null,session:null},error:c};const d=l.session,p=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",d)),{data:{user:p,session:d},error:null}}catch(a){if(_e(a))return{data:{user:null,session:null},error:a};throw a}}async signUp(e){var t,i,o;try{let a;if("email"in e){const{email:f,password:m,options:g}=e;let y=null,x=null;this.flowType==="pkce"&&([y,x]=await ps(this.storage,this.storageKey)),a=await Ae(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:g?.emailRedirectTo,body:{email:f,password:m,data:(t=g?.data)!==null&&t!==void 0?t:{},gotrue_meta_security:{captcha_token:g?.captchaToken},code_challenge:y,code_challenge_method:x},xform:$n})}else if("phone"in e){const{phone:f,password:m,options:g}=e;a=await Ae(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:f,password:m,data:(i=g?.data)!==null&&i!==void 0?i:{},channel:(o=g?.channel)!==null&&o!==void 0?o:"sms",gotrue_meta_security:{captcha_token:g?.captchaToken}},xform:$n})}else throw new cl("You must provide either an email or phone number and a password");const{data:l,error:c}=a;if(c||!l)return{data:{user:null,session:null},error:c};const d=l.session,p=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",d)),{data:{user:p,session:d},error:null}}catch(a){if(_e(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithPassword(e){try{let t;if("email"in e){const{email:a,password:l,options:c}=e;t=await Ae(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:l,gotrue_meta_security:{captcha_token:c?.captchaToken}},xform:Fv})}else if("phone"in e){const{phone:a,password:l,options:c}=e;t=await Ae(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:l,gotrue_meta_security:{captcha_token:c?.captchaToken}},xform:Fv})}else throw new cl("You must provide either an email or phone number and a password");const{data:i,error:o}=t;return o?{data:{user:null,session:null},error:o}:!i||!i.session||!i.user?{data:{user:null,session:null},error:new bo}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign({user:i.user,session:i.session},i.weak_password?{weakPassword:i.weak_password}:null),error:o})}catch(t){if(_e(t))return{data:{user:null,session:null},error:t};throw t}}async signInWithOAuth(e){var t,i,o,a;return await this._handleProviderSignIn(e.provider,{redirectTo:(t=e.options)===null||t===void 0?void 0:t.redirectTo,scopes:(i=e.options)===null||i===void 0?void 0:i.scopes,queryParams:(o=e.options)===null||o===void 0?void 0:o.queryParams,skipBrowserRedirect:(a=e.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:t}=e;switch(t){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${t}"`)}}async signInWithEthereum(e){var t,i,o,a,l,c,d,p,f,m,g;let y,x;if("message"in e)y=e.message,x=e.signature;else{const{chain:S,wallet:C,statement:P,options:I}=e;let A;if(mn())if(typeof C=="object")A=C;else{const _=window;if("ethereum"in _&&typeof _.ethereum=="object"&&"request"in _.ethereum&&typeof _.ethereum.request=="function")A=_.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof C!="object"||!I?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");A=C}const j=new URL((t=I?.url)!==null&&t!==void 0?t:window.location.href),H=await A.request({method:"eth_requestAccounts"}).then(_=>_).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!H||H.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const T=cw(H[0]);let V=(i=I?.signInWithEthereum)===null||i===void 0?void 0:i.chainId;if(!V){const _=await A.request({method:"eth_chainId"});V=ME(_)}const k={domain:j.host,address:T,statement:P,uri:j.href,version:"1",chainId:V,nonce:(o=I?.signInWithEthereum)===null||o===void 0?void 0:o.nonce,issuedAt:(l=(a=I?.signInWithEthereum)===null||a===void 0?void 0:a.issuedAt)!==null&&l!==void 0?l:new Date,expirationTime:(c=I?.signInWithEthereum)===null||c===void 0?void 0:c.expirationTime,notBefore:(d=I?.signInWithEthereum)===null||d===void 0?void 0:d.notBefore,requestId:(p=I?.signInWithEthereum)===null||p===void 0?void 0:p.requestId,resources:(f=I?.signInWithEthereum)===null||f===void 0?void 0:f.resources};y=NE(k),x=await A.request({method:"personal_sign",params:[FE(y),T]})}try{const{data:S,error:C}=await Ae(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:y,signature:x},!((m=e.options)===null||m===void 0)&&m.captchaToken?{gotrue_meta_security:{captcha_token:(g=e.options)===null||g===void 0?void 0:g.captchaToken}}:null),xform:$n});if(C)throw C;return!S||!S.session||!S.user?{data:{user:null,session:null},error:new bo}:(S.session&&(await this._saveSession(S.session),await this._notifyAllSubscribers("SIGNED_IN",S.session)),{data:Object.assign({},S),error:C})}catch(S){if(_e(S))return{data:{user:null,session:null},error:S};throw S}}async signInWithSolana(e){var t,i,o,a,l,c,d,p,f,m,g,y;let x,S;if("message"in e)x=e.message,S=e.signature;else{const{chain:C,wallet:P,statement:I,options:A}=e;let j;if(mn())if(typeof P=="object")j=P;else{const T=window;if("solana"in T&&typeof T.solana=="object"&&("signIn"in T.solana&&typeof T.solana.signIn=="function"||"signMessage"in T.solana&&typeof T.solana.signMessage=="function"))j=T.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof P!="object"||!A?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");j=P}const H=new URL((t=A?.url)!==null&&t!==void 0?t:window.location.href);if("signIn"in j&&j.signIn){const T=await j.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},A?.signInWithSolana),{version:"1",domain:H.host,uri:H.href}),I?{statement:I}:null));let V;if(Array.isArray(T)&&T[0]&&typeof T[0]=="object")V=T[0];else if(T&&typeof T=="object"&&"signedMessage"in T&&"signature"in T)V=T;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in V&&"signature"in V&&(typeof V.signedMessage=="string"||V.signedMessage instanceof Uint8Array)&&V.signature instanceof Uint8Array)x=typeof V.signedMessage=="string"?V.signedMessage:new TextDecoder().decode(V.signedMessage),S=V.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in j)||typeof j.signMessage!="function"||!("publicKey"in j)||typeof j!="object"||!j.publicKey||!("toBase58"in j.publicKey)||typeof j.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");x=[`${H.host} wants you to sign in with your Solana account:`,j.publicKey.toBase58(),...I?["",I,""]:[""],"Version: 1",`URI: ${H.href}`,`Issued At: ${(o=(i=A?.signInWithSolana)===null||i===void 0?void 0:i.issuedAt)!==null&&o!==void 0?o:new Date().toISOString()}`,...!((a=A?.signInWithSolana)===null||a===void 0)&&a.notBefore?[`Not Before: ${A.signInWithSolana.notBefore}`]:[],...!((l=A?.signInWithSolana)===null||l===void 0)&&l.expirationTime?[`Expiration Time: ${A.signInWithSolana.expirationTime}`]:[],...!((c=A?.signInWithSolana)===null||c===void 0)&&c.chainId?[`Chain ID: ${A.signInWithSolana.chainId}`]:[],...!((d=A?.signInWithSolana)===null||d===void 0)&&d.nonce?[`Nonce: ${A.signInWithSolana.nonce}`]:[],...!((p=A?.signInWithSolana)===null||p===void 0)&&p.requestId?[`Request ID: ${A.signInWithSolana.requestId}`]:[],...!((m=(f=A?.signInWithSolana)===null||f===void 0?void 0:f.resources)===null||m===void 0)&&m.length?["Resources",...A.signInWithSolana.resources.map(V=>`- ${V}`)]:[]].join(`
`);const T=await j.signMessage(new TextEncoder().encode(x),"utf8");if(!T||!(T instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");S=T}}try{const{data:C,error:P}=await Ae(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:x,signature:aE(S)},!((g=e.options)===null||g===void 0)&&g.captchaToken?{gotrue_meta_security:{captcha_token:(y=e.options)===null||y===void 0?void 0:y.captchaToken}}:null),xform:$n});if(P)throw P;return!C||!C.session||!C.user?{data:{user:null,session:null},error:new bo}:(C.session&&(await this._saveSession(C.session),await this._notifyAllSubscribers("SIGNED_IN",C.session)),{data:Object.assign({},C),error:P})}catch(C){if(_e(C))return{data:{user:null,session:null},error:C};throw C}}async _exchangeCodeForSession(e){const t=await pi(this.storage,`${this.storageKey}-code-verifier`),[i,o]=(t??"").split("/");try{const{data:a,error:l}=await Ae(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:i},xform:$n});if(await Lr(this.storage,`${this.storageKey}-code-verifier`),l)throw l;return!a||!a.session||!a.user?{data:{user:null,session:null,redirectType:null},error:new bo}:(a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),{data:Object.assign(Object.assign({},a),{redirectType:o??null}),error:l})}catch(a){if(_e(a))return{data:{user:null,session:null,redirectType:null},error:a};throw a}}async signInWithIdToken(e){try{const{options:t,provider:i,token:o,access_token:a,nonce:l}=e,c=await Ae(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:i,id_token:o,access_token:a,nonce:l,gotrue_meta_security:{captcha_token:t?.captchaToken}},xform:$n}),{data:d,error:p}=c;return p?{data:{user:null,session:null},error:p}:!d||!d.session||!d.user?{data:{user:null,session:null},error:new bo}:(d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",d.session)),{data:d,error:p})}catch(t){if(_e(t))return{data:{user:null,session:null},error:t};throw t}}async signInWithOtp(e){var t,i,o,a,l;try{if("email"in e){const{email:c,options:d}=e;let p=null,f=null;this.flowType==="pkce"&&([p,f]=await ps(this.storage,this.storageKey));const{error:m}=await Ae(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:c,data:(t=d?.data)!==null&&t!==void 0?t:{},create_user:(i=d?.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:d?.captchaToken},code_challenge:p,code_challenge_method:f},redirectTo:d?.emailRedirectTo});return{data:{user:null,session:null},error:m}}if("phone"in e){const{phone:c,options:d}=e,{data:p,error:f}=await Ae(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:c,data:(o=d?.data)!==null&&o!==void 0?o:{},create_user:(a=d?.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:d?.captchaToken},channel:(l=d?.channel)!==null&&l!==void 0?l:"sms"}});return{data:{user:null,session:null,messageId:p?.message_id},error:f}}throw new cl("You must provide either an email or phone number.")}catch(c){if(_e(c))return{data:{user:null,session:null},error:c};throw c}}async verifyOtp(e){var t,i;try{let o,a;"options"in e&&(o=(t=e.options)===null||t===void 0?void 0:t.redirectTo,a=(i=e.options)===null||i===void 0?void 0:i.captchaToken);const{data:l,error:c}=await Ae(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:a}}),redirectTo:o,xform:$n});if(c)throw c;if(!l)throw new Error("An error occurred on token verification.");const d=l.session,p=l.user;return d?.access_token&&(await this._saveSession(d),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",d)),{data:{user:p,session:d},error:null}}catch(o){if(_e(o))return{data:{user:null,session:null},error:o};throw o}}async signInWithSSO(e){var t,i,o;try{let a=null,l=null;return this.flowType==="pkce"&&([a,l]=await ps(this.storage,this.storageKey)),await Ae(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(i=(t=e.options)===null||t===void 0?void 0:t.redirectTo)!==null&&i!==void 0?i:void 0}),!((o=e?.options)===null||o===void 0)&&o.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:l}),headers:this.headers,xform:EE})}catch(a){if(_e(a))return{data:null,error:a};throw a}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:t},error:i}=e;if(i)throw i;if(!t)throw new Nr;const{error:o}=await Ae(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:t.access_token});return{data:{user:null,session:null},error:o}})}catch(e){if(_e(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const t=`${this.url}/resend`;if("email"in e){const{email:i,type:o,options:a}=e,{error:l}=await Ae(this.fetch,"POST",t,{headers:this.headers,body:{email:i,type:o,gotrue_meta_security:{captcha_token:a?.captchaToken}},redirectTo:a?.emailRedirectTo});return{data:{user:null,session:null},error:l}}else if("phone"in e){const{phone:i,type:o,options:a}=e,{data:l,error:c}=await Ae(this.fetch,"POST",t,{headers:this.headers,body:{phone:i,type:o,gotrue_meta_security:{captcha_token:a?.captchaToken}}});return{data:{user:null,session:null,messageId:l?.message_id},error:c}}throw new cl("You must provide either an email or phone number and a type")}catch(t){if(_e(t))return{data:{user:null,session:null},error:t};throw t}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async t=>t))}async _acquireLock(e,t){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const i=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),o=(async()=>(await i,await t()))();return this.pendingInLock.push((async()=>{try{await o}catch{}})()),o}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const i=t();for(this.pendingInLock.push((async()=>{try{await i}catch{}})()),await i;this.pendingInLock.length;){const o=[...this.pendingInLock];await Promise.all(o),this.pendingInLock.splice(0,o.length)}return await i}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const t=await this.__loadSession();return await e(t)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const t=await pi(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",t),t!==null&&(this._isValidSession(t)?e=t:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const i=e.expires_at?e.expires_at*1e3-Date.now()<wd:!1;if(this._debug("#__loadSession()",`session has${i?"":" not"} expired`,"expires_at",e.expires_at),!i){if(this.userStorage){const l=await pi(this.userStorage,this.storageKey+"-user");l?.user?e.user=l.user:e.user=bd()}if(this.storage.isServer&&e.user){let l=this.suppressGetSessionWarning;e=new Proxy(e,{get:(d,p,f)=>(!l&&p==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),l=!0,this.suppressGetSessionWarning=!0),Reflect.get(d,p,f))})}return{data:{session:e},error:null}}const{session:o,error:a}=await this._callRefreshToken(e.refresh_token);return a?{data:{session:null},error:a}:{data:{session:o},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await Ae(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Br}):await this._useSession(async t=>{var i,o,a;const{data:l,error:c}=t;if(c)throw c;return!(!((i=l.session)===null||i===void 0)&&i.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Nr}:await Ae(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(o=l.session)===null||o===void 0?void 0:o.access_token)!==null&&a!==void 0?a:void 0,xform:Br})})}catch(t){if(_e(t))return ZP(t)&&(await this._removeSession(),await Lr(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:t};throw t}}async updateUser(e,t={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,t))}async _updateUser(e,t={}){try{return await this._useSession(async i=>{const{data:o,error:a}=i;if(a)throw a;if(!o.session)throw new Nr;const l=o.session;let c=null,d=null;this.flowType==="pkce"&&e.email!=null&&([c,d]=await ps(this.storage,this.storageKey));const{data:p,error:f}=await Ae(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:t?.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:c,code_challenge_method:d}),jwt:l.access_token,xform:Br});if(f)throw f;return l.user=p.user,await this._saveSession(l),await this._notifyAllSubscribers("USER_UPDATED",l),{data:{user:l.user},error:null}})}catch(i){if(_e(i))return{data:{user:null},error:i};throw i}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Nr;const t=Date.now()/1e3;let i=t,o=!0,a=null;const{payload:l}=Sd(e.access_token);if(l.exp&&(i=l.exp,o=i<=t),o){const{session:c,error:d}=await this._callRefreshToken(e.refresh_token);if(d)return{data:{user:null,session:null},error:d};if(!c)return{data:{user:null,session:null},error:null};a=c}else{const{data:c,error:d}=await this._getUser(e.access_token);if(d)throw d;a={access_token:e.access_token,refresh_token:e.refresh_token,user:c.user,token_type:"bearer",expires_in:i-t,expires_at:i},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return{data:{user:a.user,session:a},error:null}}catch(t){if(_e(t))return{data:{session:null,user:null},error:t};throw t}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async t=>{var i;if(!e){const{data:l,error:c}=t;if(c)throw c;e=(i=l.session)!==null&&i!==void 0?i:void 0}if(!e?.refresh_token)throw new Nr;const{session:o,error:a}=await this._callRefreshToken(e.refresh_token);return a?{data:{user:null,session:null},error:a}:o?{data:{user:o.user,session:o},error:null}:{data:{user:null,session:null},error:null}})}catch(t){if(_e(t))return{data:{user:null,session:null},error:t};throw t}}async _getSessionFromURL(e,t){try{if(!mn())throw new dl("No browser detected.");if(e.error||e.error_description||e.error_code)throw new dl(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(t){case"implicit":if(this.flowType==="pkce")throw new Dv("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new dl("Not a valid implicit grant flow url.");break;default:}if(t==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new Dv("No code detected.");const{data:I,error:A}=await this._exchangeCodeForSession(e.code);if(A)throw A;const j=new URL(window.location.href);return j.searchParams.delete("code"),window.history.replaceState(window.history.state,"",j.toString()),{data:{session:I.session,redirectType:null},error:null}}const{provider_token:i,provider_refresh_token:o,access_token:a,refresh_token:l,expires_in:c,expires_at:d,token_type:p}=e;if(!a||!c||!l||!p)throw new dl("No session defined in URL");const f=Math.round(Date.now()/1e3),m=parseInt(c);let g=f+m;d&&(g=parseInt(d));const y=g-f;y*1e3<=ys&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${y}s, should have been closer to ${m}s`);const x=g-m;f-x>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",x,g,f):f-x<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",x,g,f);const{data:S,error:C}=await this._getUser(a);if(C)throw C;const P={provider_token:i,provider_refresh_token:o,access_token:a,expires_in:m,expires_at:g,refresh_token:l,token_type:p,user:S.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:P,redirectType:e.type},error:null}}catch(i){if(_e(i))return{data:{session:null,redirectType:null},error:i};throw i}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const t=await pi(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&t)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async t=>{var i;const{data:o,error:a}=t;if(a)return{error:a};const l=(i=o.session)===null||i===void 0?void 0:i.access_token;if(l){const{error:c}=await this.admin.signOut(l,e);if(c&&!(JP(c)&&(c.status===404||c.status===401||c.status===403)))return{error:c}}return e!=="others"&&(await this._removeSession(),await Lr(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const t=uE(),i={id:t,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",t),this.stateChangeEmitters.delete(t)}};return this._debug("#onAuthStateChange()","registered callback with id",t),this.stateChangeEmitters.set(t,i),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(t)})))(),{data:{subscription:i}}}async _emitInitialSession(e){return await this._useSession(async t=>{var i,o;try{const{data:{session:a},error:l}=t;if(l)throw l;await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",e,"session",a)}catch(a){await((o=this.stateChangeEmitters.get(e))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",a),console.error(a)}})}async resetPasswordForEmail(e,t={}){let i=null,o=null;this.flowType==="pkce"&&([i,o]=await ps(this.storage,this.storageKey,!0));try{return await Ae(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:i,code_challenge_method:o,gotrue_meta_security:{captcha_token:t.captchaToken}},headers:this.headers,redirectTo:t.redirectTo})}catch(a){if(_e(a))return{data:null,error:a};throw a}}async getUserIdentities(){var e;try{const{data:t,error:i}=await this.getUser();if(i)throw i;return{data:{identities:(e=t.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(t){if(_e(t))return{data:null,error:t};throw t}}async linkIdentity(e){var t;try{const{data:i,error:o}=await this._useSession(async a=>{var l,c,d,p,f;const{data:m,error:g}=a;if(g)throw g;const y=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(l=e.options)===null||l===void 0?void 0:l.redirectTo,scopes:(c=e.options)===null||c===void 0?void 0:c.scopes,queryParams:(d=e.options)===null||d===void 0?void 0:d.queryParams,skipBrowserRedirect:!0});return await Ae(this.fetch,"GET",y,{headers:this.headers,jwt:(f=(p=m.session)===null||p===void 0?void 0:p.access_token)!==null&&f!==void 0?f:void 0})});if(o)throw o;return mn()&&!(!((t=e.options)===null||t===void 0)&&t.skipBrowserRedirect)&&window.location.assign(i?.url),{data:{provider:e.provider,url:i?.url},error:null}}catch(i){if(_e(i))return{data:{provider:e.provider,url:null},error:i};throw i}}async unlinkIdentity(e){try{return await this._useSession(async t=>{var i,o;const{data:a,error:l}=t;if(l)throw l;return await Ae(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(o=(i=a.session)===null||i===void 0?void 0:i.access_token)!==null&&o!==void 0?o:void 0})})}catch(t){if(_e(t))return{data:null,error:t};throw t}}async _refreshAccessToken(e){const t=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(t,"begin");try{const i=Date.now();return await fE(async o=>(o>0&&await hE(200*Math.pow(2,o-1)),this._debug(t,"refreshing attempt",o),await Ae(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:$n})),(o,a)=>{const l=200*Math.pow(2,o);return a&&xd(a)&&Date.now()+l-i<ys})}catch(i){if(this._debug(t,"error",i),_e(i))return{data:{session:null,user:null},error:i};throw i}finally{this._debug(t,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,t){const i=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:t.redirectTo,scopes:t.scopes,queryParams:t.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",t,"url",i),mn()&&!t.skipBrowserRedirect&&window.location.assign(i),{data:{provider:e,url:i},error:null}}async _recoverAndRefresh(){var e,t;const i="#_recoverAndRefresh()";this._debug(i,"begin");try{const o=await pi(this.storage,this.storageKey);if(o&&this.userStorage){let l=await pi(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!l&&(l={user:o.user},await ws(this.userStorage,this.storageKey+"-user",l)),o.user=(e=l?.user)!==null&&e!==void 0?e:bd()}else if(o&&!o.user&&!o.user){const l=await pi(this.storage,this.storageKey+"-user");l&&l?.user?(o.user=l.user,await Lr(this.storage,this.storageKey+"-user"),await ws(this.storage,this.storageKey,o)):o.user=bd()}if(this._debug(i,"session from storage",o),!this._isValidSession(o)){this._debug(i,"session is not valid"),o!==null&&await this._removeSession();return}const a=((t=o.expires_at)!==null&&t!==void 0?t:1/0)*1e3-Date.now()<wd;if(this._debug(i,`session has${a?"":" not"} expired with margin of ${wd}s`),a){if(this.autoRefreshToken&&o.refresh_token){const{error:l}=await this._callRefreshToken(o.refresh_token);l&&(console.error(l),xd(l)||(this._debug(i,"refresh failed with a non-retryable error, removing the session",l),await this._removeSession()))}}else if(o.user&&o.user.__isUserNotAvailableProxy===!0)try{const{data:l,error:c}=await this._getUser(o.access_token);!c&&l?.user?(o.user=l.user,await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)):this._debug(i,"could not get user data, skipping SIGNED_IN notification")}catch(l){console.error("Error getting user data:",l),this._debug(i,"error getting user data, skipping SIGNED_IN notification",l)}else await this._notifyAllSubscribers("SIGNED_IN",o)}catch(o){this._debug(i,"error",o),console.error(o);return}finally{this._debug(i,"end")}}async _callRefreshToken(e){var t,i;if(!e)throw new Nr;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const o=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(o,"begin");try{this.refreshingDeferred=new nu;const{data:a,error:l}=await this._refreshAccessToken(e);if(l)throw l;if(!a.session)throw new Nr;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const c={session:a.session,error:null};return this.refreshingDeferred.resolve(c),c}catch(a){if(this._debug(o,"error",a),_e(a)){const l={session:null,error:a};return xd(a)||await this._removeSession(),(t=this.refreshingDeferred)===null||t===void 0||t.resolve(l),l}throw(i=this.refreshingDeferred)===null||i===void 0||i.reject(a),a}finally{this.refreshingDeferred=null,this._debug(o,"end")}}async _notifyAllSubscribers(e,t,i=!0){const o=`#_notifyAllSubscribers(${e})`;this._debug(o,"begin",t,`broadcast = ${i}`);try{this.broadcastChannel&&i&&this.broadcastChannel.postMessage({event:e,session:t});const a=[],l=Array.from(this.stateChangeEmitters.values()).map(async c=>{try{await c.callback(e,t)}catch(d){a.push(d)}});if(await Promise.all(l),a.length>0){for(let c=0;c<a.length;c+=1)console.error(a[c]);throw a[0]}}finally{this._debug(o,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const t=Object.assign({},e),i=t.user&&t.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!i&&t.user&&await ws(this.userStorage,this.storageKey+"-user",{user:t.user});const o=Object.assign({},t);delete o.user;const a=Lv(o);await ws(this.storage,this.storageKey,a)}else{const o=Lv(t);await ws(this.storage,this.storageKey,o)}}async _removeSession(){this._debug("#_removeSession()"),await Lr(this.storage,this.storageKey),await Lr(this.storage,this.storageKey+"-code-verifier"),await Lr(this.storage,this.storageKey+"-user"),this.userStorage&&await Lr(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&mn()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",e)}catch(t){console.error("removing visibilitychange callback failed",t)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),ys);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async t=>{const{data:{session:i}}=t;if(!i||!i.refresh_token||!i.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const o=Math.floor((i.expires_at*1e3-e)/ys);this._debug("#_autoRefreshTokenTick()",`access token expires in ${o} ticks, a tick lasts ${ys}ms, refresh threshold is ${ih} ticks`),o<=ih&&await this._callRefreshToken(i.refresh_token)})}catch(t){console.error("Auto refresh tick failed with error. This is likely a transient error.",t)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof uw)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!mn()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const t=`#_onVisibilityChanged(${e})`;this._debug(t,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(t,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,t,i){const o=[`provider=${encodeURIComponent(t)}`];if(i?.redirectTo&&o.push(`redirect_to=${encodeURIComponent(i.redirectTo)}`),i?.scopes&&o.push(`scopes=${encodeURIComponent(i.scopes)}`),this.flowType==="pkce"){const[a,l]=await ps(this.storage,this.storageKey),c=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(l)}`});o.push(c.toString())}if(i?.queryParams){const a=new URLSearchParams(i.queryParams);o.push(a.toString())}return i?.skipBrowserRedirect&&o.push(`skip_http_redirect=${i.skipBrowserRedirect}`),`${e}?${o.join("&")}`}async _unenroll(e){try{return await this._useSession(async t=>{var i;const{data:o,error:a}=t;return a?{data:null,error:a}:await Ae(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(i=o?.session)===null||i===void 0?void 0:i.access_token})})}catch(t){if(_e(t))return{data:null,error:t};throw t}}async _enroll(e){try{return await this._useSession(async t=>{var i,o;const{data:a,error:l}=t;if(l)return{data:null,error:l};const c=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:d,error:p}=await Ae(this.fetch,"POST",`${this.url}/factors`,{body:c,headers:this.headers,jwt:(i=a?.session)===null||i===void 0?void 0:i.access_token});return p?{data:null,error:p}:(e.factorType==="totp"&&(!((o=d?.totp)===null||o===void 0)&&o.qr_code)&&(d.totp.qr_code=`data:image/svg+xml;utf-8,${d.totp.qr_code}`),{data:d,error:null})})}catch(t){if(_e(t))return{data:null,error:t};throw t}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var i;const{data:o,error:a}=t;if(a)return{data:null,error:a};const{data:l,error:c}=await Ae(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(i=o?.session)===null||i===void 0?void 0:i.access_token});return c?{data:null,error:c}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+l.expires_in},l)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",l),{data:l,error:c})})}catch(t){if(_e(t))return{data:null,error:t};throw t}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var i;const{data:o,error:a}=t;return a?{data:null,error:a}:await Ae(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(i=o?.session)===null||i===void 0?void 0:i.access_token})})}catch(t){if(_e(t))return{data:null,error:t};throw t}})}async _challengeAndVerify(e){const{data:t,error:i}=await this._challenge({factorId:e.factorId});return i?{data:null,error:i}:await this._verify({factorId:e.factorId,challengeId:t.id,code:e.code})}async _listFactors(){const{data:{user:e},error:t}=await this.getUser();if(t)return{data:null,error:t};const i=e?.factors||[],o=i.filter(l=>l.factor_type==="totp"&&l.status==="verified"),a=i.filter(l=>l.factor_type==="phone"&&l.status==="verified");return{data:{all:i,totp:o,phone:a},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var t,i;const{data:{session:o},error:a}=e;if(a)return{data:null,error:a};if(!o)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:l}=Sd(o.access_token);let c=null;l.aal&&(c=l.aal);let d=c;((i=(t=o.user.factors)===null||t===void 0?void 0:t.filter(m=>m.status==="verified"))!==null&&i!==void 0?i:[]).length>0&&(d="aal2");const f=l.amr||[];return{data:{currentLevel:c,nextLevel:d,currentAuthenticationMethods:f},error:null}}))}async fetchJwk(e,t={keys:[]}){let i=t.keys.find(c=>c.kid===e);if(i)return i;const o=Date.now();if(i=this.jwks.keys.find(c=>c.kid===e),i&&this.jwks_cached_at+YP>o)return i;const{data:a,error:l}=await Ae(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(l)throw l;return!a.keys||a.keys.length===0||(this.jwks=a,this.jwks_cached_at=o,i=a.keys.find(c=>c.kid===e),!i)?null:i}async getClaims(e,t={}){try{let i=e;if(!i){const{data:y,error:x}=await this.getSession();if(x||!y.session)return{data:null,error:x};i=y.session.access_token}const{header:o,payload:a,signature:l,raw:{header:c,payload:d}}=Sd(i);t?.allowExpired||xE(a.exp);const p=!o.alg||o.alg.startsWith("HS")||!o.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(o.kid,t?.keys?{keys:t.keys}:t?.jwks);if(!p){const{error:y}=await this.getUser(i);if(y)throw y;return{data:{claims:a,header:o,signature:l},error:null}}const f=SE(o.alg),m=await crypto.subtle.importKey("jwk",p,f,!0,["verify"]);if(!await crypto.subtle.verify(f,m,l,oE(`${c}.${d}`)))throw new ah("Invalid JWT signature");return{data:{claims:a,header:o,signature:l},error:null}}catch(i){if(_e(i))return{data:null,error:i};throw i}}}Uo.nextInstanceID=0;const BE=Uo;class $E extends BE{constructor(e){super(e)}}var zE=function(n,e,t,i){function o(a){return a instanceof t?a:new t(function(l){l(a)})}return new(t||(t=Promise))(function(a,l){function c(f){try{p(i.next(f))}catch(m){l(m)}}function d(f){try{p(i.throw(f))}catch(m){l(m)}}function p(f){f.done?a(f.value):o(f.value).then(c,d)}p((i=i.apply(n,e||[])).next())})};class VE{constructor(e,t,i){var o,a,l;this.supabaseUrl=e,this.supabaseKey=t;const c=WP(e);if(!t)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",c),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",c),this.storageUrl=new URL("storage/v1",c),this.functionsUrl=new URL("functions/v1",c);const d=`sb-${c.hostname.split(".")[0]}-auth-token`,p={db:LP,realtime:FP,auth:Object.assign(Object.assign({},MP),{storageKey:d}),global:RP},f=HP(i??{},p);this.storageKey=(o=f.auth.storageKey)!==null&&o!==void 0?o:"",this.headers=(a=f.global.headers)!==null&&a!==void 0?a:{},f.accessToken?(this.accessToken=f.accessToken,this.auth=new Proxy({},{get:(m,g)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(g)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((l=f.auth)!==null&&l!==void 0?l:{},this.headers,f.global.fetch),this.fetch=$P(t,this._getAccessToken.bind(this),f.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},f.realtime)),this.rest=new Q_(new URL("rest/v1",c).href,{headers:this.headers,schema:f.db.schema,fetch:this.fetch}),this.storage=new jP(this.storageUrl.href,this.headers,this.fetch,i?.storage),f.accessToken||this._listenForAuthEvents()}get functions(){return new $_(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},i={}){return this.rest.rpc(e,t,i)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,t;return zE(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:i}=yield this.auth.getSession();return(t=(e=i.session)===null||e===void 0?void 0:e.access_token)!==null&&t!==void 0?t:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:i,storage:o,userStorage:a,storageKey:l,flowType:c,lock:d,debug:p},f,m){const g={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new $E({url:this.authUrl.href,headers:Object.assign(Object.assign({},g),f),storageKey:l,autoRefreshToken:e,persistSession:t,detectSessionInUrl:i,storage:o,userStorage:a,flowType:c,lock:d,debug:p,fetch:m,hasCustomAuthorizationHeader:Object.keys(this.headers).some(y=>y.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new pP(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((t,i)=>{this._handleTokenChanged(t,"CLIENT",i?.access_token)})}_handleTokenChanged(e,t,i){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==i?(this.changedAccessToken=i,this.realtime.setAuth(i)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const HE=(n,e,t)=>new VE(n,e,t);function WE(){if(typeof window<"u"||typeof process>"u")return!1;const n=process.version;if(n==null)return!1;const e=n.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}WE()&&console.warn("⚠️  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const GE="https://bwfoldscnyohunudzaxq.supabase.co",KE="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImJ3Zm9sZHNjbnlvaHVudWR6YXhxIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTk1OTg5MjcsImV4cCI6MjA3NTE3NDkyN30.V5I5pA_keRsMWgotu_Yg6GBKhde9IUY2k4zXegcwOAA",jn=HE(GE,KE),Bv=async(n,e="photos")=>{const t=n.name.split(".").pop(),o=`${`${Math.random()}.${t}`}`,{error:a}=await jn.storage.from(e).upload(o,n);if(a)throw a;const{data:l}=jn.storage.from(e).getPublicUrl(o);return l.publicUrl};function qE({photoId:n,translations:e}){const[t,i]=J.useState([]),[o,a]=J.useState(""),[l,c]=J.useState(""),[d,p]=J.useState(!0);J.useEffect(()=>{f()},[n]);const f=async()=>{try{const{data:g,error:y}=await jn.from("comments").select("*").eq("photo_id",n).order("created_at",{ascending:!1});if(y)throw y;i(g||[])}catch(g){console.error("Error fetching comments:",g)}finally{p(!1)}},m=async g=>{if(g.preventDefault(),!(!o.trim()||!l.trim()))try{const{data:y,error:x}=await jn.from("comments").insert([{photo_id:n,user_name:l.trim(),content:o.trim()}]).select().single();if(x)throw x;i([y,...t]),a("")}catch(y){console.error("Error adding comment:",y),alert("Failed to add comment. Please try again.")}};return d?O.jsx("div",{className:"comments-loading",children:"Loading comments..."}):O.jsxs("div",{className:"comments-section",children:[O.jsxs("h3",{className:"comments-title",children:[e.comments," (",t.length,")"]}),O.jsxs("form",{className:"comment-form",onSubmit:m,children:[O.jsx("input",{type:"text",placeholder:"Your name",value:l,onChange:g=>c(g.target.value),required:!0,className:"comment-input"}),O.jsx("textarea",{placeholder:e.addComment,value:o,onChange:g=>a(g.target.value),required:!0,className:"comment-textarea",rows:3}),O.jsx("button",{type:"submit",className:"btn-primary",children:"Post Comment"})]}),O.jsx("div",{className:"comments-list",children:t.length===0?O.jsx("p",{className:"no-comments",children:e.noComments}):t.map(g=>O.jsxs("div",{className:"comment",children:[O.jsxs("div",{className:"comment-header",children:[O.jsx("span",{className:"comment-author",children:g.user_name}),O.jsx("span",{className:"comment-date",children:new Date(g.created_at).toLocaleDateString()})]}),O.jsx("p",{className:"comment-content",children:g.content})]},g.id))})]})}function XE({photo:n,photos:e,isOpen:t,onClose:i,onNext:o,onPrev:a,translations:l,onLike:c}){const[d,p]=J.useState(1);if(J.useEffect(()=>{const y=x=>{t&&(x.key==="Escape"&&i(),x.key==="ArrowRight"&&o(),x.key==="ArrowLeft"&&a(),(x.key==="+"||x.key==="=")&&p(S=>Math.min(3,S+.25)),(x.key==="-"||x.key==="_")&&p(S=>Math.max(.5,S-.25)),x.key==="0"&&p(1))};return window.addEventListener("keydown",y),()=>window.removeEventListener("keydown",y)},[t,i,o,a]),J.useEffect(()=>(t?document.body.style.overflow="hidden":document.body.style.overflow="",()=>{document.body.style.overflow=""}),[t]),J.useEffect(()=>{p(1)},[n?.id]),!n)return null;const f=localStorage.getItem(`liked_${n.id}`)==="true",m=()=>{const y=document.createElement("a");y.href=n.image,y.download=`${n.title}.jpg`,y.click()},g=async()=>{if(navigator.share)try{await navigator.share({title:n.title,text:n.description,url:window.location.href})}catch{console.log("Share cancelled")}else navigator.clipboard.writeText(window.location.href),alert("Link copied to clipboard!")};return O.jsx(C_,{children:t&&O.jsx(yl.div,{className:"lightbox-overlay",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},onClick:i,children:O.jsxs(yl.div,{className:"lightbox-content",initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},transition:{duration:.2},onClick:y=>y.stopPropagation(),children:[O.jsx("button",{className:"lightbox-close",onClick:i,title:"Close (Esc)",children:"×"}),e.length>1&&O.jsxs(O.Fragment,{children:[O.jsx("button",{className:"lightbox-nav lightbox-prev",onClick:a,title:"Previous (←)",children:"‹"}),O.jsx("button",{className:"lightbox-nav lightbox-next",onClick:o,title:"Next (→)",children:"›"})]}),O.jsx("div",{className:"lightbox-image-container",children:O.jsx(yl.img,{src:n.image,alt:n.title,className:"lightbox-image",style:{transform:`scale(${d})`},initial:{opacity:0},animate:{opacity:1},transition:{duration:.3}},n.id)}),O.jsxs("div",{className:"lightbox-info",children:[O.jsxs("div",{className:"lightbox-header",children:[O.jsxs("div",{children:[O.jsx("h2",{children:n.title}),O.jsx("p",{className:"lightbox-date",children:n.date})]}),O.jsxs("div",{className:"lightbox-actions",children:[O.jsxs("button",{className:`lightbox-action-btn ${f?"liked":""}`,onClick:()=>c(n.id),title:l.likes,children:["❤ ",n.likes]}),O.jsxs("button",{className:"lightbox-action-btn",title:l.views,children:["👁 ",n.views]}),O.jsx("button",{className:"lightbox-action-btn",onClick:g,title:l.sharePhoto,children:"🔗"}),O.jsx("button",{className:"lightbox-action-btn",onClick:m,title:l.downloadImage,children:"⬇"})]})]}),n.description&&O.jsx("p",{className:"lightbox-description",children:n.description}),n.exif&&O.jsxs("div",{className:"lightbox-exif",children:[O.jsx("h3",{children:"Camera Settings"}),O.jsxs("div",{className:"exif-grid",children:[n.exif.camera&&O.jsxs("div",{children:[O.jsx("strong",{children:"Camera:"})," ",n.exif.camera]}),n.exif.lens&&O.jsxs("div",{children:[O.jsx("strong",{children:"Lens:"})," ",n.exif.lens]}),n.exif.focalLength&&O.jsxs("div",{children:[O.jsx("strong",{children:"Focal Length:"})," ",n.exif.focalLength]}),n.exif.aperture&&O.jsxs("div",{children:[O.jsx("strong",{children:"Aperture:"})," ",n.exif.aperture]}),n.exif.shutterSpeed&&O.jsxs("div",{children:[O.jsx("strong",{children:"Shutter:"})," ",n.exif.shutterSpeed]}),n.exif.iso&&O.jsxs("div",{children:[O.jsx("strong",{children:"ISO:"})," ",n.exif.iso]})]})]}),n.colors&&n.colors.length>0&&O.jsxs("div",{className:"lightbox-colors",children:[O.jsx("h3",{children:"Color Palette"}),O.jsx("div",{className:"color-palette",children:n.colors.map((y,x)=>O.jsx("div",{className:"color-swatch",style:{background:y},title:y},x))})]}),n.tags&&n.tags.length>0&&O.jsx("div",{className:"lightbox-tags",children:n.tags.map((y,x)=>O.jsx("span",{className:"tag",children:y},x))}),n.category&&O.jsxs("div",{className:"lightbox-category",children:[O.jsx("strong",{children:"Category:"})," ",n.category]}),O.jsx(qE,{photoId:n.id,translations:l})]}),O.jsxs("div",{className:"lightbox-zoom-controls",children:[O.jsx("button",{onClick:()=>p(Math.max(.5,d-.25)),title:"Zoom out (-)",children:"−"}),O.jsxs("span",{children:[Math.round(d*100),"%"]}),O.jsx("button",{onClick:()=>p(Math.min(3,d+.25)),title:"Zoom in (+)",children:"+"}),O.jsx("button",{onClick:()=>p(1),title:"Reset zoom (0)",children:"⟲"})]})]})})})}function YE({translations:n}){const[e,t]=J.useState({totalViews:0,totalLikes:0,popularPhotos:[],viewsByDate:[]}),[i,o]=J.useState(!0);J.useEffect(()=>{a()},[]);const a=async()=>{try{const{data:l,error:c}=await jn.from("photos").select("*").eq("is_draft",!1);if(c)throw c;const d=l?.reduce((m,g)=>m+g.views,0)||0,p=l?.reduce((m,g)=>m+g.likes,0)||0,f=l?.sort((m,g)=>g.views-m.views).slice(0,5)||[];t({totalViews:d,totalLikes:p,popularPhotos:f,viewsByDate:[]})}catch(l){console.error("Error fetching analytics:",l)}finally{o(!1)}};return i?O.jsx("div",{className:"analytics-loading",children:"Loading analytics..."}):O.jsxs("div",{className:"analytics-dashboard",children:[O.jsx("h2",{className:"analytics-title",children:n.analytics}),O.jsxs("div",{className:"analytics-stats",children:[O.jsxs("div",{className:"stat-card",children:[O.jsx("div",{className:"stat-icon",children:"👁"}),O.jsx("div",{className:"stat-value",children:e.totalViews.toLocaleString()}),O.jsxs("div",{className:"stat-label",children:["Total ",n.views]})]}),O.jsxs("div",{className:"stat-card",children:[O.jsx("div",{className:"stat-icon",children:"❤"}),O.jsx("div",{className:"stat-value",children:e.totalLikes.toLocaleString()}),O.jsxs("div",{className:"stat-label",children:["Total ",n.likes]})]}),O.jsxs("div",{className:"stat-card",children:[O.jsx("div",{className:"stat-icon",children:"📸"}),O.jsx("div",{className:"stat-value",children:e.popularPhotos.length}),O.jsx("div",{className:"stat-label",children:"Top Photos"})]})]}),O.jsxs("div",{className:"popular-photos",children:[O.jsx("h3",{children:"Most Popular Photos"}),O.jsx("div",{className:"popular-list",children:e.popularPhotos.map((l,c)=>O.jsxs("div",{className:"popular-item",children:[O.jsxs("span",{className:"popular-rank",children:["#",c+1]}),O.jsx("img",{src:l.thumbnail||l.image,alt:l.title}),O.jsxs("div",{className:"popular-info",children:[O.jsx("div",{className:"popular-title",children:l.title}),O.jsxs("div",{className:"popular-stats",children:[O.jsxs("span",{children:["👁 ",l.views]}),O.jsxs("span",{children:["❤ ",l.likes]})]})]})]},l.id))})]}),O.jsxs("div",{className:"export-section",children:[O.jsx("h3",{children:"Export Data"}),O.jsx("p",{children:"Download all your photos and data for backup"}),O.jsx("button",{className:"btn-primary",onClick:()=>alert("Export feature - would download JSON of all data"),children:n.exportData})]})]})}const QE=n=>{const[e,t]=J.useState([]),[i,o]=J.useState(!0),[a,l]=J.useState(null);J.useEffect(()=>{c()},[n?.category,n?.sortBy,JSON.stringify(n?.tags)]);const c=async()=>{try{o(!0),l(null);let y=jn.from("photos").select("*").eq("is_draft",!1);n?.category&&(y=y.eq("category",n.category)),n?.tags&&n.tags.length>0&&(y=y.contains("tags",n.tags)),n?.sortBy==="likes"?y=y.order("likes",{ascending:!1}):n?.sortBy==="views"?y=y.order("views",{ascending:!1}):n?.sortBy==="date"&&(y=y.order("created_at",{ascending:!1}));const{data:x,error:S}=await y;if(S)throw console.error("Supabase error:",S),S;t(x||[])}catch(y){const x=y instanceof Error?y.message:"An error occurred";console.error("Error fetching photos:",y),l(x),t([])}finally{o(!1)}};return{photos:e,loading:i,error:a,addPhoto:async y=>{try{const{data:x,error:S}=await jn.from("photos").insert([{...y,likes:0,views:0}]).select().single();if(S)throw S;return t([x,...e]),x}catch(x){throw console.error("Error adding photo:",x),x}},updatePhoto:async(y,x)=>{try{const{data:S,error:C}=await jn.from("photos").update(x).eq("id",y).select().single();if(C)throw C;return t(e.map(P=>P.id===y?S:P)),S}catch(S){throw console.error("Error updating photo:",S),S}},deletePhoto:async y=>{try{const{error:x}=await jn.from("photos").delete().eq("id",y);if(x)throw x;t(e.filter(S=>S.id!==y))}catch(x){throw console.error("Error deleting photo:",x),x}},incrementViews:async y=>{try{const x=e.find(S=>S.id===y);if(!x)return;await jn.from("photos").update({views:x.views+1}).eq("id",y),t(e.map(S=>S.id===y?{...S,views:S.views+1}:S))}catch(x){console.error("Error incrementing views:",x)}},toggleLike:async y=>{try{const x=e.find(P=>P.id===y);if(!x)return;const S=localStorage.getItem(`liked_${y}`)==="true",C=S?x.likes-1:x.likes+1;await jn.from("photos").update({likes:C}).eq("id",y),localStorage.setItem(`liked_${y}`,(!S).toString()),t(e.map(P=>P.id===y?{...P,likes:C}:P))}catch(x){console.error("Error toggling like:",x)}},refetch:c}};function dr(n){return Array.isArray?Array.isArray(n):fw(n)==="[object Array]"}function JE(n){if(typeof n=="string")return n;let e=n+"";return e=="0"&&1/n==-1/0?"-0":e}function ZE(n){return n==null?"":JE(n)}function Hn(n){return typeof n=="string"}function dw(n){return typeof n=="number"}function eA(n){return n===!0||n===!1||tA(n)&&fw(n)=="[object Boolean]"}function hw(n){return typeof n=="object"}function tA(n){return hw(n)&&n!==null}function on(n){return n!=null}function Cd(n){return!n.trim().length}function fw(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}const nA="Incorrect 'index' type",rA=n=>`Invalid value for key ${n}`,iA=n=>`Pattern length exceeds max of ${n}.`,sA=n=>`Missing ${n} property in key`,oA=n=>`Property 'weight' in key '${n}' must be a positive integer`,$v=Object.prototype.hasOwnProperty;class aA{constructor(e){this._keys=[],this._keyMap={};let t=0;e.forEach(i=>{let o=pw(i);this._keys.push(o),this._keyMap[o.id]=o,t+=o.weight}),this._keys.forEach(i=>{i.weight/=t})}get(e){return this._keyMap[e]}keys(){return this._keys}toJSON(){return JSON.stringify(this._keys)}}function pw(n){let e=null,t=null,i=null,o=1,a=null;if(Hn(n)||dr(n))i=n,e=zv(n),t=lh(n);else{if(!$v.call(n,"name"))throw new Error(sA("name"));const l=n.name;if(i=l,$v.call(n,"weight")&&(o=n.weight,o<=0))throw new Error(oA(l));e=zv(l),t=lh(l),a=n.getFn}return{path:e,id:t,weight:o,src:i,getFn:a}}function zv(n){return dr(n)?n:n.split(".")}function lh(n){return dr(n)?n.join("."):n}function lA(n,e){let t=[],i=!1;const o=(a,l,c)=>{if(on(a))if(!l[c])t.push(a);else{let d=l[c];const p=a[d];if(!on(p))return;if(c===l.length-1&&(Hn(p)||dw(p)||eA(p)))t.push(ZE(p));else if(dr(p)){i=!0;for(let f=0,m=p.length;f<m;f+=1)o(p[f],l,c+1)}else l.length&&o(p,l,c+1)}};return o(n,Hn(e)?e.split("."):e,0),i?t:t[0]}const uA={includeMatches:!1,findAllMatches:!1,minMatchCharLength:1},cA={isCaseSensitive:!1,ignoreDiacritics:!1,includeScore:!1,keys:[],shouldSort:!0,sortFn:(n,e)=>n.score===e.score?n.idx<e.idx?-1:1:n.score<e.score?-1:1},dA={location:0,threshold:.6,distance:100},hA={useExtendedSearch:!1,getFn:lA,ignoreLocation:!1,ignoreFieldNorm:!1,fieldNormWeight:1};var be={...cA,...uA,...dA,...hA};const fA=/[^ ]+/g;function pA(n=1,e=3){const t=new Map,i=Math.pow(10,e);return{get(o){const a=o.match(fA).length;if(t.has(a))return t.get(a);const l=1/Math.pow(a,.5*n),c=parseFloat(Math.round(l*i)/i);return t.set(a,c),c},clear(){t.clear()}}}class qh{constructor({getFn:e=be.getFn,fieldNormWeight:t=be.fieldNormWeight}={}){this.norm=pA(t,3),this.getFn=e,this.isCreated=!1,this.setIndexRecords()}setSources(e=[]){this.docs=e}setIndexRecords(e=[]){this.records=e}setKeys(e=[]){this.keys=e,this._keysMap={},e.forEach((t,i)=>{this._keysMap[t.id]=i})}create(){this.isCreated||!this.docs.length||(this.isCreated=!0,Hn(this.docs[0])?this.docs.forEach((e,t)=>{this._addString(e,t)}):this.docs.forEach((e,t)=>{this._addObject(e,t)}),this.norm.clear())}add(e){const t=this.size();Hn(e)?this._addString(e,t):this._addObject(e,t)}removeAt(e){this.records.splice(e,1);for(let t=e,i=this.size();t<i;t+=1)this.records[t].i-=1}getValueForItemAtKeyId(e,t){return e[this._keysMap[t]]}size(){return this.records.length}_addString(e,t){if(!on(e)||Cd(e))return;let i={v:e,i:t,n:this.norm.get(e)};this.records.push(i)}_addObject(e,t){let i={i:t,$:{}};this.keys.forEach((o,a)=>{let l=o.getFn?o.getFn(e):this.getFn(e,o.path);if(on(l)){if(dr(l)){let c=[];const d=[{nestedArrIndex:-1,value:l}];for(;d.length;){const{nestedArrIndex:p,value:f}=d.pop();if(on(f))if(Hn(f)&&!Cd(f)){let m={v:f,i:p,n:this.norm.get(f)};c.push(m)}else dr(f)&&f.forEach((m,g)=>{d.push({nestedArrIndex:g,value:m})})}i.$[a]=c}else if(Hn(l)&&!Cd(l)){let c={v:l,n:this.norm.get(l)};i.$[a]=c}}}),this.records.push(i)}toJSON(){return{keys:this.keys,records:this.records}}}function mw(n,e,{getFn:t=be.getFn,fieldNormWeight:i=be.fieldNormWeight}={}){const o=new qh({getFn:t,fieldNormWeight:i});return o.setKeys(n.map(pw)),o.setSources(e),o.create(),o}function mA(n,{getFn:e=be.getFn,fieldNormWeight:t=be.fieldNormWeight}={}){const{keys:i,records:o}=n,a=new qh({getFn:e,fieldNormWeight:t});return a.setKeys(i),a.setIndexRecords(o),a}function hl(n,{errors:e=0,currentLocation:t=0,expectedLocation:i=0,distance:o=be.distance,ignoreLocation:a=be.ignoreLocation}={}){const l=e/n.length;if(a)return l;const c=Math.abs(i-t);return o?l+c/o:c?1:l}function gA(n=[],e=be.minMatchCharLength){let t=[],i=-1,o=-1,a=0;for(let l=n.length;a<l;a+=1){let c=n[a];c&&i===-1?i=a:!c&&i!==-1&&(o=a-1,o-i+1>=e&&t.push([i,o]),i=-1)}return n[a-1]&&a-i>=e&&t.push([i,a-1]),t}const Si=32;function vA(n,e,t,{location:i=be.location,distance:o=be.distance,threshold:a=be.threshold,findAllMatches:l=be.findAllMatches,minMatchCharLength:c=be.minMatchCharLength,includeMatches:d=be.includeMatches,ignoreLocation:p=be.ignoreLocation}={}){if(e.length>Si)throw new Error(iA(Si));const f=e.length,m=n.length,g=Math.max(0,Math.min(i,m));let y=a,x=g;const S=c>1||d,C=S?Array(m):[];let P;for(;(P=n.indexOf(e,x))>-1;){let V=hl(e,{currentLocation:P,expectedLocation:g,distance:o,ignoreLocation:p});if(y=Math.min(V,y),x=P+f,S){let k=0;for(;k<f;)C[P+k]=1,k+=1}}x=-1;let I=[],A=1,j=f+m;const H=1<<f-1;for(let V=0;V<f;V+=1){let k=0,_=j;for(;k<_;)hl(e,{errors:V,currentLocation:g+_,expectedLocation:g,distance:o,ignoreLocation:p})<=y?k=_:j=_,_=Math.floor((j-k)/2+k);j=_;let F=Math.max(1,g-_+1),z=l?m:Math.min(g+_,m)+f,B=Array(z+2);B[z+1]=(1<<V)-1;for(let L=z;L>=F;L-=1){let q=L-1,D=t[n.charAt(q)];if(S&&(C[q]=+!!D),B[L]=(B[L+1]<<1|1)&D,V&&(B[L]|=(I[L+1]|I[L])<<1|1|I[L+1]),B[L]&H&&(A=hl(e,{errors:V,currentLocation:q,expectedLocation:g,distance:o,ignoreLocation:p}),A<=y)){if(y=A,x=q,x<=g)break;F=Math.max(1,2*g-x)}}if(hl(e,{errors:V+1,currentLocation:g,expectedLocation:g,distance:o,ignoreLocation:p})>y)break;I=B}const T={isMatch:x>=0,score:Math.max(.001,A)};if(S){const V=gA(C,c);V.length?d&&(T.indices=V):T.isMatch=!1}return T}function yA(n){let e={};for(let t=0,i=n.length;t<i;t+=1){const o=n.charAt(t);e[o]=(e[o]||0)|1<<i-t-1}return e}const Ml=String.prototype.normalize?(n=>n.normalize("NFD").replace(/[\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u08D3-\u08E1\u08E3-\u0903\u093A-\u093C\u093E-\u094F\u0951-\u0957\u0962\u0963\u0981-\u0983\u09BC\u09BE-\u09C4\u09C7\u09C8\u09CB-\u09CD\u09D7\u09E2\u09E3\u09FE\u0A01-\u0A03\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81-\u0A83\u0ABC\u0ABE-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AE2\u0AE3\u0AFA-\u0AFF\u0B01-\u0B03\u0B3C\u0B3E-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B62\u0B63\u0B82\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD7\u0C00-\u0C04\u0C3E-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81-\u0C83\u0CBC\u0CBE-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0D00-\u0D03\u0D3B\u0D3C\u0D3E-\u0D44\u0D46-\u0D48\u0D4A-\u0D4D\u0D57\u0D62\u0D63\u0D82\u0D83\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DF2\u0DF3\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EB9\u0EBB\u0EBC\u0EC8-\u0ECD\u0F18\u0F19\u0F35\u0F37\u0F39\u0F3E\u0F3F\u0F71-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102B-\u103E\u1056-\u1059\u105E-\u1060\u1062-\u1064\u1067-\u106D\u1071-\u1074\u1082-\u108D\u108F\u109A-\u109D\u135D-\u135F\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4-\u17D3\u17DD\u180B-\u180D\u1885\u1886\u18A9\u1920-\u192B\u1930-\u193B\u1A17-\u1A1B\u1A55-\u1A5E\u1A60-\u1A7C\u1A7F\u1AB0-\u1ABE\u1B00-\u1B04\u1B34-\u1B44\u1B6B-\u1B73\u1B80-\u1B82\u1BA1-\u1BAD\u1BE6-\u1BF3\u1C24-\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE8\u1CED\u1CF2-\u1CF4\u1CF7-\u1CF9\u1DC0-\u1DF9\u1DFB-\u1DFF\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA823-\uA827\uA880\uA881\uA8B4-\uA8C5\uA8E0-\uA8F1\uA8FF\uA926-\uA92D\uA947-\uA953\uA980-\uA983\uA9B3-\uA9C0\uA9E5\uAA29-\uAA36\uAA43\uAA4C\uAA4D\uAA7B-\uAA7D\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEB-\uAAEF\uAAF5\uAAF6\uABE3-\uABEA\uABEC\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F]/g,"")):(n=>n);class gw{constructor(e,{location:t=be.location,threshold:i=be.threshold,distance:o=be.distance,includeMatches:a=be.includeMatches,findAllMatches:l=be.findAllMatches,minMatchCharLength:c=be.minMatchCharLength,isCaseSensitive:d=be.isCaseSensitive,ignoreDiacritics:p=be.ignoreDiacritics,ignoreLocation:f=be.ignoreLocation}={}){if(this.options={location:t,threshold:i,distance:o,includeMatches:a,findAllMatches:l,minMatchCharLength:c,isCaseSensitive:d,ignoreDiacritics:p,ignoreLocation:f},e=d?e:e.toLowerCase(),e=p?Ml(e):e,this.pattern=e,this.chunks=[],!this.pattern.length)return;const m=(y,x)=>{this.chunks.push({pattern:y,alphabet:yA(y),startIndex:x})},g=this.pattern.length;if(g>Si){let y=0;const x=g%Si,S=g-x;for(;y<S;)m(this.pattern.substr(y,Si),y),y+=Si;if(x){const C=g-Si;m(this.pattern.substr(C),C)}}else m(this.pattern,0)}searchIn(e){const{isCaseSensitive:t,ignoreDiacritics:i,includeMatches:o}=this.options;if(e=t?e:e.toLowerCase(),e=i?Ml(e):e,this.pattern===e){let S={isMatch:!0,score:0};return o&&(S.indices=[[0,e.length-1]]),S}const{location:a,distance:l,threshold:c,findAllMatches:d,minMatchCharLength:p,ignoreLocation:f}=this.options;let m=[],g=0,y=!1;this.chunks.forEach(({pattern:S,alphabet:C,startIndex:P})=>{const{isMatch:I,score:A,indices:j}=vA(e,S,C,{location:a+P,distance:l,threshold:c,findAllMatches:d,minMatchCharLength:p,includeMatches:o,ignoreLocation:f});I&&(y=!0),g+=A,I&&j&&(m=[...m,...j])});let x={isMatch:y,score:y?g/this.chunks.length:1};return y&&o&&(x.indices=m),x}}class Qr{constructor(e){this.pattern=e}static isMultiMatch(e){return Vv(e,this.multiRegex)}static isSingleMatch(e){return Vv(e,this.singleRegex)}search(){}}function Vv(n,e){const t=n.match(e);return t?t[1]:null}class wA extends Qr{constructor(e){super(e)}static get type(){return"exact"}static get multiRegex(){return/^="(.*)"$/}static get singleRegex(){return/^=(.*)$/}search(e){const t=e===this.pattern;return{isMatch:t,score:t?0:1,indices:[0,this.pattern.length-1]}}}class xA extends Qr{constructor(e){super(e)}static get type(){return"inverse-exact"}static get multiRegex(){return/^!"(.*)"$/}static get singleRegex(){return/^!(.*)$/}search(e){const i=e.indexOf(this.pattern)===-1;return{isMatch:i,score:i?0:1,indices:[0,e.length-1]}}}class SA extends Qr{constructor(e){super(e)}static get type(){return"prefix-exact"}static get multiRegex(){return/^\^"(.*)"$/}static get singleRegex(){return/^\^(.*)$/}search(e){const t=e.startsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[0,this.pattern.length-1]}}}class bA extends Qr{constructor(e){super(e)}static get type(){return"inverse-prefix-exact"}static get multiRegex(){return/^!\^"(.*)"$/}static get singleRegex(){return/^!\^(.*)$/}search(e){const t=!e.startsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[0,e.length-1]}}}class kA extends Qr{constructor(e){super(e)}static get type(){return"suffix-exact"}static get multiRegex(){return/^"(.*)"\$$/}static get singleRegex(){return/^(.*)\$$/}search(e){const t=e.endsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[e.length-this.pattern.length,e.length-1]}}}class CA extends Qr{constructor(e){super(e)}static get type(){return"inverse-suffix-exact"}static get multiRegex(){return/^!"(.*)"\$$/}static get singleRegex(){return/^!(.*)\$$/}search(e){const t=!e.endsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[0,e.length-1]}}}class vw extends Qr{constructor(e,{location:t=be.location,threshold:i=be.threshold,distance:o=be.distance,includeMatches:a=be.includeMatches,findAllMatches:l=be.findAllMatches,minMatchCharLength:c=be.minMatchCharLength,isCaseSensitive:d=be.isCaseSensitive,ignoreDiacritics:p=be.ignoreDiacritics,ignoreLocation:f=be.ignoreLocation}={}){super(e),this._bitapSearch=new gw(e,{location:t,threshold:i,distance:o,includeMatches:a,findAllMatches:l,minMatchCharLength:c,isCaseSensitive:d,ignoreDiacritics:p,ignoreLocation:f})}static get type(){return"fuzzy"}static get multiRegex(){return/^"(.*)"$/}static get singleRegex(){return/^(.*)$/}search(e){return this._bitapSearch.searchIn(e)}}class yw extends Qr{constructor(e){super(e)}static get type(){return"include"}static get multiRegex(){return/^'"(.*)"$/}static get singleRegex(){return/^'(.*)$/}search(e){let t=0,i;const o=[],a=this.pattern.length;for(;(i=e.indexOf(this.pattern,t))>-1;)t=i+a,o.push([i,t-1]);const l=!!o.length;return{isMatch:l,score:l?0:1,indices:o}}}const uh=[wA,yw,SA,bA,CA,kA,xA,vw],Hv=uh.length,_A=/ +(?=(?:[^\"]*\"[^\"]*\")*[^\"]*$)/,PA="|";function EA(n,e={}){return n.split(PA).map(t=>{let i=t.trim().split(_A).filter(a=>a&&!!a.trim()),o=[];for(let a=0,l=i.length;a<l;a+=1){const c=i[a];let d=!1,p=-1;for(;!d&&++p<Hv;){const f=uh[p];let m=f.isMultiMatch(c);m&&(o.push(new f(m,e)),d=!0)}if(!d)for(p=-1;++p<Hv;){const f=uh[p];let m=f.isSingleMatch(c);if(m){o.push(new f(m,e));break}}}return o})}const AA=new Set([vw.type,yw.type]);class TA{constructor(e,{isCaseSensitive:t=be.isCaseSensitive,ignoreDiacritics:i=be.ignoreDiacritics,includeMatches:o=be.includeMatches,minMatchCharLength:a=be.minMatchCharLength,ignoreLocation:l=be.ignoreLocation,findAllMatches:c=be.findAllMatches,location:d=be.location,threshold:p=be.threshold,distance:f=be.distance}={}){this.query=null,this.options={isCaseSensitive:t,ignoreDiacritics:i,includeMatches:o,minMatchCharLength:a,findAllMatches:c,ignoreLocation:l,location:d,threshold:p,distance:f},e=t?e:e.toLowerCase(),e=i?Ml(e):e,this.pattern=e,this.query=EA(this.pattern,this.options)}static condition(e,t){return t.useExtendedSearch}searchIn(e){const t=this.query;if(!t)return{isMatch:!1,score:1};const{includeMatches:i,isCaseSensitive:o,ignoreDiacritics:a}=this.options;e=o?e:e.toLowerCase(),e=a?Ml(e):e;let l=0,c=[],d=0;for(let p=0,f=t.length;p<f;p+=1){const m=t[p];c.length=0,l=0;for(let g=0,y=m.length;g<y;g+=1){const x=m[g],{isMatch:S,indices:C,score:P}=x.search(e);if(S){if(l+=1,d+=P,i){const I=x.constructor.type;AA.has(I)?c=[...c,...C]:c.push(C)}}else{d=0,l=0,c.length=0;break}}if(l){let g={isMatch:!0,score:d/l};return i&&(g.indices=c),g}}return{isMatch:!1,score:1}}}const ch=[];function DA(...n){ch.push(...n)}function dh(n,e){for(let t=0,i=ch.length;t<i;t+=1){let o=ch[t];if(o.condition(n,e))return new o(n,e)}return new gw(n,e)}const Fl={AND:"$and",OR:"$or"},hh={PATH:"$path",PATTERN:"$val"},fh=n=>!!(n[Fl.AND]||n[Fl.OR]),jA=n=>!!n[hh.PATH],IA=n=>!dr(n)&&hw(n)&&!fh(n),Wv=n=>({[Fl.AND]:Object.keys(n).map(e=>({[e]:n[e]}))});function ww(n,e,{auto:t=!0}={}){const i=o=>{let a=Object.keys(o);const l=jA(o);if(!l&&a.length>1&&!fh(o))return i(Wv(o));if(IA(o)){const d=l?o[hh.PATH]:a[0],p=l?o[hh.PATTERN]:o[d];if(!Hn(p))throw new Error(rA(d));const f={keyId:lh(d),pattern:p};return t&&(f.searcher=dh(p,e)),f}let c={children:[],operator:a[0]};return a.forEach(d=>{const p=o[d];dr(p)&&p.forEach(f=>{c.children.push(i(f))})}),c};return fh(n)||(n=Wv(n)),i(n)}function OA(n,{ignoreFieldNorm:e=be.ignoreFieldNorm}){n.forEach(t=>{let i=1;t.matches.forEach(({key:o,norm:a,score:l})=>{const c=o?o.weight:null;i*=Math.pow(l===0&&c?Number.EPSILON:l,(c||1)*(e?1:a))}),t.score=i})}function RA(n,e){const t=n.matches;e.matches=[],on(t)&&t.forEach(i=>{if(!on(i.indices)||!i.indices.length)return;const{indices:o,value:a}=i;let l={indices:o,value:a};i.key&&(l.key=i.key.src),i.idx>-1&&(l.refIndex=i.idx),e.matches.push(l)})}function LA(n,e){e.score=n.score}function MA(n,e,{includeMatches:t=be.includeMatches,includeScore:i=be.includeScore}={}){const o=[];return t&&o.push(RA),i&&o.push(LA),n.map(a=>{const{idx:l}=a,c={item:e[l],refIndex:l};return o.length&&o.forEach(d=>{d(a,c)}),c})}class js{constructor(e,t={},i){this.options={...be,...t},this.options.useExtendedSearch,this._keyStore=new aA(this.options.keys),this.setCollection(e,i)}setCollection(e,t){if(this._docs=e,t&&!(t instanceof qh))throw new Error(nA);this._myIndex=t||mw(this.options.keys,this._docs,{getFn:this.options.getFn,fieldNormWeight:this.options.fieldNormWeight})}add(e){on(e)&&(this._docs.push(e),this._myIndex.add(e))}remove(e=()=>!1){const t=[];for(let i=0,o=this._docs.length;i<o;i+=1){const a=this._docs[i];e(a,i)&&(this.removeAt(i),i-=1,o-=1,t.push(a))}return t}removeAt(e){this._docs.splice(e,1),this._myIndex.removeAt(e)}getIndex(){return this._myIndex}search(e,{limit:t=-1}={}){const{includeMatches:i,includeScore:o,shouldSort:a,sortFn:l,ignoreFieldNorm:c}=this.options;let d=Hn(e)?Hn(this._docs[0])?this._searchStringList(e):this._searchObjectList(e):this._searchLogical(e);return OA(d,{ignoreFieldNorm:c}),a&&d.sort(l),dw(t)&&t>-1&&(d=d.slice(0,t)),MA(d,this._docs,{includeMatches:i,includeScore:o})}_searchStringList(e){const t=dh(e,this.options),{records:i}=this._myIndex,o=[];return i.forEach(({v:a,i:l,n:c})=>{if(!on(a))return;const{isMatch:d,score:p,indices:f}=t.searchIn(a);d&&o.push({item:a,idx:l,matches:[{score:p,value:a,norm:c,indices:f}]})}),o}_searchLogical(e){const t=ww(e,this.options),i=(c,d,p)=>{if(!c.children){const{keyId:m,searcher:g}=c,y=this._findMatches({key:this._keyStore.get(m),value:this._myIndex.getValueForItemAtKeyId(d,m),searcher:g});return y&&y.length?[{idx:p,item:d,matches:y}]:[]}const f=[];for(let m=0,g=c.children.length;m<g;m+=1){const y=c.children[m],x=i(y,d,p);if(x.length)f.push(...x);else if(c.operator===Fl.AND)return[]}return f},o=this._myIndex.records,a={},l=[];return o.forEach(({$:c,i:d})=>{if(on(c)){let p=i(t,c,d);p.length&&(a[d]||(a[d]={idx:d,item:c,matches:[]},l.push(a[d])),p.forEach(({matches:f})=>{a[d].matches.push(...f)}))}}),l}_searchObjectList(e){const t=dh(e,this.options),{keys:i,records:o}=this._myIndex,a=[];return o.forEach(({$:l,i:c})=>{if(!on(l))return;let d=[];i.forEach((p,f)=>{d.push(...this._findMatches({key:p,value:l[f],searcher:t}))}),d.length&&a.push({idx:c,item:l,matches:d})}),a}_findMatches({key:e,value:t,searcher:i}){if(!on(t))return[];let o=[];if(dr(t))t.forEach(({v:a,i:l,n:c})=>{if(!on(a))return;const{isMatch:d,score:p,indices:f}=i.searchIn(a);d&&o.push({score:p,key:e,value:a,idx:l,norm:c,indices:f})});else{const{v:a,n:l}=t,{isMatch:c,score:d,indices:p}=i.searchIn(a);c&&o.push({score:d,key:e,value:a,norm:l,indices:p})}return o}}js.version="7.1.0";js.createIndex=mw;js.parseIndex=mA;js.config=be;js.parseQuery=ww;DA(TA);const FA=n=>{const[e,t]=J.useState(""),i=J.useMemo(()=>new js(n,{keys:["title","description","tags","category"],threshold:.3}),[n]),o=J.useMemo(()=>e?i.search(e).map(a=>a.item):n,[e,i,n]);return{searchQuery:e,setSearchQuery:t,filteredPhotos:o}};function NA(n,e){return e.forEach((function(t){t&&typeof t!="string"&&!Array.isArray(t)&&Object.keys(t).forEach((function(i){if(i!=="default"&&!(i in n)){var o=Object.getOwnPropertyDescriptor(t,i);Object.defineProperty(n,i,o.get?o:{enumerable:!0,get:function(){return t[i]}})}}))})),Object.freeze(n)}function xw(n,e){return new Promise((function(t,i){let o;return UA(n).then((function(a){try{return o=a,t(new Blob([e.slice(0,2),o,e.slice(2)],{type:"image/jpeg"}))}catch(l){return i(l)}}),i)}))}const UA=n=>new Promise(((e,t)=>{const i=new FileReader;i.addEventListener("load",(({target:{result:o}})=>{const a=new DataView(o);let l=0;if(a.getUint16(l)!==65496)return t("not a valid JPEG");for(l+=2;;){const c=a.getUint16(l);if(c===65498)break;const d=a.getUint16(l+2);if(c===65505&&a.getUint32(l+4)===1165519206){const p=l+10;let f;switch(a.getUint16(p)){case 18761:f=!0;break;case 19789:f=!1;break;default:return t("TIFF header contains invalid endian")}if(a.getUint16(p+2,f)!==42)return t("TIFF header contains invalid version");const m=a.getUint32(p+4,f),g=p+m+2+12*a.getUint16(p+m,f);for(let y=p+m+2;y<g;y+=12)if(a.getUint16(y,f)==274){if(a.getUint16(y+2,f)!==3)return t("Orientation data type is invalid");if(a.getUint32(y+4,f)!==1)return t("Orientation data count is invalid");a.setUint16(y+8,1,f);break}return e(o.slice(l,l+2+d))}l+=2+d}return e(new Blob)})),i.readAsArrayBuffer(n)}));var Nl={},BA={get exports(){return Nl},set exports(n){Nl=n}};(function(n){var e,t,i={};BA.exports=i,i.parse=function(o,a){for(var l=i.bin.readUshort,c=i.bin.readUint,d=0,p={},f=new Uint8Array(o),m=f.length-4;c(f,m)!=101010256;)m--;d=m,d+=4;var g=l(f,d+=4);l(f,d+=2);var y=c(f,d+=2),x=c(f,d+=4);d+=4,d=x;for(var S=0;S<g;S++){c(f,d),d+=4,d+=4,d+=4,c(f,d+=4),y=c(f,d+=4);var C=c(f,d+=4),P=l(f,d+=4),I=l(f,d+2),A=l(f,d+4);d+=6;var j=c(f,d+=8);d+=4,d+=P+I+A,i._readLocal(f,j,p,y,C,a)}return p},i._readLocal=function(o,a,l,c,d,p){var f=i.bin.readUshort,m=i.bin.readUint;m(o,a),f(o,a+=4),f(o,a+=2);var g=f(o,a+=2);m(o,a+=2),m(o,a+=4),a+=4;var y=f(o,a+=8),x=f(o,a+=2);a+=2;var S=i.bin.readUTF8(o,a,y);if(a+=y,a+=x,p)l[S]={size:d,csize:c};else{var C=new Uint8Array(o.buffer,a);if(g==0)l[S]=new Uint8Array(C.buffer.slice(a,a+c));else{if(g!=8)throw"unknown compression method: "+g;var P=new Uint8Array(d);i.inflateRaw(C,P),l[S]=P}}},i.inflateRaw=function(o,a){return i.F.inflate(o,a)},i.inflate=function(o,a){return o[0],o[1],i.inflateRaw(new Uint8Array(o.buffer,o.byteOffset+2,o.length-6),a)},i.deflate=function(o,a){a==null&&(a={level:6});var l=0,c=new Uint8Array(50+Math.floor(1.1*o.length));c[l]=120,c[l+1]=156,l+=2,l=i.F.deflateRaw(o,c,l,a.level);var d=i.adler(o,0,o.length);return c[l+0]=d>>>24&255,c[l+1]=d>>>16&255,c[l+2]=d>>>8&255,c[l+3]=d>>>0&255,new Uint8Array(c.buffer,0,l+4)},i.deflateRaw=function(o,a){a==null&&(a={level:6});var l=new Uint8Array(50+Math.floor(1.1*o.length)),c=i.F.deflateRaw(o,l,c,a.level);return new Uint8Array(l.buffer,0,c)},i.encode=function(o,a){a==null&&(a=!1);var l=0,c=i.bin.writeUint,d=i.bin.writeUshort,p={};for(var f in o){var m=!i._noNeed(f)&&!a,g=o[f],y=i.crc.crc(g,0,g.length);p[f]={cpr:m,usize:g.length,crc:y,file:m?i.deflateRaw(g):g}}for(var f in p)l+=p[f].file.length+30+46+2*i.bin.sizeUTF8(f);l+=22;var x=new Uint8Array(l),S=0,C=[];for(var f in p){var P=p[f];C.push(S),S=i._writeHeader(x,S,f,P,0)}var I=0,A=S;for(var f in p)P=p[f],C.push(S),S=i._writeHeader(x,S,f,P,1,C[I++]);var j=S-A;return c(x,S,101010256),S+=4,d(x,S+=4,I),d(x,S+=2,I),c(x,S+=2,j),c(x,S+=4,A),S+=4,S+=2,x.buffer},i._noNeed=function(o){var a=o.split(".").pop().toLowerCase();return"png,jpg,jpeg,zip".indexOf(a)!=-1},i._writeHeader=function(o,a,l,c,d,p){var f=i.bin.writeUint,m=i.bin.writeUshort,g=c.file;return f(o,a,d==0?67324752:33639248),a+=4,d==1&&(a+=2),m(o,a,20),m(o,a+=2,0),m(o,a+=2,c.cpr?8:0),f(o,a+=2,0),f(o,a+=4,c.crc),f(o,a+=4,g.length),f(o,a+=4,c.usize),m(o,a+=4,i.bin.sizeUTF8(l)),m(o,a+=2,0),a+=2,d==1&&(a+=2,a+=2,f(o,a+=6,p),a+=4),a+=i.bin.writeUTF8(o,a,l),d==0&&(o.set(g,a),a+=g.length),a},i.crc={table:(function(){for(var o=new Uint32Array(256),a=0;a<256;a++){for(var l=a,c=0;c<8;c++)1&l?l=3988292384^l>>>1:l>>>=1;o[a]=l}return o})(),update:function(o,a,l,c){for(var d=0;d<c;d++)o=i.crc.table[255&(o^a[l+d])]^o>>>8;return o},crc:function(o,a,l){return 4294967295^i.crc.update(4294967295,o,a,l)}},i.adler=function(o,a,l){for(var c=1,d=0,p=a,f=a+l;p<f;){for(var m=Math.min(p+5552,f);p<m;)d+=c+=o[p++];c%=65521,d%=65521}return d<<16|c},i.bin={readUshort:function(o,a){return o[a]|o[a+1]<<8},writeUshort:function(o,a,l){o[a]=255&l,o[a+1]=l>>8&255},readUint:function(o,a){return 16777216*o[a+3]+(o[a+2]<<16|o[a+1]<<8|o[a])},writeUint:function(o,a,l){o[a]=255&l,o[a+1]=l>>8&255,o[a+2]=l>>16&255,o[a+3]=l>>24&255},readASCII:function(o,a,l){for(var c="",d=0;d<l;d++)c+=String.fromCharCode(o[a+d]);return c},writeASCII:function(o,a,l){for(var c=0;c<l.length;c++)o[a+c]=l.charCodeAt(c)},pad:function(o){return o.length<2?"0"+o:o},readUTF8:function(o,a,l){for(var c,d="",p=0;p<l;p++)d+="%"+i.bin.pad(o[a+p].toString(16));try{c=decodeURIComponent(d)}catch{return i.bin.readASCII(o,a,l)}return c},writeUTF8:function(o,a,l){for(var c=l.length,d=0,p=0;p<c;p++){var f=l.charCodeAt(p);if((4294967168&f)==0)o[a+d]=f,d++;else if((4294965248&f)==0)o[a+d]=192|f>>6,o[a+d+1]=128|f>>0&63,d+=2;else if((4294901760&f)==0)o[a+d]=224|f>>12,o[a+d+1]=128|f>>6&63,o[a+d+2]=128|f>>0&63,d+=3;else{if((4292870144&f)!=0)throw"e";o[a+d]=240|f>>18,o[a+d+1]=128|f>>12&63,o[a+d+2]=128|f>>6&63,o[a+d+3]=128|f>>0&63,d+=4}}return d},sizeUTF8:function(o){for(var a=o.length,l=0,c=0;c<a;c++){var d=o.charCodeAt(c);if((4294967168&d)==0)l++;else if((4294965248&d)==0)l+=2;else if((4294901760&d)==0)l+=3;else{if((4292870144&d)!=0)throw"e";l+=4}}return l}},i.F={},i.F.deflateRaw=function(o,a,l,c){var d=[[0,0,0,0,0],[4,4,8,4,0],[4,5,16,8,0],[4,6,16,16,0],[4,10,16,32,0],[8,16,32,32,0],[8,16,128,128,0],[8,32,128,256,0],[32,128,258,1024,1],[32,258,258,4096,1]][c],p=i.F.U,f=i.F._goodIndex;i.F._hash;var m=i.F._putsE,g=0,y=l<<3,x=0,S=o.length;if(c==0){for(;g<S;)m(a,y,g+(z=Math.min(65535,S-g))==S?1:0),y=i.F._copyExact(o,g,z,a,y+8),g+=z;return y>>>3}var C=p.lits,P=p.strt,I=p.prev,A=0,j=0,H=0,T=0,V=0,k=0;for(S>2&&(P[k=i.F._hash(o,0)]=0),g=0;g<S;g++){if(V=k,g+1<S-2){k=i.F._hash(o,g+1);var _=g+1&32767;I[_]=P[k],P[k]=_}if(x<=g){(A>14e3||j>26697)&&S-g>100&&(x<g&&(C[A]=g-x,A+=2,x=g),y=i.F._writeBlock(g==S-1||x==S?1:0,C,A,T,o,H,g-H,a,y),A=j=T=0,H=g);var F=0;g<S-2&&(F=i.F._bestMatch(o,g,I,V,Math.min(d[2],S-g),d[3]));var z=F>>>16,B=65535&F;if(F!=0){B=65535&F;var N=f(z=F>>>16,p.of0);p.lhst[257+N]++;var L=f(B,p.df0);p.dhst[L]++,T+=p.exb[N]+p.dxb[L],C[A]=z<<23|g-x,C[A+1]=B<<16|N<<8|L,A+=2,x=g+z}else p.lhst[o[g]]++;j++}}for(H==g&&o.length!=0||(x<g&&(C[A]=g-x,A+=2,x=g),y=i.F._writeBlock(1,C,A,T,o,H,g-H,a,y),A=0,j=0,A=j=T=0,H=g);(7&y)!=0;)y++;return y>>>3},i.F._bestMatch=function(o,a,l,c,d,p){var f=32767&a,m=l[f],g=f-m+32768&32767;if(m==f||c!=i.F._hash(o,a-g))return 0;for(var y=0,x=0,S=Math.min(32767,a);g<=S&&--p!=0&&m!=f;){if(y==0||o[a+y]==o[a+y-g]){var C=i.F._howLong(o,a,g);if(C>y){if(x=g,(y=C)>=d)break;g+2<C&&(C=g+2);for(var P=0,I=0;I<C-2;I++){var A=a-g+I+32768&32767,j=A-l[A]+32768&32767;j>P&&(P=j,m=A)}}}g+=(f=m)-(m=l[f])+32768&32767}return y<<16|x},i.F._howLong=function(o,a,l){if(o[a]!=o[a-l]||o[a+1]!=o[a+1-l]||o[a+2]!=o[a+2-l])return 0;var c=a,d=Math.min(o.length,a+258);for(a+=3;a<d&&o[a]==o[a-l];)a++;return a-c},i.F._hash=function(o,a){return(o[a]<<8|o[a+1])+(o[a+2]<<4)&65535},i.saved=0,i.F._writeBlock=function(o,a,l,c,d,p,f,m,g){var y,x,S,C,P,I,A,j,H,T=i.F.U,V=i.F._putsF,k=i.F._putsE;T.lhst[256]++,x=(y=i.F.getTrees())[0],S=y[1],C=y[2],P=y[3],I=y[4],A=y[5],j=y[6],H=y[7];var _=32+((g+3&7)==0?0:8-(g+3&7))+(f<<3),F=c+i.F.contSize(T.fltree,T.lhst)+i.F.contSize(T.fdtree,T.dhst),z=c+i.F.contSize(T.ltree,T.lhst)+i.F.contSize(T.dtree,T.dhst);z+=14+3*A+i.F.contSize(T.itree,T.ihst)+(2*T.ihst[16]+3*T.ihst[17]+7*T.ihst[18]);for(var B=0;B<286;B++)T.lhst[B]=0;for(B=0;B<30;B++)T.dhst[B]=0;for(B=0;B<19;B++)T.ihst[B]=0;var N=_<F&&_<z?0:F<z?1:2;if(V(m,g,o),V(m,g+1,N),g+=3,N==0){for(;(7&g)!=0;)g++;g=i.F._copyExact(d,p,f,m,g)}else{var L,q;if(N==1&&(L=T.fltree,q=T.fdtree),N==2){i.F.makeCodes(T.ltree,x),i.F.revCodes(T.ltree,x),i.F.makeCodes(T.dtree,S),i.F.revCodes(T.dtree,S),i.F.makeCodes(T.itree,C),i.F.revCodes(T.itree,C),L=T.ltree,q=T.dtree,k(m,g,P-257),k(m,g+=5,I-1),k(m,g+=5,A-4),g+=4;for(var D=0;D<A;D++)k(m,g+3*D,T.itree[1+(T.ordr[D]<<1)]);g+=3*A,g=i.F._codeTiny(j,T.itree,m,g),g=i.F._codeTiny(H,T.itree,m,g)}for(var E=p,X=0;X<l;X+=2){for(var U=a[X],K=U>>>23,R=E+(8388607&U);E<R;)g=i.F._writeLit(d[E++],L,m,g);if(K!=0){var W=a[X+1],ne=W>>16,Z=W>>8&255,Y=255&W;k(m,g=i.F._writeLit(257+Z,L,m,g),K-T.of0[Z]),g+=T.exb[Z],V(m,g=i.F._writeLit(Y,q,m,g),ne-T.df0[Y]),g+=T.dxb[Y],E+=K}}g=i.F._writeLit(256,L,m,g)}return g},i.F._copyExact=function(o,a,l,c,d){var p=d>>>3;return c[p]=l,c[p+1]=l>>>8,c[p+2]=255-c[p],c[p+3]=255-c[p+1],p+=4,c.set(new Uint8Array(o.buffer,a,l),p),d+(l+4<<3)},i.F.getTrees=function(){for(var o=i.F.U,a=i.F._hufTree(o.lhst,o.ltree,15),l=i.F._hufTree(o.dhst,o.dtree,15),c=[],d=i.F._lenCodes(o.ltree,c),p=[],f=i.F._lenCodes(o.dtree,p),m=0;m<c.length;m+=2)o.ihst[c[m]]++;for(m=0;m<p.length;m+=2)o.ihst[p[m]]++;for(var g=i.F._hufTree(o.ihst,o.itree,7),y=19;y>4&&o.itree[1+(o.ordr[y-1]<<1)]==0;)y--;return[a,l,g,d,f,y,c,p]},i.F.getSecond=function(o){for(var a=[],l=0;l<o.length;l+=2)a.push(o[l+1]);return a},i.F.nonZero=function(o){for(var a="",l=0;l<o.length;l+=2)o[l+1]!=0&&(a+=(l>>1)+",");return a},i.F.contSize=function(o,a){for(var l=0,c=0;c<a.length;c++)l+=a[c]*o[1+(c<<1)];return l},i.F._codeTiny=function(o,a,l,c){for(var d=0;d<o.length;d+=2){var p=o[d],f=o[d+1];c=i.F._writeLit(p,a,l,c);var m=p==16?2:p==17?3:7;p>15&&(i.F._putsE(l,c,f,m),c+=m)}return c},i.F._lenCodes=function(o,a){for(var l=o.length;l!=2&&o[l-1]==0;)l-=2;for(var c=0;c<l;c+=2){var d=o[c+1],p=c+3<l?o[c+3]:-1,f=c+5<l?o[c+5]:-1,m=c==0?-1:o[c-1];if(d==0&&p==d&&f==d){for(var g=c+5;g+2<l&&o[g+2]==d;)g+=2;(y=Math.min(g+1-c>>>1,138))<11?a.push(17,y-3):a.push(18,y-11),c+=2*y-2}else if(d==m&&p==d&&f==d){for(g=c+5;g+2<l&&o[g+2]==d;)g+=2;var y=Math.min(g+1-c>>>1,6);a.push(16,y-3),c+=2*y-2}else a.push(d,0)}return l>>>1},i.F._hufTree=function(o,a,l){var c=[],d=o.length,p=a.length,f=0;for(f=0;f<p;f+=2)a[f]=0,a[f+1]=0;for(f=0;f<d;f++)o[f]!=0&&c.push({lit:f,f:o[f]});var m=c.length,g=c.slice(0);if(m==0)return 0;if(m==1){var y=c[0].lit;return g=y==0?1:0,a[1+(y<<1)]=1,a[1+(g<<1)]=1,1}c.sort((function(j,H){return j.f-H.f}));var x=c[0],S=c[1],C=0,P=1,I=2;for(c[0]={lit:-1,f:x.f+S.f,l:x,r:S,d:0};P!=m-1;)x=C!=P&&(I==m||c[C].f<c[I].f)?c[C++]:c[I++],S=C!=P&&(I==m||c[C].f<c[I].f)?c[C++]:c[I++],c[P++]={lit:-1,f:x.f+S.f,l:x,r:S};var A=i.F.setDepth(c[P-1],0);for(A>l&&(i.F.restrictDepth(g,l,A),A=l),f=0;f<m;f++)a[1+(g[f].lit<<1)]=g[f].d;return A},i.F.setDepth=function(o,a){return o.lit!=-1?(o.d=a,a):Math.max(i.F.setDepth(o.l,a+1),i.F.setDepth(o.r,a+1))},i.F.restrictDepth=function(o,a,l){var c=0,d=1<<l-a,p=0;for(o.sort((function(m,g){return g.d==m.d?m.f-g.f:g.d-m.d})),c=0;c<o.length&&o[c].d>a;c++){var f=o[c].d;o[c].d=a,p+=d-(1<<l-f)}for(p>>>=l-a;p>0;)(f=o[c].d)<a?(o[c].d++,p-=1<<a-f-1):c++;for(;c>=0;c--)o[c].d==a&&p<0&&(o[c].d--,p++);p!=0&&console.log("debt left")},i.F._goodIndex=function(o,a){var l=0;return a[16|l]<=o&&(l|=16),a[8|l]<=o&&(l|=8),a[4|l]<=o&&(l|=4),a[2|l]<=o&&(l|=2),a[1|l]<=o&&(l|=1),l},i.F._writeLit=function(o,a,l,c){return i.F._putsF(l,c,a[o<<1]),c+a[1+(o<<1)]},i.F.inflate=function(o,a){var l=Uint8Array;if(o[0]==3&&o[1]==0)return a||new l(0);var c=i.F,d=c._bitsF,p=c._bitsE,f=c._decodeTiny,m=c.makeCodes,g=c.codes2map,y=c._get17,x=c.U,S=a==null;S&&(a=new l(o.length>>>2<<3));for(var C,P,I=0,A=0,j=0,H=0,T=0,V=0,k=0,_=0,F=0;I==0;)if(I=d(o,F,1),A=d(o,F+1,2),F+=3,A!=0){if(S&&(a=i.F._check(a,_+(1<<17))),A==1&&(C=x.flmap,P=x.fdmap,V=511,k=31),A==2){j=p(o,F,5)+257,H=p(o,F+5,5)+1,T=p(o,F+10,4)+4,F+=14;for(var z=0;z<38;z+=2)x.itree[z]=0,x.itree[z+1]=0;var B=1;for(z=0;z<T;z++){var N=p(o,F+3*z,3);x.itree[1+(x.ordr[z]<<1)]=N,N>B&&(B=N)}F+=3*T,m(x.itree,B),g(x.itree,B,x.imap),C=x.lmap,P=x.dmap,F=f(x.imap,(1<<B)-1,j+H,o,F,x.ttree);var L=c._copyOut(x.ttree,0,j,x.ltree);V=(1<<L)-1;var q=c._copyOut(x.ttree,j,H,x.dtree);k=(1<<q)-1,m(x.ltree,L),g(x.ltree,L,C),m(x.dtree,q),g(x.dtree,q,P)}for(;;){var D=C[y(o,F)&V];F+=15&D;var E=D>>>4;if(!(E>>>8))a[_++]=E;else{if(E==256)break;var X=_+E-254;if(E>264){var U=x.ldef[E-257];X=_+(U>>>3)+p(o,F,7&U),F+=7&U}var K=P[y(o,F)&k];F+=15&K;var R=K>>>4,W=x.ddef[R],ne=(W>>>4)+d(o,F,15&W);for(F+=15&W,S&&(a=i.F._check(a,_+(1<<17)));_<X;)a[_]=a[_++-ne],a[_]=a[_++-ne],a[_]=a[_++-ne],a[_]=a[_++-ne];_=X}}}else{(7&F)!=0&&(F+=8-(7&F));var Z=4+(F>>>3),Y=o[Z-4]|o[Z-3]<<8;S&&(a=i.F._check(a,_+Y)),a.set(new l(o.buffer,o.byteOffset+Z,Y),_),F=Z+Y<<3,_+=Y}return a.length==_?a:a.slice(0,_)},i.F._check=function(o,a){var l=o.length;if(a<=l)return o;var c=new Uint8Array(Math.max(l<<1,a));return c.set(o,0),c},i.F._decodeTiny=function(o,a,l,c,d,p){for(var f=i.F._bitsE,m=i.F._get17,g=0;g<l;){var y=o[m(c,d)&a];d+=15&y;var x=y>>>4;if(x<=15)p[g]=x,g++;else{var S=0,C=0;x==16?(C=3+f(c,d,2),d+=2,S=p[g-1]):x==17?(C=3+f(c,d,3),d+=3):x==18&&(C=11+f(c,d,7),d+=7);for(var P=g+C;g<P;)p[g]=S,g++}}return d},i.F._copyOut=function(o,a,l,c){for(var d=0,p=0,f=c.length>>>1;p<l;){var m=o[p+a];c[p<<1]=0,c[1+(p<<1)]=m,m>d&&(d=m),p++}for(;p<f;)c[p<<1]=0,c[1+(p<<1)]=0,p++;return d},i.F.makeCodes=function(o,a){for(var l,c,d,p,f=i.F.U,m=o.length,g=f.bl_count,y=0;y<=a;y++)g[y]=0;for(y=1;y<m;y+=2)g[o[y]]++;var x=f.next_code;for(l=0,g[0]=0,c=1;c<=a;c++)l=l+g[c-1]<<1,x[c]=l;for(d=0;d<m;d+=2)(p=o[d+1])!=0&&(o[d]=x[p],x[p]++)},i.F.codes2map=function(o,a,l){for(var c=o.length,d=i.F.U.rev15,p=0;p<c;p+=2)if(o[p+1]!=0)for(var f=p>>1,m=o[p+1],g=f<<4|m,y=a-m,x=o[p]<<y,S=x+(1<<y);x!=S;)l[d[x]>>>15-a]=g,x++},i.F.revCodes=function(o,a){for(var l=i.F.U.rev15,c=15-a,d=0;d<o.length;d+=2){var p=o[d]<<a-o[d+1];o[d]=l[p]>>>c}},i.F._putsE=function(o,a,l){l<<=7&a;var c=a>>>3;o[c]|=l,o[c+1]|=l>>>8},i.F._putsF=function(o,a,l){l<<=7&a;var c=a>>>3;o[c]|=l,o[c+1]|=l>>>8,o[c+2]|=l>>>16},i.F._bitsE=function(o,a,l){return(o[a>>>3]|o[1+(a>>>3)]<<8)>>>(7&a)&(1<<l)-1},i.F._bitsF=function(o,a,l){return(o[a>>>3]|o[1+(a>>>3)]<<8|o[2+(a>>>3)]<<16)>>>(7&a)&(1<<l)-1},i.F._get17=function(o,a){return(o[a>>>3]|o[1+(a>>>3)]<<8|o[2+(a>>>3)]<<16)>>>(7&a)},i.F._get25=function(o,a){return(o[a>>>3]|o[1+(a>>>3)]<<8|o[2+(a>>>3)]<<16|o[3+(a>>>3)]<<24)>>>(7&a)},i.F.U=(e=Uint16Array,t=Uint32Array,{next_code:new e(16),bl_count:new e(16),ordr:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],of0:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],exb:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],ldef:new e(32),df0:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],dxb:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],ddef:new t(32),flmap:new e(512),fltree:[],fdmap:new e(32),fdtree:[],lmap:new e(32768),ltree:[],ttree:[],dmap:new e(32768),dtree:[],imap:new e(512),itree:[],rev15:new e(32768),lhst:new t(286),dhst:new t(30),ihst:new t(19),lits:new t(15e3),strt:new e(65536),prev:new e(32768)}),(function(){for(var o=i.F.U,a=0;a<32768;a++){var l=a;l=(4278255360&(l=(4042322160&(l=(3435973836&(l=(2863311530&l)>>>1|(1431655765&l)<<1))>>>2|(858993459&l)<<2))>>>4|(252645135&l)<<4))>>>8|(16711935&l)<<8,o.rev15[a]=(l>>>16|l<<16)>>>17}function c(d,p,f){for(;p--!=0;)d.push(0,f)}for(a=0;a<32;a++)o.ldef[a]=o.of0[a]<<3|o.exb[a],o.ddef[a]=o.df0[a]<<4|o.dxb[a];c(o.fltree,144,8),c(o.fltree,112,9),c(o.fltree,24,7),c(o.fltree,8,8),i.F.makeCodes(o.fltree,9),i.F.codes2map(o.fltree,9,o.flmap),i.F.revCodes(o.fltree,9),c(o.fdtree,32,5),i.F.makeCodes(o.fdtree,5),i.F.codes2map(o.fdtree,5,o.fdmap),i.F.revCodes(o.fdtree,5),c(o.itree,19,0),c(o.ltree,286,0),c(o.dtree,30,0),c(o.ttree,320,0)})()})();var $A=NA({__proto__:null,default:Nl},[Nl]);const Tn=(function(){var n={nextZero(f,m){for(;f[m]!=0;)m++;return m},readUshort:(f,m)=>f[m]<<8|f[m+1],writeUshort(f,m,g){f[m]=g>>8&255,f[m+1]=255&g},readUint:(f,m)=>16777216*f[m]+(f[m+1]<<16|f[m+2]<<8|f[m+3]),writeUint(f,m,g){f[m]=g>>24&255,f[m+1]=g>>16&255,f[m+2]=g>>8&255,f[m+3]=255&g},readASCII(f,m,g){let y="";for(let x=0;x<g;x++)y+=String.fromCharCode(f[m+x]);return y},writeASCII(f,m,g){for(let y=0;y<g.length;y++)f[m+y]=g.charCodeAt(y)},readBytes(f,m,g){const y=[];for(let x=0;x<g;x++)y.push(f[m+x]);return y},pad:f=>f.length<2?`0${f}`:f,readUTF8(f,m,g){let y,x="";for(let S=0;S<g;S++)x+=`%${n.pad(f[m+S].toString(16))}`;try{y=decodeURIComponent(x)}catch{return n.readASCII(f,m,g)}return y}};function e(f,m,g,y){const x=m*g,S=a(y),C=Math.ceil(m*S/8),P=new Uint8Array(4*x),I=new Uint32Array(P.buffer),{ctype:A}=y,{depth:j}=y,H=n.readUshort;if(A==6){const U=x<<2;if(j==8)for(var T=0;T<U;T+=4)P[T]=f[T],P[T+1]=f[T+1],P[T+2]=f[T+2],P[T+3]=f[T+3];if(j==16)for(T=0;T<U;T++)P[T]=f[T<<1]}else if(A==2){const U=y.tabs.tRNS;if(U==null){if(j==8)for(T=0;T<x;T++){var V=3*T;I[T]=255<<24|f[V+2]<<16|f[V+1]<<8|f[V]}if(j==16)for(T=0;T<x;T++)V=6*T,I[T]=255<<24|f[V+4]<<16|f[V+2]<<8|f[V]}else{var k=U[0];const K=U[1],R=U[2];if(j==8)for(T=0;T<x;T++){var _=T<<2;V=3*T,I[T]=255<<24|f[V+2]<<16|f[V+1]<<8|f[V],f[V]==k&&f[V+1]==K&&f[V+2]==R&&(P[_+3]=0)}if(j==16)for(T=0;T<x;T++)_=T<<2,V=6*T,I[T]=255<<24|f[V+4]<<16|f[V+2]<<8|f[V],H(f,V)==k&&H(f,V+2)==K&&H(f,V+4)==R&&(P[_+3]=0)}}else if(A==3){const U=y.tabs.PLTE,K=y.tabs.tRNS,R=K?K.length:0;if(j==1)for(var F=0;F<g;F++){var z=F*C,B=F*m;for(T=0;T<m;T++){_=B+T<<2;var N=3*(L=f[z+(T>>3)]>>7-((7&T)<<0)&1);P[_]=U[N],P[_+1]=U[N+1],P[_+2]=U[N+2],P[_+3]=L<R?K[L]:255}}if(j==2)for(F=0;F<g;F++)for(z=F*C,B=F*m,T=0;T<m;T++)_=B+T<<2,N=3*(L=f[z+(T>>2)]>>6-((3&T)<<1)&3),P[_]=U[N],P[_+1]=U[N+1],P[_+2]=U[N+2],P[_+3]=L<R?K[L]:255;if(j==4)for(F=0;F<g;F++)for(z=F*C,B=F*m,T=0;T<m;T++)_=B+T<<2,N=3*(L=f[z+(T>>1)]>>4-((1&T)<<2)&15),P[_]=U[N],P[_+1]=U[N+1],P[_+2]=U[N+2],P[_+3]=L<R?K[L]:255;if(j==8)for(T=0;T<x;T++){var L;_=T<<2,N=3*(L=f[T]),P[_]=U[N],P[_+1]=U[N+1],P[_+2]=U[N+2],P[_+3]=L<R?K[L]:255}}else if(A==4){if(j==8)for(T=0;T<x;T++){_=T<<2;var q=f[D=T<<1];P[_]=q,P[_+1]=q,P[_+2]=q,P[_+3]=f[D+1]}if(j==16)for(T=0;T<x;T++){var D;_=T<<2,q=f[D=T<<2],P[_]=q,P[_+1]=q,P[_+2]=q,P[_+3]=f[D+2]}}else if(A==0)for(k=y.tabs.tRNS?y.tabs.tRNS:-1,F=0;F<g;F++){const U=F*C,K=F*m;if(j==1)for(var E=0;E<m;E++){var X=(q=255*(f[U+(E>>>3)]>>>7-(7&E)&1))==255*k?0:255;I[K+E]=X<<24|q<<16|q<<8|q}else if(j==2)for(E=0;E<m;E++)X=(q=85*(f[U+(E>>>2)]>>>6-((3&E)<<1)&3))==85*k?0:255,I[K+E]=X<<24|q<<16|q<<8|q;else if(j==4)for(E=0;E<m;E++)X=(q=17*(f[U+(E>>>1)]>>>4-((1&E)<<2)&15))==17*k?0:255,I[K+E]=X<<24|q<<16|q<<8|q;else if(j==8)for(E=0;E<m;E++)X=(q=f[U+E])==k?0:255,I[K+E]=X<<24|q<<16|q<<8|q;else if(j==16)for(E=0;E<m;E++)q=f[U+(E<<1)],X=H(f,U+(E<<1))==k?0:255,I[K+E]=X<<24|q<<16|q<<8|q}return P}function t(f,m,g,y){const x=a(f),S=Math.ceil(g*x/8),C=new Uint8Array((S+1+f.interlace)*y);return m=f.tabs.CgBI?o(m,C):i(m,C),f.interlace==0?m=l(m,f,0,g,y):f.interlace==1&&(m=(function(I,A){const j=A.width,H=A.height,T=a(A),V=T>>3,k=Math.ceil(j*T/8),_=new Uint8Array(H*k);let F=0;const z=[0,0,4,0,2,0,1],B=[0,4,0,2,0,1,0],N=[8,8,8,4,4,2,2],L=[8,8,4,4,2,2,1];let q=0;for(;q<7;){const E=N[q],X=L[q];let U=0,K=0,R=z[q];for(;R<H;)R+=E,K++;let W=B[q];for(;W<j;)W+=X,U++;const ne=Math.ceil(U*T/8);l(I,A,F,U,K);let Z=0,Y=z[q];for(;Y<H;){let ie=B[q],ve=F+Z*ne<<3;for(;ie<j;){var D;if(T==1&&(D=(D=I[ve>>3])>>7-(7&ve)&1,_[Y*k+(ie>>3)]|=D<<7-((7&ie)<<0)),T==2&&(D=(D=I[ve>>3])>>6-(7&ve)&3,_[Y*k+(ie>>2)]|=D<<6-((3&ie)<<1)),T==4&&(D=(D=I[ve>>3])>>4-(7&ve)&15,_[Y*k+(ie>>1)]|=D<<4-((1&ie)<<2)),T>=8){const de=Y*k+ie*V;for(let fe=0;fe<V;fe++)_[de+fe]=I[(ve>>3)+fe]}ve+=T,ie+=X}Z++,Y+=E}U*K!=0&&(F+=K*(1+ne)),q+=1}return _})(m,f)),m}function i(f,m){return o(new Uint8Array(f.buffer,2,f.length-6),m)}var o=(function(){const f={H:{}};return f.H.N=function(m,g){const y=Uint8Array;let x,S,C=0,P=0,I=0,A=0,j=0,H=0,T=0,V=0,k=0;if(m[0]==3&&m[1]==0)return g||new y(0);const _=f.H,F=_.b,z=_.e,B=_.R,N=_.n,L=_.A,q=_.Z,D=_.m,E=g==null;for(E&&(g=new y(m.length>>>2<<5));C==0;)if(C=F(m,k,1),P=F(m,k+1,2),k+=3,P!=0){if(E&&(g=f.H.W(g,V+(1<<17))),P==1&&(x=D.J,S=D.h,H=511,T=31),P==2){I=z(m,k,5)+257,A=z(m,k+5,5)+1,j=z(m,k+10,4)+4,k+=14;let U=1;for(var X=0;X<38;X+=2)D.Q[X]=0,D.Q[X+1]=0;for(X=0;X<j;X++){const W=z(m,k+3*X,3);D.Q[1+(D.X[X]<<1)]=W,W>U&&(U=W)}k+=3*j,N(D.Q,U),L(D.Q,U,D.u),x=D.w,S=D.d,k=B(D.u,(1<<U)-1,I+A,m,k,D.v);const K=_.V(D.v,0,I,D.C);H=(1<<K)-1;const R=_.V(D.v,I,A,D.D);T=(1<<R)-1,N(D.C,K),L(D.C,K,x),N(D.D,R),L(D.D,R,S)}for(;;){const U=x[q(m,k)&H];k+=15&U;const K=U>>>4;if(!(K>>>8))g[V++]=K;else{if(K==256)break;{let R=V+K-254;if(K>264){const ie=D.q[K-257];R=V+(ie>>>3)+z(m,k,7&ie),k+=7&ie}const W=S[q(m,k)&T];k+=15&W;const ne=W>>>4,Z=D.c[ne],Y=(Z>>>4)+F(m,k,15&Z);for(k+=15&Z;V<R;)g[V]=g[V++-Y],g[V]=g[V++-Y],g[V]=g[V++-Y],g[V]=g[V++-Y];V=R}}}}else{(7&k)!=0&&(k+=8-(7&k));const U=4+(k>>>3),K=m[U-4]|m[U-3]<<8;E&&(g=f.H.W(g,V+K)),g.set(new y(m.buffer,m.byteOffset+U,K),V),k=U+K<<3,V+=K}return g.length==V?g:g.slice(0,V)},f.H.W=function(m,g){const y=m.length;if(g<=y)return m;const x=new Uint8Array(y<<1);return x.set(m,0),x},f.H.R=function(m,g,y,x,S,C){const P=f.H.e,I=f.H.Z;let A=0;for(;A<y;){const j=m[I(x,S)&g];S+=15&j;const H=j>>>4;if(H<=15)C[A]=H,A++;else{let T=0,V=0;H==16?(V=3+P(x,S,2),S+=2,T=C[A-1]):H==17?(V=3+P(x,S,3),S+=3):H==18&&(V=11+P(x,S,7),S+=7);const k=A+V;for(;A<k;)C[A]=T,A++}}return S},f.H.V=function(m,g,y,x){let S=0,C=0;const P=x.length>>>1;for(;C<y;){const I=m[C+g];x[C<<1]=0,x[1+(C<<1)]=I,I>S&&(S=I),C++}for(;C<P;)x[C<<1]=0,x[1+(C<<1)]=0,C++;return S},f.H.n=function(m,g){const y=f.H.m,x=m.length;let S,C,P,I;const A=y.j;for(var j=0;j<=g;j++)A[j]=0;for(j=1;j<x;j+=2)A[m[j]]++;const H=y.K;for(S=0,A[0]=0,C=1;C<=g;C++)S=S+A[C-1]<<1,H[C]=S;for(P=0;P<x;P+=2)I=m[P+1],I!=0&&(m[P]=H[I],H[I]++)},f.H.A=function(m,g,y){const x=m.length,S=f.H.m.r;for(let C=0;C<x;C+=2)if(m[C+1]!=0){const P=C>>1,I=m[C+1],A=P<<4|I,j=g-I;let H=m[C]<<j;const T=H+(1<<j);for(;H!=T;)y[S[H]>>>15-g]=A,H++}},f.H.l=function(m,g){const y=f.H.m.r,x=15-g;for(let S=0;S<m.length;S+=2){const C=m[S]<<g-m[S+1];m[S]=y[C]>>>x}},f.H.M=function(m,g,y){y<<=7&g;const x=g>>>3;m[x]|=y,m[x+1]|=y>>>8},f.H.I=function(m,g,y){y<<=7&g;const x=g>>>3;m[x]|=y,m[x+1]|=y>>>8,m[x+2]|=y>>>16},f.H.e=function(m,g,y){return(m[g>>>3]|m[1+(g>>>3)]<<8)>>>(7&g)&(1<<y)-1},f.H.b=function(m,g,y){return(m[g>>>3]|m[1+(g>>>3)]<<8|m[2+(g>>>3)]<<16)>>>(7&g)&(1<<y)-1},f.H.Z=function(m,g){return(m[g>>>3]|m[1+(g>>>3)]<<8|m[2+(g>>>3)]<<16)>>>(7&g)},f.H.i=function(m,g){return(m[g>>>3]|m[1+(g>>>3)]<<8|m[2+(g>>>3)]<<16|m[3+(g>>>3)]<<24)>>>(7&g)},f.H.m=(function(){const m=Uint16Array,g=Uint32Array;return{K:new m(16),j:new m(16),X:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],S:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],T:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],q:new m(32),p:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],z:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],c:new g(32),J:new m(512),_:[],h:new m(32),$:[],w:new m(32768),C:[],v:[],d:new m(32768),D:[],u:new m(512),Q:[],r:new m(32768),s:new g(286),Y:new g(30),a:new g(19),t:new g(15e3),k:new m(65536),g:new m(32768)}})(),(function(){const m=f.H.m;for(var g=0;g<32768;g++){let x=g;x=(2863311530&x)>>>1|(1431655765&x)<<1,x=(3435973836&x)>>>2|(858993459&x)<<2,x=(4042322160&x)>>>4|(252645135&x)<<4,x=(4278255360&x)>>>8|(16711935&x)<<8,m.r[g]=(x>>>16|x<<16)>>>17}function y(x,S,C){for(;S--!=0;)x.push(0,C)}for(g=0;g<32;g++)m.q[g]=m.S[g]<<3|m.T[g],m.c[g]=m.p[g]<<4|m.z[g];y(m._,144,8),y(m._,112,9),y(m._,24,7),y(m._,8,8),f.H.n(m._,9),f.H.A(m._,9,m.J),f.H.l(m._,9),y(m.$,32,5),f.H.n(m.$,5),f.H.A(m.$,5,m.h),f.H.l(m.$,5),y(m.Q,19,0),y(m.C,286,0),y(m.D,30,0),y(m.v,320,0)})(),f.H.N})();function a(f){return[1,null,3,1,2,null,4][f.ctype]*f.depth}function l(f,m,g,y,x){let S=a(m);const C=Math.ceil(y*S/8);let P,I;S=Math.ceil(S/8);let A=f[g],j=0;if(A>1&&(f[g]=[0,0,1][A-2]),A==3)for(j=S;j<C;j++)f[j+1]=f[j+1]+(f[j+1-S]>>>1)&255;for(let H=0;H<x;H++)if(P=g+H*C,I=P+H+1,A=f[I-1],j=0,A==0)for(;j<C;j++)f[P+j]=f[I+j];else if(A==1){for(;j<S;j++)f[P+j]=f[I+j];for(;j<C;j++)f[P+j]=f[I+j]+f[P+j-S]}else if(A==2)for(;j<C;j++)f[P+j]=f[I+j]+f[P+j-C];else if(A==3){for(;j<S;j++)f[P+j]=f[I+j]+(f[P+j-C]>>>1);for(;j<C;j++)f[P+j]=f[I+j]+(f[P+j-C]+f[P+j-S]>>>1)}else{for(;j<S;j++)f[P+j]=f[I+j]+c(0,f[P+j-C],0);for(;j<C;j++)f[P+j]=f[I+j]+c(f[P+j-S],f[P+j-C],f[P+j-S-C])}return f}function c(f,m,g){const y=f+m-g,x=y-f,S=y-m,C=y-g;return x*x<=S*S&&x*x<=C*C?f:S*S<=C*C?m:g}function d(f,m,g){g.width=n.readUint(f,m),m+=4,g.height=n.readUint(f,m),m+=4,g.depth=f[m],m++,g.ctype=f[m],m++,g.compress=f[m],m++,g.filter=f[m],m++,g.interlace=f[m],m++}function p(f,m,g,y,x,S,C,P,I){const A=Math.min(m,x),j=Math.min(g,S);let H=0,T=0;for(let q=0;q<j;q++)for(let D=0;D<A;D++)if(C>=0&&P>=0?(H=q*m+D<<2,T=(P+q)*x+C+D<<2):(H=(-P+q)*m-C+D<<2,T=q*x+D<<2),I==0)y[T]=f[H],y[T+1]=f[H+1],y[T+2]=f[H+2],y[T+3]=f[H+3];else if(I==1){var V=f[H+3]*.00392156862745098,k=f[H]*V,_=f[H+1]*V,F=f[H+2]*V,z=y[T+3]*(1/255),B=y[T]*z,N=y[T+1]*z,L=y[T+2]*z;const E=1-V,X=V+z*E,U=X==0?0:1/X;y[T+3]=255*X,y[T+0]=(k+B*E)*U,y[T+1]=(_+N*E)*U,y[T+2]=(F+L*E)*U}else if(I==2)V=f[H+3],k=f[H],_=f[H+1],F=f[H+2],z=y[T+3],B=y[T],N=y[T+1],L=y[T+2],V==z&&k==B&&_==N&&F==L?(y[T]=0,y[T+1]=0,y[T+2]=0,y[T+3]=0):(y[T]=k,y[T+1]=_,y[T+2]=F,y[T+3]=V);else if(I==3){if(V=f[H+3],k=f[H],_=f[H+1],F=f[H+2],z=y[T+3],B=y[T],N=y[T+1],L=y[T+2],V==z&&k==B&&_==N&&F==L)continue;if(V<220&&z>20)return!1}return!0}return{decode:function(m){const g=new Uint8Array(m);let y=8;const x=n,S=x.readUshort,C=x.readUint,P={tabs:{},frames:[]},I=new Uint8Array(g.length);let A,j=0,H=0;const T=[137,80,78,71,13,10,26,10];for(var V=0;V<8;V++)if(g[V]!=T[V])throw"The input is not a PNG file!";for(;y<g.length;){const q=x.readUint(g,y);y+=4;const D=x.readASCII(g,y,4);if(y+=4,D=="IHDR")d(g,y,P);else if(D=="iCCP"){for(var k=y;g[k]!=0;)k++;x.readASCII(g,y,k-y),g[k+1];const E=g.slice(k+2,y+q);let X=null;try{X=i(E)}catch{X=o(E)}P.tabs[D]=X}else if(D=="CgBI")P.tabs[D]=g.slice(y,y+4);else if(D=="IDAT"){for(V=0;V<q;V++)I[j+V]=g[y+V];j+=q}else if(D=="acTL")P.tabs[D]={num_frames:C(g,y),num_plays:C(g,y+4)},A=new Uint8Array(g.length);else if(D=="fcTL"){H!=0&&((L=P.frames[P.frames.length-1]).data=t(P,A.slice(0,H),L.rect.width,L.rect.height),H=0);const E={x:C(g,y+12),y:C(g,y+16),width:C(g,y+4),height:C(g,y+8)};let X=S(g,y+22);X=S(g,y+20)/(X==0?100:X);const U={rect:E,delay:Math.round(1e3*X),dispose:g[y+24],blend:g[y+25]};P.frames.push(U)}else if(D=="fdAT"){for(V=0;V<q-4;V++)A[H+V]=g[y+V+4];H+=q-4}else if(D=="pHYs")P.tabs[D]=[x.readUint(g,y),x.readUint(g,y+4),g[y+8]];else if(D=="cHRM")for(P.tabs[D]=[],V=0;V<8;V++)P.tabs[D].push(x.readUint(g,y+4*V));else if(D=="tEXt"||D=="zTXt"){P.tabs[D]==null&&(P.tabs[D]={});var _=x.nextZero(g,y),F=x.readASCII(g,y,_-y),z=y+q-_-1;if(D=="tEXt")N=x.readASCII(g,_+1,z);else{var B=i(g.slice(_+2,_+2+z));N=x.readUTF8(B,0,B.length)}P.tabs[D][F]=N}else if(D=="iTXt"){P.tabs[D]==null&&(P.tabs[D]={}),_=0,k=y,_=x.nextZero(g,k),F=x.readASCII(g,k,_-k);const E=g[k=_+1];var N;g[k+1],k+=2,_=x.nextZero(g,k),x.readASCII(g,k,_-k),k=_+1,_=x.nextZero(g,k),x.readUTF8(g,k,_-k),z=q-((k=_+1)-y),E==0?N=x.readUTF8(g,k,z):(B=i(g.slice(k,k+z)),N=x.readUTF8(B,0,B.length)),P.tabs[D][F]=N}else if(D=="PLTE")P.tabs[D]=x.readBytes(g,y,q);else if(D=="hIST"){const E=P.tabs.PLTE.length/3;for(P.tabs[D]=[],V=0;V<E;V++)P.tabs[D].push(S(g,y+2*V))}else if(D=="tRNS")P.ctype==3?P.tabs[D]=x.readBytes(g,y,q):P.ctype==0?P.tabs[D]=S(g,y):P.ctype==2&&(P.tabs[D]=[S(g,y),S(g,y+2),S(g,y+4)]);else if(D=="gAMA")P.tabs[D]=x.readUint(g,y)/1e5;else if(D=="sRGB")P.tabs[D]=g[y];else if(D=="bKGD")P.ctype==0||P.ctype==4?P.tabs[D]=[S(g,y)]:P.ctype==2||P.ctype==6?P.tabs[D]=[S(g,y),S(g,y+2),S(g,y+4)]:P.ctype==3&&(P.tabs[D]=g[y]);else if(D=="IEND")break;y+=q,x.readUint(g,y),y+=4}var L;return H!=0&&((L=P.frames[P.frames.length-1]).data=t(P,A.slice(0,H),L.rect.width,L.rect.height)),P.data=t(P,I,P.width,P.height),delete P.compress,delete P.interlace,delete P.filter,P},toRGBA8:function(m){const g=m.width,y=m.height;if(m.tabs.acTL==null)return[e(m.data,g,y,m).buffer];const x=[];m.frames[0].data==null&&(m.frames[0].data=m.data);const S=g*y*4,C=new Uint8Array(S),P=new Uint8Array(S),I=new Uint8Array(S);for(let j=0;j<m.frames.length;j++){const H=m.frames[j],T=H.rect.x,V=H.rect.y,k=H.rect.width,_=H.rect.height,F=e(H.data,k,_,m);if(j!=0)for(var A=0;A<S;A++)I[A]=C[A];if(H.blend==0?p(F,k,_,C,g,y,T,V,0):H.blend==1&&p(F,k,_,C,g,y,T,V,1),x.push(C.buffer.slice(0)),H.dispose!=0){if(H.dispose==1)p(P,k,_,C,g,y,T,V,0);else if(H.dispose==2)for(A=0;A<S;A++)C[A]=I[A]}}return x},_paeth:c,_copyTile:p,_bin:n}})();(function(){const{_copyTile:n}=Tn,{_bin:e}=Tn,t=Tn._paeth;var i={table:(function(){const k=new Uint32Array(256);for(let _=0;_<256;_++){let F=_;for(let z=0;z<8;z++)1&F?F=3988292384^F>>>1:F>>>=1;k[_]=F}return k})(),update(k,_,F,z){for(let B=0;B<z;B++)k=i.table[255&(k^_[F+B])]^k>>>8;return k},crc:(k,_,F)=>4294967295^i.update(4294967295,k,_,F)};function o(k,_,F,z){_[F]+=k[0]*z>>4,_[F+1]+=k[1]*z>>4,_[F+2]+=k[2]*z>>4,_[F+3]+=k[3]*z>>4}function a(k){return Math.max(0,Math.min(255,k))}function l(k,_){const F=k[0]-_[0],z=k[1]-_[1],B=k[2]-_[2],N=k[3]-_[3];return F*F+z*z+B*B+N*N}function c(k,_,F,z,B,N,L){L==null&&(L=1);const q=z.length,D=[];for(var E=0;E<q;E++){const Y=z[E];D.push([Y>>>0&255,Y>>>8&255,Y>>>16&255,Y>>>24&255])}for(E=0;E<q;E++){let Y=4294967295;for(var X=0,U=0;U<q;U++){var K=l(D[E],D[U]);U!=E&&K<Y&&(Y=K,X=U)}}const R=new Uint32Array(B.buffer),W=new Int16Array(_*F*4),ne=[0,8,2,10,12,4,14,6,3,11,1,9,15,7,13,5];for(E=0;E<ne.length;E++)ne[E]=255*((ne[E]+.5)/16-.5);for(let Y=0;Y<F;Y++)for(let ie=0;ie<_;ie++){var Z;E=4*(Y*_+ie),L!=2?Z=[a(k[E]+W[E]),a(k[E+1]+W[E+1]),a(k[E+2]+W[E+2]),a(k[E+3]+W[E+3])]:(K=ne[4*(3&Y)+(3&ie)],Z=[a(k[E]+K),a(k[E+1]+K),a(k[E+2]+K),a(k[E+3]+K)]),X=0;let ve=16777215;for(U=0;U<q;U++){const xe=l(Z,D[U]);xe<ve&&(ve=xe,X=U)}const de=D[X],fe=[Z[0]-de[0],Z[1]-de[1],Z[2]-de[2],Z[3]-de[3]];L==1&&(ie!=_-1&&o(fe,W,E+4,7),Y!=F-1&&(ie!=0&&o(fe,W,E+4*_-4,3),o(fe,W,E+4*_,5),ie!=_-1&&o(fe,W,E+4*_+4,1))),N[E>>2]=X,R[E>>2]=z[X]}}function d(k,_,F,z,B){B==null&&(B={});const{crc:N}=i,L=e.writeUint,q=e.writeUshort,D=e.writeASCII;let E=8;const X=k.frames.length>1;let U,K=!1,R=33+(X?20:0);if(B.sRGB!=null&&(R+=13),B.pHYs!=null&&(R+=21),B.iCCP!=null&&(U=pako.deflate(B.iCCP),R+=21+U.length+4),k.ctype==3){for(var W=k.plte.length,ne=0;ne<W;ne++)k.plte[ne]>>>24!=255&&(K=!0);R+=8+3*W+4+(K?8+1*W+4:0)}for(var Z=0;Z<k.frames.length;Z++)X&&(R+=38),R+=(de=k.frames[Z]).cimg.length+12,Z!=0&&(R+=4);R+=12;const Y=new Uint8Array(R),ie=[137,80,78,71,13,10,26,10];for(ne=0;ne<8;ne++)Y[ne]=ie[ne];if(L(Y,E,13),E+=4,D(Y,E,"IHDR"),E+=4,L(Y,E,_),E+=4,L(Y,E,F),E+=4,Y[E]=k.depth,E++,Y[E]=k.ctype,E++,Y[E]=0,E++,Y[E]=0,E++,Y[E]=0,E++,L(Y,E,N(Y,E-17,17)),E+=4,B.sRGB!=null&&(L(Y,E,1),E+=4,D(Y,E,"sRGB"),E+=4,Y[E]=B.sRGB,E++,L(Y,E,N(Y,E-5,5)),E+=4),B.iCCP!=null){const fe=13+U.length;L(Y,E,fe),E+=4,D(Y,E,"iCCP"),E+=4,D(Y,E,"ICC profile"),E+=11,E+=2,Y.set(U,E),E+=U.length,L(Y,E,N(Y,E-(fe+4),fe+4)),E+=4}if(B.pHYs!=null&&(L(Y,E,9),E+=4,D(Y,E,"pHYs"),E+=4,L(Y,E,B.pHYs[0]),E+=4,L(Y,E,B.pHYs[1]),E+=4,Y[E]=B.pHYs[2],E++,L(Y,E,N(Y,E-13,13)),E+=4),X&&(L(Y,E,8),E+=4,D(Y,E,"acTL"),E+=4,L(Y,E,k.frames.length),E+=4,L(Y,E,B.loop!=null?B.loop:0),E+=4,L(Y,E,N(Y,E-12,12)),E+=4),k.ctype==3){for(L(Y,E,3*(W=k.plte.length)),E+=4,D(Y,E,"PLTE"),E+=4,ne=0;ne<W;ne++){const fe=3*ne,xe=k.plte[ne],Pe=255&xe,Me=xe>>>8&255,Nt=xe>>>16&255;Y[E+fe+0]=Pe,Y[E+fe+1]=Me,Y[E+fe+2]=Nt}if(E+=3*W,L(Y,E,N(Y,E-3*W-4,3*W+4)),E+=4,K){for(L(Y,E,W),E+=4,D(Y,E,"tRNS"),E+=4,ne=0;ne<W;ne++)Y[E+ne]=k.plte[ne]>>>24&255;E+=W,L(Y,E,N(Y,E-W-4,W+4)),E+=4}}let ve=0;for(Z=0;Z<k.frames.length;Z++){var de=k.frames[Z];X&&(L(Y,E,26),E+=4,D(Y,E,"fcTL"),E+=4,L(Y,E,ve++),E+=4,L(Y,E,de.rect.width),E+=4,L(Y,E,de.rect.height),E+=4,L(Y,E,de.rect.x),E+=4,L(Y,E,de.rect.y),E+=4,q(Y,E,z[Z]),E+=2,q(Y,E,1e3),E+=2,Y[E]=de.dispose,E++,Y[E]=de.blend,E++,L(Y,E,N(Y,E-30,30)),E+=4);const fe=de.cimg;L(Y,E,(W=fe.length)+(Z==0?0:4)),E+=4;const xe=E;D(Y,E,Z==0?"IDAT":"fdAT"),E+=4,Z!=0&&(L(Y,E,ve++),E+=4),Y.set(fe,E),E+=W,L(Y,E,N(Y,xe,E-xe)),E+=4}return L(Y,E,0),E+=4,D(Y,E,"IEND"),E+=4,L(Y,E,N(Y,E-4,4)),E+=4,Y.buffer}function p(k,_,F){for(let z=0;z<k.frames.length;z++){const B=k.frames[z];B.rect.width;const N=B.rect.height,L=new Uint8Array(N*B.bpl+N);B.cimg=y(B.img,N,B.bpp,B.bpl,L,_,F)}}function f(k,_,F,z,B){const N=B[0],L=B[1],q=B[2],D=B[3],E=B[4],X=B[5];let U=6,K=8,R=255;for(var W=0;W<k.length;W++){const rt=new Uint8Array(k[W]);for(var ne=rt.length,Z=0;Z<ne;Z+=4)R&=rt[Z+3]}const Y=R!=255,ie=(function(Te,Oe,Ve,He,Fe,gt){const qe=[];for(var oe=0;oe<Te.length;oe++){const Be=new Uint8Array(Te[oe]),ot=new Uint32Array(Be.buffer);var he;let xt=0,It=0,St=Oe,en=Ve,vn=He?1:0;if(oe!=0){const qn=gt||He||oe==1||qe[oe-2].dispose!=0?1:2;let yn=0,hr=1e9;for(let Xn=0;Xn<qn;Xn++){var Re=new Uint8Array(Te[oe-1-Xn]);const fr=new Uint32Array(Te[oe-1-Xn]);let Ut=Oe,wn=Ve,Yn=-1,pr=-1;for(let Rn=0;Rn<Ve;Rn++)for(let xn=0;xn<Oe;xn++)ot[De=Rn*Oe+xn]!=fr[De]&&(xn<Ut&&(Ut=xn),xn>Yn&&(Yn=xn),Rn<wn&&(wn=Rn),Rn>pr&&(pr=Rn));Yn==-1&&(Ut=wn=Yn=pr=0),Fe&&((1&Ut)==1&&Ut--,(1&wn)==1&&wn--);const Rs=(Yn-Ut+1)*(pr-wn+1);Rs<hr&&(hr=Rs,yn=Xn,xt=Ut,It=wn,St=Yn-Ut+1,en=pr-wn+1)}Re=new Uint8Array(Te[oe-1-yn]),yn==1&&(qe[oe-1].dispose=2),he=new Uint8Array(St*en*4),n(Re,Oe,Ve,he,St,en,-xt,-It,0),vn=n(Be,Oe,Ve,he,St,en,-xt,-It,3)?1:0,vn==1?g(Be,Oe,Ve,he,{x:xt,y:It,width:St,height:en}):n(Be,Oe,Ve,he,St,en,-xt,-It,0)}else he=Be.slice(0);qe.push({rect:{x:xt,y:It,width:St,height:en},img:he,blend:vn,dispose:0})}if(He)for(oe=0;oe<qe.length;oe++){if((jt=qe[oe]).blend==1)continue;const Be=jt.rect,ot=qe[oe-1].rect,xt=Math.min(Be.x,ot.x),It=Math.min(Be.y,ot.y),St={x:xt,y:It,width:Math.max(Be.x+Be.width,ot.x+ot.width)-xt,height:Math.max(Be.y+Be.height,ot.y+ot.height)-It};qe[oe-1].dispose=1,oe-1!=0&&m(Te,Oe,Ve,qe,oe-1,St,Fe),m(Te,Oe,Ve,qe,oe,St,Fe)}let $e=0;if(Te.length!=1)for(var De=0;De<qe.length;De++){var jt;$e+=(jt=qe[De]).rect.width*jt.rect.height}return qe})(k,_,F,N,L,q),ve={},de=[],fe=[];if(z!=0){const rt=[];for(Z=0;Z<ie.length;Z++)rt.push(ie[Z].img.buffer);const Te=(function(Fe){let gt=0;for(var qe=0;qe<Fe.length;qe++)gt+=Fe[qe].byteLength;const oe=new Uint8Array(gt);let he=0;for(qe=0;qe<Fe.length;qe++){const Re=new Uint8Array(Fe[qe]),$e=Re.length;for(let De=0;De<$e;De+=4){let jt=Re[De],Be=Re[De+1],ot=Re[De+2];const xt=Re[De+3];xt==0&&(jt=Be=ot=0),oe[he+De]=jt,oe[he+De+1]=Be,oe[he+De+2]=ot,oe[he+De+3]=xt}he+=$e}return oe.buffer})(rt),Oe=S(Te,z);for(Z=0;Z<Oe.plte.length;Z++)de.push(Oe.plte[Z].est.rgba);let Ve=0;for(Z=0;Z<ie.length;Z++){const He=(Pe=ie[Z]).img.length;var xe=new Uint8Array(Oe.inds.buffer,Ve>>2,He>>2);fe.push(xe);const Fe=new Uint8Array(Oe.abuf,Ve,He);X&&c(Pe.img,Pe.rect.width,Pe.rect.height,de,Fe,xe),Pe.img.set(Fe),Ve+=He}}else for(W=0;W<ie.length;W++){var Pe=ie[W];const rt=new Uint32Array(Pe.img.buffer);var Me=Pe.rect.width;for(ne=rt.length,xe=new Uint8Array(ne),fe.push(xe),Z=0;Z<ne;Z++){const Te=rt[Z];if(Z!=0&&Te==rt[Z-1])xe[Z]=xe[Z-1];else if(Z>Me&&Te==rt[Z-Me])xe[Z]=xe[Z-Me];else{let Oe=ve[Te];if(Oe==null&&(ve[Te]=Oe=de.length,de.push(Te),de.length>=300))break;xe[Z]=Oe}}}const Nt=de.length;for(Nt<=256&&E==0&&(K=Nt<=2?1:Nt<=4?2:Nt<=16?4:8,K=Math.max(K,D)),W=0;W<ie.length;W++){(Pe=ie[W]).rect.x,Pe.rect.y,Me=Pe.rect.width;const rt=Pe.rect.height;let Te=Pe.img;new Uint32Array(Te.buffer);let Oe=4*Me,Ve=4;if(Nt<=256&&E==0){Oe=Math.ceil(K*Me/8);var Et=new Uint8Array(Oe*rt);const He=fe[W];for(let Fe=0;Fe<rt;Fe++){Z=Fe*Oe;const gt=Fe*Me;if(K==8)for(var Ue=0;Ue<Me;Ue++)Et[Z+Ue]=He[gt+Ue];else if(K==4)for(Ue=0;Ue<Me;Ue++)Et[Z+(Ue>>1)]|=He[gt+Ue]<<4-4*(1&Ue);else if(K==2)for(Ue=0;Ue<Me;Ue++)Et[Z+(Ue>>2)]|=He[gt+Ue]<<6-2*(3&Ue);else if(K==1)for(Ue=0;Ue<Me;Ue++)Et[Z+(Ue>>3)]|=He[gt+Ue]<<7-1*(7&Ue)}Te=Et,U=3,Ve=1}else if(Y==0&&ie.length==1){Et=new Uint8Array(Me*rt*3);const He=Me*rt;for(Z=0;Z<He;Z++){const Fe=3*Z,gt=4*Z;Et[Fe]=Te[gt],Et[Fe+1]=Te[gt+1],Et[Fe+2]=Te[gt+2]}Te=Et,U=2,Ve=3,Oe=3*Me}Pe.img=Te,Pe.bpl=Oe,Pe.bpp=Ve}return{ctype:U,depth:K,plte:de,frames:ie}}function m(k,_,F,z,B,N,L){const q=Uint8Array,D=Uint32Array,E=new q(k[B-1]),X=new D(k[B-1]),U=B+1<k.length?new q(k[B+1]):null,K=new q(k[B]),R=new D(K.buffer);let W=_,ne=F,Z=-1,Y=-1;for(let ve=0;ve<N.height;ve++)for(let de=0;de<N.width;de++){const fe=N.x+de,xe=N.y+ve,Pe=xe*_+fe,Me=R[Pe];Me==0||z[B-1].dispose==0&&X[Pe]==Me&&(U==null||U[4*Pe+3]!=0)||(fe<W&&(W=fe),fe>Z&&(Z=fe),xe<ne&&(ne=xe),xe>Y&&(Y=xe))}Z==-1&&(W=ne=Z=Y=0),L&&((1&W)==1&&W--,(1&ne)==1&&ne--),N={x:W,y:ne,width:Z-W+1,height:Y-ne+1};const ie=z[B];ie.rect=N,ie.blend=1,ie.img=new Uint8Array(N.width*N.height*4),z[B-1].dispose==0?(n(E,_,F,ie.img,N.width,N.height,-N.x,-N.y,0),g(K,_,F,ie.img,N)):n(K,_,F,ie.img,N.width,N.height,-N.x,-N.y,0)}function g(k,_,F,z,B){n(k,_,F,z,B.width,B.height,-B.x,-B.y,2)}function y(k,_,F,z,B,N,L){const q=[];let D,E=[0,1,2,3,4];N!=-1?E=[N]:(_*z>5e5||F==1)&&(E=[0]),L&&(D={level:0});const X=$A;for(var U=0;U<E.length;U++){for(let W=0;W<_;W++)x(B,k,W,z,F,E[U]);q.push(X.deflate(B,D))}let K,R=1e9;for(U=0;U<q.length;U++)q[U].length<R&&(K=U,R=q[U].length);return q[K]}function x(k,_,F,z,B,N){const L=F*z;let q=L+F;if(k[q]=N,q++,N==0)if(z<500)for(var D=0;D<z;D++)k[q+D]=_[L+D];else k.set(new Uint8Array(_.buffer,L,z),q);else if(N==1){for(D=0;D<B;D++)k[q+D]=_[L+D];for(D=B;D<z;D++)k[q+D]=_[L+D]-_[L+D-B]+256&255}else if(F==0){for(D=0;D<B;D++)k[q+D]=_[L+D];if(N==2)for(D=B;D<z;D++)k[q+D]=_[L+D];if(N==3)for(D=B;D<z;D++)k[q+D]=_[L+D]-(_[L+D-B]>>1)+256&255;if(N==4)for(D=B;D<z;D++)k[q+D]=_[L+D]-t(_[L+D-B],0,0)+256&255}else{if(N==2)for(D=0;D<z;D++)k[q+D]=_[L+D]+256-_[L+D-z]&255;if(N==3){for(D=0;D<B;D++)k[q+D]=_[L+D]+256-(_[L+D-z]>>1)&255;for(D=B;D<z;D++)k[q+D]=_[L+D]+256-(_[L+D-z]+_[L+D-B]>>1)&255}if(N==4){for(D=0;D<B;D++)k[q+D]=_[L+D]+256-t(0,_[L+D-z],0)&255;for(D=B;D<z;D++)k[q+D]=_[L+D]+256-t(_[L+D-B],_[L+D-z],_[L+D-B-z])&255}}}function S(k,_){const F=new Uint8Array(k),z=F.slice(0),B=new Uint32Array(z.buffer),N=C(z,_),L=N[0],q=N[1],D=F.length,E=new Uint8Array(D>>2);let X;if(F.length<2e7)for(var U=0;U<D;U+=4)X=P(L,K=F[U]*(1/255),R=F[U+1]*(1/255),W=F[U+2]*(1/255),ne=F[U+3]*(1/255)),E[U>>2]=X.ind,B[U>>2]=X.est.rgba;else for(U=0;U<D;U+=4){var K=F[U]*.00392156862745098,R=F[U+1]*(1/255),W=F[U+2]*(1/255),ne=F[U+3]*(1/255);for(X=L;X.left;)X=I(X.est,K,R,W,ne)<=0?X.left:X.right;E[U>>2]=X.ind,B[U>>2]=X.est.rgba}return{abuf:z.buffer,inds:E,plte:q}}function C(k,_,F){F==null&&(F=1e-4);const z=new Uint32Array(k.buffer),B={i0:0,i1:k.length,bst:null,est:null,tdst:0,left:null,right:null};B.bst=H(k,B.i0,B.i1),B.est=T(B.bst);const N=[B];for(;N.length<_;){let q=0,D=0;for(var L=0;L<N.length;L++)N[L].est.L>q&&(q=N[L].est.L,D=L);if(q<F)break;const E=N[D],X=A(k,z,E.i0,E.i1,E.est.e,E.est.eMq255);if(E.i0>=X||E.i1<=X){E.est.L=0;continue}const U={i0:E.i0,i1:X,bst:null,est:null,tdst:0,left:null,right:null};U.bst=H(k,U.i0,U.i1),U.est=T(U.bst);const K={i0:X,i1:E.i1,bst:null,est:null,tdst:0,left:null,right:null};for(K.bst={R:[],m:[],N:E.bst.N-U.bst.N},L=0;L<16;L++)K.bst.R[L]=E.bst.R[L]-U.bst.R[L];for(L=0;L<4;L++)K.bst.m[L]=E.bst.m[L]-U.bst.m[L];K.est=T(K.bst),E.left=U,E.right=K,N[D]=U,N.push(K)}for(N.sort(((q,D)=>D.bst.N-q.bst.N)),L=0;L<N.length;L++)N[L].ind=L;return[B,N]}function P(k,_,F,z,B){if(k.left==null)return k.tdst=(function(U,K,R,W,ne){const Z=K-U[0],Y=R-U[1],ie=W-U[2],ve=ne-U[3];return Z*Z+Y*Y+ie*ie+ve*ve})(k.est.q,_,F,z,B),k;const N=I(k.est,_,F,z,B);let L=k.left,q=k.right;N>0&&(L=k.right,q=k.left);const D=P(L,_,F,z,B);if(D.tdst<=N*N)return D;const E=P(q,_,F,z,B);return E.tdst<D.tdst?E:D}function I(k,_,F,z,B){const{e:N}=k;return N[0]*_+N[1]*F+N[2]*z+N[3]*B-k.eMq}function A(k,_,F,z,B,N){for(z-=4;F<z;){for(;j(k,F,B)<=N;)F+=4;for(;j(k,z,B)>N;)z-=4;if(F>=z)break;const L=_[F>>2];_[F>>2]=_[z>>2],_[z>>2]=L,F+=4,z-=4}for(;j(k,F,B)>N;)F-=4;return F+4}function j(k,_,F){return k[_]*F[0]+k[_+1]*F[1]+k[_+2]*F[2]+k[_+3]*F[3]}function H(k,_,F){const z=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],B=[0,0,0,0],N=F-_>>2;for(let L=_;L<F;L+=4){const q=k[L]*.00392156862745098,D=k[L+1]*(1/255),E=k[L+2]*(1/255),X=k[L+3]*(1/255);B[0]+=q,B[1]+=D,B[2]+=E,B[3]+=X,z[0]+=q*q,z[1]+=q*D,z[2]+=q*E,z[3]+=q*X,z[5]+=D*D,z[6]+=D*E,z[7]+=D*X,z[10]+=E*E,z[11]+=E*X,z[15]+=X*X}return z[4]=z[1],z[8]=z[2],z[9]=z[6],z[12]=z[3],z[13]=z[7],z[14]=z[11],{R:z,m:B,N}}function T(k){const{R:_}=k,{m:F}=k,{N:z}=k,B=F[0],N=F[1],L=F[2],q=F[3],D=z==0?0:1/z,E=[_[0]-B*B*D,_[1]-B*N*D,_[2]-B*L*D,_[3]-B*q*D,_[4]-N*B*D,_[5]-N*N*D,_[6]-N*L*D,_[7]-N*q*D,_[8]-L*B*D,_[9]-L*N*D,_[10]-L*L*D,_[11]-L*q*D,_[12]-q*B*D,_[13]-q*N*D,_[14]-q*L*D,_[15]-q*q*D],X=E,U=V;let K=[Math.random(),Math.random(),Math.random(),Math.random()],R=0,W=0;if(z!=0)for(let Z=0;Z<16&&(K=U.multVec(X,K),W=Math.sqrt(U.dot(K,K)),K=U.sml(1/W,K),!(Z!=0&&Math.abs(W-R)<1e-9));Z++)R=W;const ne=[B*D,N*D,L*D,q*D];return{Cov:E,q:ne,e:K,L:R,eMq255:U.dot(U.sml(255,ne),K),eMq:U.dot(K,ne),rgba:(Math.round(255*ne[3])<<24|Math.round(255*ne[2])<<16|Math.round(255*ne[1])<<8|Math.round(255*ne[0])<<0)>>>0}}var V={multVec:(k,_)=>[k[0]*_[0]+k[1]*_[1]+k[2]*_[2]+k[3]*_[3],k[4]*_[0]+k[5]*_[1]+k[6]*_[2]+k[7]*_[3],k[8]*_[0]+k[9]*_[1]+k[10]*_[2]+k[11]*_[3],k[12]*_[0]+k[13]*_[1]+k[14]*_[2]+k[15]*_[3]],dot:(k,_)=>k[0]*_[0]+k[1]*_[1]+k[2]*_[2]+k[3]*_[3],sml:(k,_)=>[k*_[0],k*_[1],k*_[2],k*_[3]]};Tn.encode=function(_,F,z,B,N,L,q){B==null&&(B=0),q==null&&(q=!1);const D=f(_,F,z,B,[!1,!1,!1,0,q,!1]);return p(D,-1),d(D,F,z,N,L)},Tn.encodeLL=function(_,F,z,B,N,L,q,D){const E={ctype:0+(B==1?0:2)+(N==0?0:4),depth:L,frames:[]},X=(B+N)*L,U=X*F;for(let K=0;K<_.length;K++)E.frames.push({rect:{x:0,y:0,width:F,height:z},img:new Uint8Array(_[K]),blend:0,dispose:1,bpp:Math.ceil(X/8),bpl:Math.ceil(U/8)});return p(E,0,!0),d(E,F,z,q,D)},Tn.encode.compress=f,Tn.encode.dither=c,Tn.quantize=S,Tn.quantize.getKDtree=C,Tn.quantize.getNearest=P})();const Sw={toArrayBuffer(n,e){const t=n.width,i=n.height,o=t<<2,a=n.getContext("2d").getImageData(0,0,t,i),l=new Uint32Array(a.data.buffer),c=(32*t+31)/32<<2,d=c*i,p=122+d,f=new ArrayBuffer(p),m=new DataView(f),g=1<<20;let y,x,S,C,P=g,I=0,A=0,j=0;function H(k){m.setUint16(A,k,!0),A+=2}function T(k){m.setUint32(A,k,!0),A+=4}function V(k){A+=k}H(19778),T(p),V(4),T(122),T(108),T(t),T(-i>>>0),H(1),H(32),T(3),T(d),T(2835),T(2835),V(8),T(16711680),T(65280),T(255),T(4278190080),T(1466527264),(function k(){for(;I<i&&P>0;){for(C=122+I*c,y=0;y<o;)P--,x=l[j++],S=x>>>24,m.setUint32(C+y,x<<8|S),y+=4;I++}j<l.length?(P=g,setTimeout(k,Sw._dly)):e(f)})()},toBlob(n,e){this.toArrayBuffer(n,(t=>{e(new Blob([t],{type:"image/bmp"}))}))},_dly:9};var Qt={CHROME:"CHROME",FIREFOX:"FIREFOX",DESKTOP_SAFARI:"DESKTOP_SAFARI",IE:"IE",IOS:"IOS",ETC:"ETC"},zA={[Qt.CHROME]:16384,[Qt.FIREFOX]:11180,[Qt.DESKTOP_SAFARI]:16384,[Qt.IE]:8192,[Qt.IOS]:4096,[Qt.ETC]:8192};const Xh=typeof window<"u",bw=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,Ul=Xh&&window.cordova&&window.cordova.require&&window.cordova.require("cordova/modulemapper"),VA=(Xh||bw)&&(Ul&&Ul.getOriginalSymbol(window,"File")||typeof File<"u"&&File),kw=(Xh||bw)&&(Ul&&Ul.getOriginalSymbol(window,"FileReader")||typeof FileReader<"u"&&FileReader);function Yh(n,e,t=Date.now()){return new Promise((i=>{const o=n.split(","),a=o[0].match(/:(.*?);/)[1],l=globalThis.atob(o[1]);let c=l.length;const d=new Uint8Array(c);for(;c--;)d[c]=l.charCodeAt(c);const p=new Blob([d],{type:a});p.name=e,p.lastModified=t,i(p)}))}function Cw(n){return new Promise(((e,t)=>{const i=new kw;i.onload=()=>e(i.result),i.onerror=o=>t(o),i.readAsDataURL(n)}))}function _w(n){return new Promise(((e,t)=>{const i=new Image;i.onload=()=>e(i),i.onerror=o=>t(o),i.src=n}))}function ki(){if(ki.cachedResult!==void 0)return ki.cachedResult;let n=Qt.ETC;const{userAgent:e}=navigator;return/Chrom(e|ium)/i.test(e)?n=Qt.CHROME:/iP(ad|od|hone)/i.test(e)&&/WebKit/i.test(e)?n=Qt.IOS:/Safari/i.test(e)?n=Qt.DESKTOP_SAFARI:/Firefox/i.test(e)?n=Qt.FIREFOX:(/MSIE/i.test(e)||document.documentMode)&&(n=Qt.IE),ki.cachedResult=n,ki.cachedResult}function Pw(n,e){const t=ki(),i=zA[t];let o=n,a=e,l=o*a;const c=o>a?a/o:o/a;for(;l>i*i;){const d=(i+o)/2,p=(i+a)/2;d<p?(a=p,o=p*c):(a=d*c,o=d),l=o*a}return{width:o,height:a}}function ru(n,e){let t,i;try{if(t=new OffscreenCanvas(n,e),i=t.getContext("2d"),i===null)throw new Error("getContext of OffscreenCanvas returns null")}catch{t=document.createElement("canvas"),i=t.getContext("2d")}return t.width=n,t.height=e,[t,i]}function Ew(n,e){const{width:t,height:i}=Pw(n.width,n.height),[o,a]=ru(t,i);return e&&/jpe?g/.test(e)&&(a.fillStyle="white",a.fillRect(0,0,o.width,o.height)),a.drawImage(n,0,0,o.width,o.height),o}function wl(){return wl.cachedResult!==void 0||(wl.cachedResult=["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&typeof document<"u"&&"ontouchend"in document),wl.cachedResult}function Bl(n,e={}){return new Promise((function(t,i){let o,a;var l=function(){try{return a=Ew(o,e.fileType||n.type),t([o,a])}catch(d){return i(d)}},c=function(d){try{var p=function(f){try{throw f}catch(m){return i(m)}};try{let f;return Cw(n).then((function(m){try{return f=m,_w(f).then((function(g){try{return o=g,(function(){try{return l()}catch(y){return i(y)}})()}catch(y){return p(y)}}),p)}catch(g){return p(g)}}),p)}catch(f){p(f)}}catch(f){return i(f)}};try{if(wl()||[Qt.DESKTOP_SAFARI,Qt.MOBILE_SAFARI].includes(ki()))throw new Error("Skip createImageBitmap on IOS and Safari");return createImageBitmap(n).then((function(d){try{return o=d,l()}catch{return c()}}),c)}catch{c()}}))}function $l(n,e,t,i,o=1){return new Promise((function(a,l){let c;if(e==="image/png"){let m,g,y;return m=n.getContext("2d"),{data:g}=m.getImageData(0,0,n.width,n.height),y=Tn.encode([g.buffer],n.width,n.height,4096*o),c=new Blob([y],{type:e}),c.name=t,c.lastModified=i,d.call(this)}{let m=function(){return d.call(this)};var p=m;if(e==="image/bmp")return new Promise((g=>Sw.toBlob(n,g))).then((function(g){try{return c=g,c.name=t,c.lastModified=i,m.call(this)}catch(y){return l(y)}}).bind(this),l);{let g=function(){return m.call(this)};var f=g;if(typeof OffscreenCanvas=="function"&&n instanceof OffscreenCanvas)return n.convertToBlob({type:e,quality:o}).then((function(y){try{return c=y,c.name=t,c.lastModified=i,g.call(this)}catch(x){return l(x)}}).bind(this),l);{let y;return y=n.toDataURL(e,o),Yh(y,t,i).then((function(x){try{return c=x,g.call(this)}catch(S){return l(S)}}).bind(this),l)}}}function d(){return a(c)}}))}function Vn(n){n.width=0,n.height=0}function Cs(){return new Promise((function(n,e){let t,i,o,a;return Cs.cachedResult!==void 0?n(Cs.cachedResult):Yh("data:image/jpeg;base64,/9j/4QAiRXhpZgAATU0AKgAAAAgAAQESAAMAAAABAAYAAAAAAAD/2wCEAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAf/AABEIAAEAAgMBEQACEQEDEQH/xABKAAEAAAAAAAAAAAAAAAAAAAALEAEAAAAAAAAAAAAAAAAAAAAAAQEAAAAAAAAAAAAAAAAAAAAAEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwA/8H//2Q==","test.jpg",Date.now()).then((function(l){try{return t=l,Bl(t).then((function(c){try{return i=c[1],$l(i,t.type,t.name,t.lastModified).then((function(d){try{return o=d,Vn(i),Bl(o).then((function(p){try{return a=p[0],Cs.cachedResult=a.width===1&&a.height===2,n(Cs.cachedResult)}catch(f){return e(f)}}),e)}catch(p){return e(p)}}),e)}catch(d){return e(d)}}),e)}catch(c){return e(c)}}),e)}))}function Aw(n){return new Promise(((e,t)=>{const i=new kw;i.onload=o=>{const a=new DataView(o.target.result);if(a.getUint16(0,!1)!=65496)return e(-2);const l=a.byteLength;let c=2;for(;c<l;){if(a.getUint16(c+2,!1)<=8)return e(-1);const d=a.getUint16(c,!1);if(c+=2,d==65505){if(a.getUint32(c+=2,!1)!=1165519206)return e(-1);const p=a.getUint16(c+=6,!1)==18761;c+=a.getUint32(c+4,p);const f=a.getUint16(c,p);c+=2;for(let m=0;m<f;m++)if(a.getUint16(c+12*m,p)==274)return e(a.getUint16(c+12*m+8,p))}else{if((65280&d)!=65280)break;c+=a.getUint16(c,!1)}}return e(-1)},i.onerror=o=>t(o),i.readAsArrayBuffer(n)}))}function Tw(n,e){const{width:t}=n,{height:i}=n,{maxWidthOrHeight:o}=e;let a,l=n;return isFinite(o)&&(t>o||i>o)&&([l,a]=ru(t,i),t>i?(l.width=o,l.height=i/t*o):(l.width=t/i*o,l.height=o),a.drawImage(n,0,0,l.width,l.height),Vn(n)),l}function Dw(n,e){const{width:t}=n,{height:i}=n,[o,a]=ru(t,i);switch(e>4&&e<9?(o.width=i,o.height=t):(o.width=t,o.height=i),e){case 2:a.transform(-1,0,0,1,t,0);break;case 3:a.transform(-1,0,0,-1,t,i);break;case 4:a.transform(1,0,0,-1,0,i);break;case 5:a.transform(0,1,1,0,0,0);break;case 6:a.transform(0,1,-1,0,i,0);break;case 7:a.transform(0,-1,-1,0,i,t);break;case 8:a.transform(0,-1,1,0,0,t)}return a.drawImage(n,0,0,t,i),Vn(n),o}function Gv(n,e,t=0){return new Promise((function(i,o){let a,l,c,d,p,f,m,g,y,x,S,C,P,I,A,j,H,T,V,k;function _(z=5){if(e.signal&&e.signal.aborted)throw e.signal.reason;a+=z,e.onProgress(Math.min(a,100))}function F(z){if(e.signal&&e.signal.aborted)throw e.signal.reason;a=Math.min(Math.max(z,a),100),e.onProgress(a)}return a=t,l=e.maxIteration||10,c=1024*e.maxSizeMB*1024,_(),Bl(n,e).then((function(z){try{return[,d]=z,_(),p=Tw(d,e),_(),new Promise((function(B,N){var L;if(!(L=e.exifOrientation))return Aw(n).then((function(D){try{return L=D,q.call(this)}catch(E){return N(E)}}).bind(this),N);function q(){return B(L)}return q.call(this)})).then((function(B){try{return f=B,_(),Cs().then((function(N){try{return m=N?p:Dw(p,f),_(),g=e.initialQuality||1,y=e.fileType||n.type,$l(m,y,n.name,n.lastModified,g).then((function(L){try{{let X=function(){if(l--&&(A>c||A>P)){let K,R;return K=k?.95*V.width:V.width,R=k?.95*V.height:V.height,[H,T]=ru(K,R),T.drawImage(V,0,0,K,R),g*=y==="image/png"?.85:.95,$l(H,y,n.name,n.lastModified,g).then((function(W){try{return j=W,Vn(V),V=H,A=j.size,F(Math.min(99,Math.floor((I-A)/(I-c)*100))),X}catch(ne){return o(ne)}}),o)}return[1]},U=function(){return Vn(V),Vn(H),Vn(p),Vn(m),Vn(d),F(100),i(j)};var D=X,E=U;if(x=L,_(),S=x.size>c,C=x.size>n.size,!S&&!C)return F(100),i(x);var q;return P=n.size,I=x.size,A=I,V=m,k=!e.alwaysKeepResolution&&S,(q=(function(K){for(;K;){if(K.then)return void K.then(q,o);try{if(K.pop){if(K.length)return K.pop()?U.call(this):K;K=X}else K=K.call(this)}catch(R){return o(R)}}}).bind(this))(X)}}catch(X){return o(X)}}).bind(this),o)}catch(L){return o(L)}}).bind(this),o)}catch(N){return o(N)}}).bind(this),o)}catch(B){return o(B)}}).bind(this),o)}))}const HA=`
let scriptImported = false
self.addEventListener('message', async (e) => {
  const { file, id, imageCompressionLibUrl, options } = e.data
  options.onProgress = (progress) => self.postMessage({ progress, id })
  try {
    if (!scriptImported) {
      // console.log('[worker] importScripts', imageCompressionLibUrl)
      self.importScripts(imageCompressionLibUrl)
      scriptImported = true
    }
    // console.log('[worker] self', self)
    const compressedFile = await imageCompression(file, options)
    self.postMessage({ file: compressedFile, id })
  } catch (e) {
    // console.error('[worker] error', e)
    self.postMessage({ error: e.message + '\\n' + e.stack, id })
  }
})
`;let _d;function WA(n,e){return new Promise(((t,i)=>{_d||(_d=(function(l){const c=[];return c.push(l),URL.createObjectURL(new Blob(c))})(HA));const o=new Worker(_d);o.addEventListener("message",(function(l){if(e.signal&&e.signal.aborted)o.terminate();else if(l.data.progress===void 0){if(l.data.error)return i(new Error(l.data.error)),void o.terminate();t(l.data.file),o.terminate()}else e.onProgress(l.data.progress)})),o.addEventListener("error",i),e.signal&&e.signal.addEventListener("abort",(()=>{i(e.signal.reason),o.terminate()})),o.postMessage({file:n,imageCompressionLibUrl:e.libURL,options:{...e,onProgress:void 0,signal:void 0}})}))}function Dt(n,e){return new Promise((function(t,i){let o,a,l,c,d,p;if(o={...e},l=0,{onProgress:c}=o,o.maxSizeMB=o.maxSizeMB||Number.POSITIVE_INFINITY,d=typeof o.useWebWorker!="boolean"||o.useWebWorker,delete o.useWebWorker,o.onProgress=y=>{l=y,typeof c=="function"&&c(l)},!(n instanceof Blob||n instanceof VA))return i(new Error("The file given is not an instance of Blob or File"));if(!/^image/.test(n.type))return i(new Error("The file given is not an image"));if(p=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,!d||typeof Worker!="function"||p)return Gv(n,o).then((function(y){try{return a=y,g.call(this)}catch(x){return i(x)}}).bind(this),i);var f=(function(){try{return g.call(this)}catch(y){return i(y)}}).bind(this),m=function(y){try{return Gv(n,o).then((function(x){try{return a=x,f()}catch(S){return i(S)}}),i)}catch(x){return i(x)}};try{return o.libURL=o.libURL||"https://cdn.jsdelivr.net/npm/browser-image-compression@2.0.2/dist/browser-image-compression.js",WA(n,o).then((function(y){try{return a=y,f()}catch{return m()}}),m)}catch{m()}function g(){try{a.name=n.name,a.lastModified=n.lastModified}catch{}try{o.preserveExif&&n.type==="image/jpeg"&&(!o.fileType||o.fileType&&o.fileType===n.type)&&(a=xw(n,a))}catch{}return t(a)}}))}Dt.getDataUrlFromFile=Cw,Dt.getFilefromDataUrl=Yh,Dt.loadImage=_w,Dt.drawImageInCanvas=Ew,Dt.drawFileInCanvas=Bl,Dt.canvasToFile=$l,Dt.getExifOrientation=Aw,Dt.handleMaxWidthOrHeight=Tw,Dt.followExifOrientation=Dw,Dt.cleanupCanvasMemory=Vn,Dt.isAutoOrientationInBrowser=Cs,Dt.approximateBelowMaximumCanvasSizeOfBrowser=Pw,Dt.copyExifWithoutOrientation=xw,Dt.getBrowserName=ki,Dt.version="2.0.2";const GA=async n=>{const e={maxSizeMB:10,maxWidthOrHeight:3840,useWebWorker:!0};try{return await Dt(n,e)}catch(t){return console.error("Error compressing image:",t),n}},KA=async n=>{const e={maxSizeMB:.3,maxWidthOrHeight:800,useWebWorker:!0};try{return await Dt(n,e)}catch(t){return console.error("Error creating thumbnail:",t),n}},qA=async n=>new Promise(e=>{const t=new Image;t.crossOrigin="Anonymous",t.onload=()=>{const i=document.createElement("canvas"),o=i.getContext("2d");if(!o)return e([]);i.width=t.width,i.height=t.height,o.drawImage(t,0,0);const l=o.getImageData(0,0,i.width,i.height).data,c={};for(let p=0;p<l.length;p+=40){const f=l[p],m=l[p+1],g=l[p+2],y=`rgb(${f},${m},${g})`;c[y]=(c[y]||0)+1}const d=Object.entries(c).sort((p,f)=>f[1]-p[1]).slice(0,5).map(([p])=>p);e(d)},t.src=n});var iu=typeof self<"u"?self:global;const Bo=typeof navigator<"u",XA=Bo&&typeof HTMLImageElement>"u",zl=!(typeof global>"u"||typeof process>"u"||!process.versions||!process.versions.node),su=iu.Buffer,fl=iu.BigInt,ou=!!su,YA=n=>n;function Vl(n,e=YA){if(zl)try{return typeof require=="function"?Promise.resolve(e(require(n))):import(n).then(e)}catch{console.warn(`Couldn't load ${n}`)}}let Qh=iu.fetch;const QA=n=>Qh=n;if(!iu.fetch){const n=Vl("http",(i=>i)),e=Vl("https",(i=>i)),t=(i,{headers:o}={})=>new Promise((async(a,l)=>{let{port:c,hostname:d,pathname:p,protocol:f,search:m}=new URL(i);const g={method:"GET",hostname:d,path:encodeURI(p)+m,headers:o};c!==""&&(g.port=Number(c));const y=(f==="https:"?await e:await n).request(g,(x=>{if(x.statusCode===301||x.statusCode===302){let S=new URL(x.headers.location,i).toString();return t(S,{headers:o}).then(a).catch(l)}a({status:x.statusCode,arrayBuffer:()=>new Promise((S=>{let C=[];x.on("data",(P=>C.push(P))),x.on("end",(()=>S(Buffer.concat(C))))}))})}));y.on("error",l),y.end()}));QA(t)}function ke(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}const Hl=n=>jw(n)?void 0:n,JA=n=>n!==void 0;function jw(n){return n===void 0||(n instanceof Map?n.size===0:Object.values(n).filter(JA).length===0)}function mt(n){let e=new Error(n);throw delete e.stack,e}function Ci(n){return(n=(function(e){for(;e.endsWith("\0");)e=e.slice(0,-1);return e})(n).trim())===""?void 0:n}function ph(n){let e=(function(t){let i=0;return t.ifd0.enabled&&(i+=1024),t.exif.enabled&&(i+=2048),t.makerNote&&(i+=2048),t.userComment&&(i+=1024),t.gps.enabled&&(i+=512),t.interop.enabled&&(i+=100),t.ifd1.enabled&&(i+=1024),i+2048})(n);return n.jfif.enabled&&(e+=50),n.xmp.enabled&&(e+=2e4),n.iptc.enabled&&(e+=14e3),n.icc.enabled&&(e+=6e3),e}const mh=n=>String.fromCharCode.apply(null,n),Kv=typeof TextDecoder<"u"?new TextDecoder("utf-8"):void 0;function Iw(n){return Kv?Kv.decode(n):ou?Buffer.from(n).toString("utf8"):decodeURIComponent(escape(mh(n)))}class Jt{static from(e,t){return e instanceof this&&e.le===t?e:new Jt(e,void 0,void 0,t)}constructor(e,t=0,i,o){if(typeof o=="boolean"&&(this.le=o),Array.isArray(e)&&(e=new Uint8Array(e)),e===0)this.byteOffset=0,this.byteLength=0;else if(e instanceof ArrayBuffer){i===void 0&&(i=e.byteLength-t);let a=new DataView(e,t,i);this._swapDataView(a)}else if(e instanceof Uint8Array||e instanceof DataView||e instanceof Jt){i===void 0&&(i=e.byteLength-t),(t+=e.byteOffset)+i>e.byteOffset+e.byteLength&&mt("Creating view outside of available memory in ArrayBuffer");let a=new DataView(e.buffer,t,i);this._swapDataView(a)}else if(typeof e=="number"){let a=new DataView(new ArrayBuffer(e));this._swapDataView(a)}else mt("Invalid input argument for BufferView: "+e)}_swapArrayBuffer(e){this._swapDataView(new DataView(e))}_swapBuffer(e){this._swapDataView(new DataView(e.buffer,e.byteOffset,e.byteLength))}_swapDataView(e){this.dataView=e,this.buffer=e.buffer,this.byteOffset=e.byteOffset,this.byteLength=e.byteLength}_lengthToEnd(e){return this.byteLength-e}set(e,t,i=Jt){return e instanceof DataView||e instanceof Jt?e=new Uint8Array(e.buffer,e.byteOffset,e.byteLength):e instanceof ArrayBuffer&&(e=new Uint8Array(e)),e instanceof Uint8Array||mt("BufferView.set(): Invalid data argument."),this.toUint8().set(e,t),new i(this,t,e.byteLength)}subarray(e,t){return t=t||this._lengthToEnd(e),new Jt(this,e,t)}toUint8(){return new Uint8Array(this.buffer,this.byteOffset,this.byteLength)}getUint8Array(e,t){return new Uint8Array(this.buffer,this.byteOffset+e,t)}getString(e=0,t=this.byteLength){return Iw(this.getUint8Array(e,t))}getLatin1String(e=0,t=this.byteLength){let i=this.getUint8Array(e,t);return mh(i)}getUnicodeString(e=0,t=this.byteLength){const i=[];for(let o=0;o<t&&e+o<this.byteLength;o+=2)i.push(this.getUint16(e+o));return mh(i)}getInt8(e){return this.dataView.getInt8(e)}getUint8(e){return this.dataView.getUint8(e)}getInt16(e,t=this.le){return this.dataView.getInt16(e,t)}getInt32(e,t=this.le){return this.dataView.getInt32(e,t)}getUint16(e,t=this.le){return this.dataView.getUint16(e,t)}getUint32(e,t=this.le){return this.dataView.getUint32(e,t)}getFloat32(e,t=this.le){return this.dataView.getFloat32(e,t)}getFloat64(e,t=this.le){return this.dataView.getFloat64(e,t)}getFloat(e,t=this.le){return this.dataView.getFloat32(e,t)}getDouble(e,t=this.le){return this.dataView.getFloat64(e,t)}getUintBytes(e,t,i){switch(t){case 1:return this.getUint8(e,i);case 2:return this.getUint16(e,i);case 4:return this.getUint32(e,i);case 8:return this.getUint64&&this.getUint64(e,i)}}getUint(e,t,i){switch(t){case 8:return this.getUint8(e,i);case 16:return this.getUint16(e,i);case 32:return this.getUint32(e,i);case 64:return this.getUint64&&this.getUint64(e,i)}}toString(e){return this.dataView.toString(e,this.constructor.name)}ensureChunk(){}}function gh(n,e){mt(`${n} '${e}' was not loaded, try using full build of exifr.`)}class Jh extends Map{constructor(e){super(),this.kind=e}get(e,t){return this.has(e)||gh(this.kind,e),t&&(e in t||(function(i,o){mt(`Unknown ${i} '${o}'.`)})(this.kind,e),t[e].enabled||gh(this.kind,e)),super.get(e)}keyList(){return Array.from(this.keys())}}var Gn=new Jh("file parser"),pt=new Jh("segment parser"),Kn=new Jh("file reader");function ZA(n,e){return typeof n=="string"?qv(n,e):Bo&&!XA&&n instanceof HTMLImageElement?qv(n.src,e):n instanceof Uint8Array||n instanceof ArrayBuffer||n instanceof DataView?new Jt(n):Bo&&n instanceof Blob?vh(n,e,"blob",Ti):void mt("Invalid input argument")}function qv(n,e){return(t=n).startsWith("data:")||t.length>1e4?yh(n,e,"base64"):zl&&n.includes("://")?vh(n,e,"url",Ai):zl?yh(n,e,"fs"):Bo?vh(n,e,"url",Ai):void mt("Invalid input argument");var t}async function vh(n,e,t,i){return Kn.has(t)?yh(n,e,t):i?(async function(o,a){let l=await a(o);return new Jt(l)})(n,i):void mt(`Parser ${t} is not loaded`)}async function yh(n,e,t){let i=new(Kn.get(t))(n,e);return await i.read(),i}const Ai=n=>Qh(n).then((e=>e.arrayBuffer())),Ti=n=>new Promise(((e,t)=>{let i=new FileReader;i.onloadend=()=>e(i.result||new ArrayBuffer),i.onerror=t,i.readAsArrayBuffer(n)}));class eT extends Map{get tagKeys(){return this.allKeys||(this.allKeys=Array.from(this.keys())),this.allKeys}get tagValues(){return this.allValues||(this.allValues=Array.from(this.values())),this.allValues}}function ct(n,e,t){let i=new eT;for(let[o,a]of t)i.set(o,a);if(Array.isArray(e))for(let o of e)n.set(o,i);else n.set(e,i);return i}function Di(n,e,t){let i,o=n.get(e);for(i of t)o.set(i[0],i[1])}const Pt=new Map,On=new Map,Gr=new Map,$r=["chunked","firstChunkSize","firstChunkSizeNode","firstChunkSizeBrowser","chunkSize","chunkLimit"],Is=["jfif","xmp","icc","iptc","ihdr"],ji=["tiff",...Is],st=["ifd0","ifd1","exif","gps","interop"],zr=[...ji,...st],Vr=["makerNote","userComment"],Os=["translateKeys","translateValues","reviveValues","multiSegment"],Hr=[...Os,"sanitize","mergeOutput","silentErrors"];class Ow{get translate(){return this.translateKeys||this.translateValues||this.reviveValues}}class ko extends Ow{get needed(){return this.enabled||this.deps.size>0}constructor(e,t,i,o){if(super(),ke(this,"enabled",!1),ke(this,"skip",new Set),ke(this,"pick",new Set),ke(this,"deps",new Set),ke(this,"translateKeys",!1),ke(this,"translateValues",!1),ke(this,"reviveValues",!1),this.key=e,this.enabled=t,this.parse=this.enabled,this.applyInheritables(o),this.canBeFiltered=st.includes(e),this.canBeFiltered&&(this.dict=Pt.get(e)),i!==void 0)if(Array.isArray(i))this.parse=this.enabled=!0,this.canBeFiltered&&i.length>0&&this.translateTagSet(i,this.pick);else if(typeof i=="object"){if(this.enabled=!0,this.parse=i.parse!==!1,this.canBeFiltered){let{pick:a,skip:l}=i;a&&a.length>0&&this.translateTagSet(a,this.pick),l&&l.length>0&&this.translateTagSet(l,this.skip)}this.applyInheritables(i)}else i===!0||i===!1?this.parse=this.enabled=i:mt(`Invalid options argument: ${i}`)}applyInheritables(e){let t,i;for(t of Os)i=e[t],i!==void 0&&(this[t]=i)}translateTagSet(e,t){if(this.dict){let i,o,{tagKeys:a,tagValues:l}=this.dict;for(i of e)typeof i=="string"?(o=l.indexOf(i),o===-1&&(o=a.indexOf(Number(i))),o!==-1&&t.add(Number(a[o]))):t.add(i)}else for(let i of e)t.add(i)}finalizeFilters(){!this.enabled&&this.deps.size>0?(this.enabled=!0,Wl(this.pick,this.deps)):this.enabled&&this.pick.size>0&&Wl(this.pick,this.deps)}}var zt={jfif:!1,tiff:!0,xmp:!1,icc:!1,iptc:!1,ifd0:!0,ifd1:!1,exif:!0,gps:!0,interop:!1,ihdr:void 0,makerNote:!1,userComment:!1,multiSegment:!1,skip:[],pick:[],translateKeys:!0,translateValues:!0,reviveValues:!0,sanitize:!0,mergeOutput:!0,silentErrors:!0,chunked:!0,firstChunkSize:void 0,firstChunkSizeNode:512,firstChunkSizeBrowser:65536,chunkSize:65536,chunkLimit:5},Xv=new Map;class Mi extends Ow{static useCached(e){let t=Xv.get(e);return t!==void 0||(t=new this(e),Xv.set(e,t)),t}constructor(e){super(),e===!0?this.setupFromTrue():e===void 0?this.setupFromUndefined():Array.isArray(e)?this.setupFromArray(e):typeof e=="object"?this.setupFromObject(e):mt(`Invalid options argument ${e}`),this.firstChunkSize===void 0&&(this.firstChunkSize=Bo?this.firstChunkSizeBrowser:this.firstChunkSizeNode),this.mergeOutput&&(this.ifd1.enabled=!1),this.filterNestedSegmentTags(),this.traverseTiffDependencyTree(),this.checkLoadedPlugins()}setupFromUndefined(){let e;for(e of $r)this[e]=zt[e];for(e of Hr)this[e]=zt[e];for(e of Vr)this[e]=zt[e];for(e of zr)this[e]=new ko(e,zt[e],void 0,this)}setupFromTrue(){let e;for(e of $r)this[e]=zt[e];for(e of Hr)this[e]=zt[e];for(e of Vr)this[e]=!0;for(e of zr)this[e]=new ko(e,!0,void 0,this)}setupFromArray(e){let t;for(t of $r)this[t]=zt[t];for(t of Hr)this[t]=zt[t];for(t of Vr)this[t]=zt[t];for(t of zr)this[t]=new ko(t,!1,void 0,this);this.setupGlobalFilters(e,void 0,st)}setupFromObject(e){let t;for(t of(st.ifd0=st.ifd0||st.image,st.ifd1=st.ifd1||st.thumbnail,Object.assign(this,e),$r))this[t]=Pd(e[t],zt[t]);for(t of Hr)this[t]=Pd(e[t],zt[t]);for(t of Vr)this[t]=Pd(e[t],zt[t]);for(t of ji)this[t]=new ko(t,zt[t],e[t],this);for(t of st)this[t]=new ko(t,zt[t],e[t],this.tiff);this.setupGlobalFilters(e.pick,e.skip,st,zr),e.tiff===!0?this.batchEnableWithBool(st,!0):e.tiff===!1?this.batchEnableWithUserValue(st,e):Array.isArray(e.tiff)?this.setupGlobalFilters(e.tiff,void 0,st):typeof e.tiff=="object"&&this.setupGlobalFilters(e.tiff.pick,e.tiff.skip,st)}batchEnableWithBool(e,t){for(let i of e)this[i].enabled=t}batchEnableWithUserValue(e,t){for(let i of e){let o=t[i];this[i].enabled=o!==!1&&o!==void 0}}setupGlobalFilters(e,t,i,o=i){if(e&&e.length){for(let l of o)this[l].enabled=!1;let a=Yv(e,i);for(let[l,c]of a)Wl(this[l].pick,c),this[l].enabled=!0}else if(t&&t.length){let a=Yv(t,i);for(let[l,c]of a)Wl(this[l].skip,c)}}filterNestedSegmentTags(){let{ifd0:e,exif:t,xmp:i,iptc:o,icc:a}=this;this.makerNote?t.deps.add(37500):t.skip.add(37500),this.userComment?t.deps.add(37510):t.skip.add(37510),i.enabled||e.skip.add(700),o.enabled||e.skip.add(33723),a.enabled||e.skip.add(34675)}traverseTiffDependencyTree(){let{ifd0:e,exif:t,gps:i,interop:o}=this;o.needed&&(t.deps.add(40965),e.deps.add(40965)),t.needed&&e.deps.add(34665),i.needed&&e.deps.add(34853),this.tiff.enabled=st.some((a=>this[a].enabled===!0))||this.makerNote||this.userComment;for(let a of st)this[a].finalizeFilters()}get onlyTiff(){return!Is.map((e=>this[e].enabled)).some((e=>e===!0))&&this.tiff.enabled}checkLoadedPlugins(){for(let e of ji)this[e].enabled&&!pt.has(e)&&gh("segment parser",e)}}function Yv(n,e){let t,i,o,a,l=[];for(o of e){for(a of(t=Pt.get(o),i=[],t))(n.includes(a[0])||n.includes(a[1]))&&i.push(a[0]);i.length&&l.push([o,i])}return l}function Pd(n,e){return n!==void 0?n:e!==void 0?e:void 0}function Wl(n,e){for(let t of e)n.add(t)}ke(Mi,"default",zt);class Jr{constructor(e){ke(this,"parsers",{}),ke(this,"output",{}),ke(this,"errors",[]),ke(this,"pushToErrors",(t=>this.errors.push(t))),this.options=Mi.useCached(e)}async read(e){this.file=await ZA(e,this.options)}setup(){if(this.fileParser)return;let{file:e}=this,t=e.getUint16(0);for(let[i,o]of Gn)if(o.canHandle(e,t))return this.fileParser=new o(this.options,this.file,this.parsers),e[i]=!0;this.file.close&&this.file.close(),mt("Unknown file format")}async parse(){let{output:e,errors:t}=this;return this.setup(),this.options.silentErrors?(await this.executeParsers().catch(this.pushToErrors),t.push(...this.fileParser.errors)):await this.executeParsers(),this.file.close&&this.file.close(),this.options.silentErrors&&t.length>0&&(e.errors=t),Hl(e)}async executeParsers(){let{output:e}=this;await this.fileParser.parse();let t=Object.values(this.parsers).map((async i=>{let o=await i.parse();i.assignToOutput(e,o)}));this.options.silentErrors&&(t=t.map((i=>i.catch(this.pushToErrors)))),await Promise.all(t)}async extractThumbnail(){this.setup();let{options:e,file:t}=this,i=pt.get("tiff",e);var o;if(t.tiff?o={start:0,type:"tiff"}:t.jpeg&&(o=await this.fileParser.getOrFindSegment("tiff")),o===void 0)return;let a=await this.fileParser.ensureSegmentChunk(o),l=this.parsers.tiff=new i(a,e,t),c=await l.extractThumbnail();return t.close&&t.close(),c}}async function au(n,e){let t=new Jr(e);return await t.read(n),t.parse()}var tT=Object.freeze({__proto__:null,parse:au,Exifr:Jr,fileParsers:Gn,segmentParsers:pt,fileReaders:Kn,tagKeys:Pt,tagValues:On,tagRevivers:Gr,createDictionary:ct,extendDictionary:Di,fetchUrlAsArrayBuffer:Ai,readBlobAsArrayBuffer:Ti,chunkedProps:$r,otherSegments:Is,segments:ji,tiffBlocks:st,segmentsAndBlocks:zr,tiffExtractables:Vr,inheritables:Os,allFormatters:Hr,Options:Mi});class lu{constructor(e,t,i){ke(this,"errors",[]),ke(this,"ensureSegmentChunk",(async o=>{let a=o.start,l=o.size||65536;if(this.file.chunked)if(this.file.available(a,l))o.chunk=this.file.subarray(a,l);else try{o.chunk=await this.file.readChunk(a,l)}catch(c){mt(`Couldn't read segment: ${JSON.stringify(o)}. ${c.message}`)}else this.file.byteLength>a+l?o.chunk=this.file.subarray(a,l):o.size===void 0?o.chunk=this.file.subarray(a):mt("Segment unreachable: "+JSON.stringify(o));return o.chunk})),this.extendOptions&&this.extendOptions(e),this.options=e,this.file=t,this.parsers=i}injectSegment(e,t){this.options[e].enabled&&this.createParser(e,t)}createParser(e,t){let i=new(pt.get(e))(t,this.options,this.file);return this.parsers[e]=i}createParsers(e){for(let t of e){let{type:i,chunk:o}=t,a=this.options[i];if(a&&a.enabled){let l=this.parsers[i];l&&l.append||l||this.createParser(i,o)}}}async readSegments(e){let t=e.map(this.ensureSegmentChunk);await Promise.all(t)}}class In{static findPosition(e,t){let i=e.getUint16(t+2)+2,o=typeof this.headerLength=="function"?this.headerLength(e,t,i):this.headerLength,a=t+o,l=i-o;return{offset:t,length:i,headerLength:o,start:a,size:l,end:a+l}}static parse(e,t={}){return new this(e,new Mi({[this.type]:t}),e).parse()}normalizeInput(e){return e instanceof Jt?e:new Jt(e)}constructor(e,t={},i){ke(this,"errors",[]),ke(this,"raw",new Map),ke(this,"handleError",(o=>{if(!this.options.silentErrors)throw o;this.errors.push(o.message)})),this.chunk=this.normalizeInput(e),this.file=i,this.type=this.constructor.type,this.globalOptions=this.options=t,this.localOptions=t[this.type],this.canTranslate=this.localOptions&&this.localOptions.translate}translate(){this.canTranslate&&(this.translated=this.translateBlock(this.raw,this.type))}get output(){return this.translated?this.translated:this.raw?Object.fromEntries(this.raw):void 0}translateBlock(e,t){let i=Gr.get(t),o=On.get(t),a=Pt.get(t),l=this.options[t],c=l.reviveValues&&!!i,d=l.translateValues&&!!o,p=l.translateKeys&&!!a,f={};for(let[m,g]of e)c&&i.has(m)?g=i.get(m)(g):d&&o.has(m)&&(g=this.translateValue(g,o.get(m))),p&&a.has(m)&&(m=a.get(m)||m),f[m]=g;return f}translateValue(e,t){return t[e]||t.DEFAULT||e}assignToOutput(e,t){this.assignObjectToOutput(e,this.constructor.type,t)}assignObjectToOutput(e,t,i){if(this.globalOptions.mergeOutput)return Object.assign(e,i);e[t]?Object.assign(e[t],i):e[t]=i}}ke(In,"headerLength",4),ke(In,"type",void 0),ke(In,"multiSegment",!1),ke(In,"canHandle",(()=>!1));function nT(n){return n===192||n===194||n===196||n===219||n===221||n===218||n===254}function rT(n){return n>=224&&n<=239}function iT(n,e,t){for(let[i,o]of pt)if(o.canHandle(n,e,t))return i}class Qv extends lu{constructor(...e){super(...e),ke(this,"appSegments",[]),ke(this,"jpegSegments",[]),ke(this,"unknownSegments",[])}static canHandle(e,t){return t===65496}async parse(){await this.findAppSegments(),await this.readSegments(this.appSegments),this.mergeMultiSegments(),this.createParsers(this.mergedAppSegments||this.appSegments)}setupSegmentFinderArgs(e){e===!0?(this.findAll=!0,this.wanted=new Set(pt.keyList())):(e=e===void 0?pt.keyList().filter((t=>this.options[t].enabled)):e.filter((t=>this.options[t].enabled&&pt.has(t))),this.findAll=!1,this.remaining=new Set(e),this.wanted=new Set(e)),this.unfinishedMultiSegment=!1}async findAppSegments(e=0,t){this.setupSegmentFinderArgs(t);let{file:i,findAll:o,wanted:a,remaining:l}=this;if(!o&&this.file.chunked&&(o=Array.from(a).some((c=>{let d=pt.get(c),p=this.options[c];return d.multiSegment&&p.multiSegment})),o&&await this.file.readWhole()),e=this.findAppSegmentsInRange(e,i.byteLength),!this.options.onlyTiff&&i.chunked){let c=!1;for(;l.size>0&&!c&&(i.canReadNextChunk||this.unfinishedMultiSegment);){let{nextChunkOffset:d}=i,p=this.appSegments.some((f=>!this.file.available(f.offset||f.start,f.length||f.size)));if(c=e>d&&!p?!await i.readNextChunk(e):!await i.readNextChunk(d),(e=this.findAppSegmentsInRange(e,i.byteLength))===void 0)return}}}findAppSegmentsInRange(e,t){t-=2;let i,o,a,l,c,d,{file:p,findAll:f,wanted:m,remaining:g,options:y}=this;for(;e<t;e++)if(p.getUint8(e)===255){if(i=p.getUint8(e+1),rT(i)){if(o=p.getUint16(e+2),a=iT(p,e,o),a&&m.has(a)&&(l=pt.get(a),c=l.findPosition(p,e),d=y[a],c.type=a,this.appSegments.push(c),!f&&(l.multiSegment&&d.multiSegment?(this.unfinishedMultiSegment=c.chunkNumber<c.chunkCount,this.unfinishedMultiSegment||g.delete(a)):g.delete(a),g.size===0)))break;y.recordUnknownSegments&&(c=In.findPosition(p,e),c.marker=i,this.unknownSegments.push(c)),e+=o+1}else if(nT(i)){if(o=p.getUint16(e+2),i===218&&y.stopAfterSos!==!1)return;y.recordJpegSegments&&this.jpegSegments.push({offset:e,length:o,marker:i}),e+=o+1}}return e}mergeMultiSegments(){if(!this.appSegments.some((t=>t.multiSegment)))return;let e=(function(t,i){let o,a,l,c=new Map;for(let d=0;d<t.length;d++)o=t[d],a=o[i],c.has(a)?l=c.get(a):c.set(a,l=[]),l.push(o);return Array.from(c)})(this.appSegments,"type");this.mergedAppSegments=e.map((([t,i])=>{let o=pt.get(t,this.options);return o.handleMultiSegments?{type:t,chunk:o.handleMultiSegments(i)}:i[0]}))}getSegment(e){return this.appSegments.find((t=>t.type===e))}async getOrFindSegment(e){let t=this.getSegment(e);return t===void 0&&(await this.findAppSegments(0,[e]),t=this.getSegment(e)),t}}ke(Qv,"type","jpeg"),Gn.set("jpeg",Qv);const sT=[void 0,1,1,2,4,8,1,1,2,4,8,4,8,4];class oT extends In{parseHeader(){var e=this.chunk.getUint16();e===18761?this.le=!0:e===19789&&(this.le=!1),this.chunk.le=this.le,this.headerParsed=!0}parseTags(e,t,i=new Map){let{pick:o,skip:a}=this.options[t];o=new Set(o);let l=o.size>0,c=a.size===0,d=this.chunk.getUint16(e);e+=2;for(let p=0;p<d;p++){let f=this.chunk.getUint16(e);if(l){if(o.has(f)&&(i.set(f,this.parseTag(e,f,t)),o.delete(f),o.size===0))break}else!c&&a.has(f)||i.set(f,this.parseTag(e,f,t));e+=12}return i}parseTag(e,t,i){let{chunk:o}=this,a=o.getUint16(e+2),l=o.getUint32(e+4),c=sT[a];if(c*l<=4?e+=8:e=o.getUint32(e+8),(a<1||a>13)&&mt(`Invalid TIFF value type. block: ${i.toUpperCase()}, tag: ${t.toString(16)}, type: ${a}, offset ${e}`),e>o.byteLength&&mt(`Invalid TIFF value offset. block: ${i.toUpperCase()}, tag: ${t.toString(16)}, type: ${a}, offset ${e} is outside of chunk size ${o.byteLength}`),a===1)return o.getUint8Array(e,l);if(a===2)return Ci(o.getString(e,l));if(a===7)return o.getUint8Array(e,l);if(l===1)return this.parseTagValue(a,e);{let d=new((function(f){switch(f){case 1:return Uint8Array;case 3:return Uint16Array;case 4:return Uint32Array;case 5:return Array;case 6:return Int8Array;case 8:return Int16Array;case 9:return Int32Array;case 10:return Array;case 11:return Float32Array;case 12:return Float64Array;default:return Array}})(a))(l),p=c;for(let f=0;f<l;f++)d[f]=this.parseTagValue(a,e),e+=p;return d}}parseTagValue(e,t){let{chunk:i}=this;switch(e){case 1:return i.getUint8(t);case 3:return i.getUint16(t);case 4:return i.getUint32(t);case 5:return i.getUint32(t)/i.getUint32(t+4);case 6:return i.getInt8(t);case 8:return i.getInt16(t);case 9:return i.getInt32(t);case 10:return i.getInt32(t)/i.getInt32(t+4);case 11:return i.getFloat(t);case 12:return i.getDouble(t);case 13:return i.getUint32(t);default:mt(`Invalid tiff type ${e}`)}}}class Ed extends oT{static canHandle(e,t){return e.getUint8(t+1)===225&&e.getUint32(t+4)===1165519206&&e.getUint16(t+8)===0}async parse(){this.parseHeader();let{options:e}=this;return e.ifd0.enabled&&await this.parseIfd0Block(),e.exif.enabled&&await this.safeParse("parseExifBlock"),e.gps.enabled&&await this.safeParse("parseGpsBlock"),e.interop.enabled&&await this.safeParse("parseInteropBlock"),e.ifd1.enabled&&await this.safeParse("parseThumbnailBlock"),this.createOutput()}safeParse(e){let t=this[e]();return t.catch!==void 0&&(t=t.catch(this.handleError)),t}findIfd0Offset(){this.ifd0Offset===void 0&&(this.ifd0Offset=this.chunk.getUint32(4))}findIfd1Offset(){if(this.ifd1Offset===void 0){this.findIfd0Offset();let e=this.chunk.getUint16(this.ifd0Offset),t=this.ifd0Offset+2+12*e;this.ifd1Offset=this.chunk.getUint32(t)}}parseBlock(e,t){let i=new Map;return this[t]=i,this.parseTags(e,t,i),i}async parseIfd0Block(){if(this.ifd0)return;let{file:e}=this;this.findIfd0Offset(),this.ifd0Offset<8&&mt("Malformed EXIF data"),!e.chunked&&this.ifd0Offset>e.byteLength&&mt(`IFD0 offset points to outside of file.
this.ifd0Offset: ${this.ifd0Offset}, file.byteLength: ${e.byteLength}`),e.tiff&&await e.ensureChunk(this.ifd0Offset,ph(this.options));let t=this.parseBlock(this.ifd0Offset,"ifd0");return t.size!==0?(this.exifOffset=t.get(34665),this.interopOffset=t.get(40965),this.gpsOffset=t.get(34853),this.xmp=t.get(700),this.iptc=t.get(33723),this.icc=t.get(34675),this.options.sanitize&&(t.delete(34665),t.delete(40965),t.delete(34853),t.delete(700),t.delete(33723),t.delete(34675)),t):void 0}async parseExifBlock(){if(this.exif||(this.ifd0||await this.parseIfd0Block(),this.exifOffset===void 0))return;this.file.tiff&&await this.file.ensureChunk(this.exifOffset,ph(this.options));let e=this.parseBlock(this.exifOffset,"exif");return this.interopOffset||(this.interopOffset=e.get(40965)),this.makerNote=e.get(37500),this.userComment=e.get(37510),this.options.sanitize&&(e.delete(40965),e.delete(37500),e.delete(37510)),this.unpack(e,41728),this.unpack(e,41729),e}unpack(e,t){let i=e.get(t);i&&i.length===1&&e.set(t,i[0])}async parseGpsBlock(){if(this.gps||(this.ifd0||await this.parseIfd0Block(),this.gpsOffset===void 0))return;let e=this.parseBlock(this.gpsOffset,"gps");return e&&e.has(2)&&e.has(4)&&(e.set("latitude",Jv(...e.get(2),e.get(1))),e.set("longitude",Jv(...e.get(4),e.get(3)))),e}async parseInteropBlock(){if(!this.interop&&(this.ifd0||await this.parseIfd0Block(),this.interopOffset!==void 0||this.exif||await this.parseExifBlock(),this.interopOffset!==void 0))return this.parseBlock(this.interopOffset,"interop")}async parseThumbnailBlock(e=!1){if(!this.ifd1&&!this.ifd1Parsed&&(!this.options.mergeOutput||e))return this.findIfd1Offset(),this.ifd1Offset>0&&(this.parseBlock(this.ifd1Offset,"ifd1"),this.ifd1Parsed=!0),this.ifd1}async extractThumbnail(){if(this.headerParsed||this.parseHeader(),this.ifd1Parsed||await this.parseThumbnailBlock(!0),this.ifd1===void 0)return;let e=this.ifd1.get(513),t=this.ifd1.get(514);return this.chunk.getUint8Array(e,t)}get image(){return this.ifd0}get thumbnail(){return this.ifd1}createOutput(){let e,t,i,o={};for(t of st)if(e=this[t],!jw(e))if(i=this.canTranslate?this.translateBlock(e,t):Object.fromEntries(e),this.options.mergeOutput){if(t==="ifd1")continue;Object.assign(o,i)}else o[t]=i;return this.makerNote&&(o.makerNote=this.makerNote),this.userComment&&(o.userComment=this.userComment),o}assignToOutput(e,t){if(this.globalOptions.mergeOutput)Object.assign(e,t);else for(let[i,o]of Object.entries(t))this.assignObjectToOutput(e,i,o)}}function Jv(n,e,t,i){var o=n+e/60+t/3600;return i!=="S"&&i!=="W"||(o*=-1),o}ke(Ed,"type","tiff"),ke(Ed,"headerLength",10),pt.set("tiff",Ed);var aT=Object.freeze({__proto__:null,default:tT,Exifr:Jr,fileParsers:Gn,segmentParsers:pt,fileReaders:Kn,tagKeys:Pt,tagValues:On,tagRevivers:Gr,createDictionary:ct,extendDictionary:Di,fetchUrlAsArrayBuffer:Ai,readBlobAsArrayBuffer:Ti,chunkedProps:$r,otherSegments:Is,segments:ji,tiffBlocks:st,segmentsAndBlocks:zr,tiffExtractables:Vr,inheritables:Os,allFormatters:Hr,Options:Mi,parse:au});const Zh={ifd0:!1,ifd1:!1,exif:!1,gps:!1,interop:!1,sanitize:!1,reviveValues:!0,translateKeys:!1,translateValues:!1,mergeOutput:!1},ef=Object.assign({},Zh,{firstChunkSize:4e4,gps:[1,2,3,4]});async function Rw(n){let e=new Jr(ef);await e.read(n);let t=await e.parse();if(t&&t.gps){let{latitude:i,longitude:o}=t.gps;return{latitude:i,longitude:o}}}const tf=Object.assign({},Zh,{tiff:!1,ifd1:!0,mergeOutput:!1});async function Lw(n){let e=new Jr(tf);await e.read(n);let t=await e.extractThumbnail();return t&&ou?su.from(t):t}async function Mw(n){let e=await this.thumbnail(n);if(e!==void 0){let t=new Blob([e]);return URL.createObjectURL(t)}}const nf=Object.assign({},Zh,{firstChunkSize:4e4,ifd0:[274]});async function rf(n){let e=new Jr(nf);await e.read(n);let t=await e.parse();if(t&&t.ifd0)return t.ifd0[274]}const sf=Object.freeze({1:{dimensionSwapped:!1,scaleX:1,scaleY:1,deg:0,rad:0},2:{dimensionSwapped:!1,scaleX:-1,scaleY:1,deg:0,rad:0},3:{dimensionSwapped:!1,scaleX:1,scaleY:1,deg:180,rad:180*Math.PI/180},4:{dimensionSwapped:!1,scaleX:-1,scaleY:1,deg:180,rad:180*Math.PI/180},5:{dimensionSwapped:!0,scaleX:1,scaleY:-1,deg:90,rad:90*Math.PI/180},6:{dimensionSwapped:!0,scaleX:1,scaleY:1,deg:90,rad:90*Math.PI/180},7:{dimensionSwapped:!0,scaleX:1,scaleY:-1,deg:270,rad:270*Math.PI/180},8:{dimensionSwapped:!0,scaleX:1,scaleY:1,deg:270,rad:270*Math.PI/180}});let _i=!0,Pi=!0;if(typeof navigator=="object"){let n=navigator.userAgent;if(n.includes("iPad")||n.includes("iPhone")){let e=n.match(/OS (\d+)_(\d+)/);if(e){let[,t,i]=e;_i=Number(t)+.1*Number(i)<13.4,Pi=!1}}else if(n.includes("OS X 10")){let[,e]=n.match(/OS X 10[_.](\d+)/);_i=Pi=Number(e)<15}if(n.includes("Chrome/")){let[,e]=n.match(/Chrome\/(\d+)/);_i=Pi=Number(e)<81}else if(n.includes("Firefox/")){let[,e]=n.match(/Firefox\/(\d+)/);_i=Pi=Number(e)<77}}async function Fw(n){let e=await rf(n);return Object.assign({canvas:_i,css:Pi},sf[e])}class lT extends Jt{constructor(...e){super(...e),ke(this,"ranges",new uT),this.byteLength!==0&&this.ranges.add(0,this.byteLength)}_tryExtend(e,t,i){if(e===0&&this.byteLength===0&&i){let o=new DataView(i.buffer||i,i.byteOffset,i.byteLength);this._swapDataView(o)}else{let o=e+t;if(o>this.byteLength){let{dataView:a}=this._extend(o);this._swapDataView(a)}}}_extend(e){let t;t=ou?su.allocUnsafe(e):new Uint8Array(e);let i=new DataView(t.buffer,t.byteOffset,t.byteLength);return t.set(new Uint8Array(this.buffer,this.byteOffset,this.byteLength),0),{uintView:t,dataView:i}}subarray(e,t,i=!1){return t=t||this._lengthToEnd(e),i&&this._tryExtend(e,t),this.ranges.add(e,t),super.subarray(e,t)}set(e,t,i=!1){i&&this._tryExtend(t,e.byteLength,e);let o=super.set(e,t);return this.ranges.add(t,o.byteLength),o}async ensureChunk(e,t){this.chunked&&(this.ranges.available(e,t)||await this.readChunk(e,t))}available(e,t){return this.ranges.available(e,t)}}class uT{constructor(){ke(this,"list",[])}get length(){return this.list.length}add(e,t,i=0){let o=e+t,a=this.list.filter((l=>Zv(e,l.offset,o)||Zv(e,l.end,o)));if(a.length>0){e=Math.min(e,...a.map((c=>c.offset))),o=Math.max(o,...a.map((c=>c.end))),t=o-e;let l=a.shift();l.offset=e,l.length=t,l.end=o,this.list=this.list.filter((c=>!a.includes(c)))}else this.list.push({offset:e,length:t,end:o})}available(e,t){let i=e+t;return this.list.some((o=>o.offset<=e&&i<=o.end))}}function Zv(n,e,t){return n<=e&&e<=t}class uu extends lT{constructor(e,t){super(0),ke(this,"chunksRead",0),this.input=e,this.options=t}async readWhole(){this.chunked=!1,await this.readChunk(this.nextChunkOffset)}async readChunked(){this.chunked=!0,await this.readChunk(0,this.options.firstChunkSize)}async readNextChunk(e=this.nextChunkOffset){if(this.fullyRead)return this.chunksRead++,!1;let t=this.options.chunkSize,i=await this.readChunk(e,t);return!!i&&i.byteLength===t}async readChunk(e,t){if(this.chunksRead++,(t=this.safeWrapAddress(e,t))!==0)return this._readChunk(e,t)}safeWrapAddress(e,t){return this.size!==void 0&&e+t>this.size?Math.max(0,this.size-e):t}get nextChunkOffset(){if(this.ranges.list.length!==0)return this.ranges.list[0].length}get canReadNextChunk(){return this.chunksRead<this.options.chunkLimit}get fullyRead(){return this.size!==void 0&&this.nextChunkOffset===this.size}read(){return this.options.chunked?this.readChunked():this.readWhole()}close(){}}Kn.set("blob",class extends uu{async readWhole(){this.chunked=!1;let n=await Ti(this.input);this._swapArrayBuffer(n)}readChunked(){return this.chunked=!0,this.size=this.input.size,super.readChunked()}async _readChunk(n,e){let t=e?n+e:void 0,i=this.input.slice(n,t),o=await Ti(i);return this.set(o,n,!0)}});var cT=Object.freeze({__proto__:null,default:aT,Exifr:Jr,fileParsers:Gn,segmentParsers:pt,fileReaders:Kn,tagKeys:Pt,tagValues:On,tagRevivers:Gr,createDictionary:ct,extendDictionary:Di,fetchUrlAsArrayBuffer:Ai,readBlobAsArrayBuffer:Ti,chunkedProps:$r,otherSegments:Is,segments:ji,tiffBlocks:st,segmentsAndBlocks:zr,tiffExtractables:Vr,inheritables:Os,allFormatters:Hr,Options:Mi,parse:au,gpsOnlyOptions:ef,gps:Rw,thumbnailOnlyOptions:tf,thumbnail:Lw,thumbnailUrl:Mw,orientationOnlyOptions:nf,orientation:rf,rotations:sf,get rotateCanvas(){return _i},get rotateCss(){return Pi},rotation:Fw});Kn.set("url",class extends uu{async readWhole(){this.chunked=!1;let n=await Ai(this.input);n instanceof ArrayBuffer?this._swapArrayBuffer(n):n instanceof Uint8Array&&this._swapBuffer(n)}async _readChunk(n,e){let t=e?n+e-1:void 0,i=this.options.httpHeaders||{};(n||t)&&(i.range=`bytes=${[n,t].join("-")}`);let o=await Qh(this.input,{headers:i}),a=await o.arrayBuffer(),l=a.byteLength;if(o.status!==416)return l!==e&&(this.size=n+l),this.set(a,n,!0)}});Jt.prototype.getUint64=function(n){let e=this.getUint32(n),t=this.getUint32(n+4);return e<1048575?e<<32|t:typeof fl!==void 0?(console.warn("Using BigInt because of type 64uint but JS can only handle 53b numbers."),fl(e)<<fl(32)|fl(t)):void mt("Trying to read 64b value but JS can only handle 53b numbers.")};class dT extends lu{parseBoxes(e=0){let t=[];for(;e<this.file.byteLength-4;){let i=this.parseBoxHead(e);if(t.push(i),i.length===0)break;e+=i.length}return t}parseSubBoxes(e){e.boxes=this.parseBoxes(e.start)}findBox(e,t){return e.boxes===void 0&&this.parseSubBoxes(e),e.boxes.find((i=>i.kind===t))}parseBoxHead(e){let t=this.file.getUint32(e),i=this.file.getString(e+4,4),o=e+8;return t===1&&(t=this.file.getUint64(e+8),o+=8),{offset:e,length:t,kind:i,start:o}}parseBoxFullHead(e){if(e.version!==void 0)return;let t=this.file.getUint32(e.start);e.version=t>>24,e.start+=4}}class Nw extends dT{static canHandle(e,t){if(t!==0)return!1;let i=e.getUint16(2);if(i>50)return!1;let o=16,a=[];for(;o<i;)a.push(e.getString(o,4)),o+=4;return a.includes(this.type)}async parse(){let e=this.file.getUint32(0),t=this.parseBoxHead(e);for(;t.kind!=="meta";)e+=t.length,await this.file.ensureChunk(e,16),t=this.parseBoxHead(e);await this.file.ensureChunk(t.offset,t.length),this.parseBoxFullHead(t),this.parseSubBoxes(t),this.options.icc.enabled&&await this.findIcc(t),this.options.tiff.enabled&&await this.findExif(t)}async registerSegment(e,t,i){await this.file.ensureChunk(t,i);let o=this.file.subarray(t,i);this.createParser(e,o)}async findIcc(e){let t=this.findBox(e,"iprp");if(t===void 0)return;let i=this.findBox(t,"ipco");if(i===void 0)return;let o=this.findBox(i,"colr");o!==void 0&&await this.registerSegment("icc",o.offset+12,o.length)}async findExif(e){let t=this.findBox(e,"iinf");if(t===void 0)return;let i=this.findBox(e,"iloc");if(i===void 0)return;let o=this.findExifLocIdInIinf(t),a=this.findExtentInIloc(i,o);if(a===void 0)return;let[l,c]=a;await this.file.ensureChunk(l,c);let d=4+this.file.getUint32(l);l+=d,c-=d,await this.registerSegment("tiff",l,c)}findExifLocIdInIinf(e){this.parseBoxFullHead(e);let t,i,o,a,l=e.start,c=this.file.getUint16(l);for(l+=2;c--;){if(t=this.parseBoxHead(l),this.parseBoxFullHead(t),i=t.start,t.version>=2&&(o=t.version===3?4:2,a=this.file.getString(i+o+2,4),a==="Exif"))return this.file.getUintBytes(i,o);l+=t.length}}get8bits(e){let t=this.file.getUint8(e);return[t>>4,15&t]}findExtentInIloc(e,t){this.parseBoxFullHead(e);let i=e.start,[o,a]=this.get8bits(i++),[l,c]=this.get8bits(i++),d=e.version===2?4:2,p=e.version===1||e.version===2?2:0,f=c+o+a,m=e.version===2?4:2,g=this.file.getUintBytes(i,m);for(i+=m;g--;){let y=this.file.getUintBytes(i,d);i+=d+p+2+l;let x=this.file.getUint16(i);if(i+=2,y===t)return x>1&&console.warn(`ILOC box has more than one extent but we're only processing one
Please create an issue at https://github.com/MikeKovarik/exifr with this file`),[this.file.getUintBytes(i+c,o),this.file.getUintBytes(i+c+o,a)];i+=x*f}}}class Uw extends Nw{}ke(Uw,"type","heic");class e0 extends Nw{}ke(e0,"type","avif"),Gn.set("heic",Uw),Gn.set("avif",e0),ct(Pt,["ifd0","ifd1"],[[256,"ImageWidth"],[257,"ImageHeight"],[258,"BitsPerSample"],[259,"Compression"],[262,"PhotometricInterpretation"],[270,"ImageDescription"],[271,"Make"],[272,"Model"],[273,"StripOffsets"],[274,"Orientation"],[277,"SamplesPerPixel"],[278,"RowsPerStrip"],[279,"StripByteCounts"],[282,"XResolution"],[283,"YResolution"],[284,"PlanarConfiguration"],[296,"ResolutionUnit"],[301,"TransferFunction"],[305,"Software"],[306,"ModifyDate"],[315,"Artist"],[316,"HostComputer"],[317,"Predictor"],[318,"WhitePoint"],[319,"PrimaryChromaticities"],[513,"ThumbnailOffset"],[514,"ThumbnailLength"],[529,"YCbCrCoefficients"],[530,"YCbCrSubSampling"],[531,"YCbCrPositioning"],[532,"ReferenceBlackWhite"],[700,"ApplicationNotes"],[33432,"Copyright"],[33723,"IPTC"],[34665,"ExifIFD"],[34675,"ICC"],[34853,"GpsIFD"],[330,"SubIFD"],[40965,"InteropIFD"],[40091,"XPTitle"],[40092,"XPComment"],[40093,"XPAuthor"],[40094,"XPKeywords"],[40095,"XPSubject"]]),ct(Pt,"exif",[[33434,"ExposureTime"],[33437,"FNumber"],[34850,"ExposureProgram"],[34852,"SpectralSensitivity"],[34855,"ISO"],[34858,"TimeZoneOffset"],[34859,"SelfTimerMode"],[34864,"SensitivityType"],[34865,"StandardOutputSensitivity"],[34866,"RecommendedExposureIndex"],[34867,"ISOSpeed"],[34868,"ISOSpeedLatitudeyyy"],[34869,"ISOSpeedLatitudezzz"],[36864,"ExifVersion"],[36867,"DateTimeOriginal"],[36868,"CreateDate"],[36873,"GooglePlusUploadCode"],[36880,"OffsetTime"],[36881,"OffsetTimeOriginal"],[36882,"OffsetTimeDigitized"],[37121,"ComponentsConfiguration"],[37122,"CompressedBitsPerPixel"],[37377,"ShutterSpeedValue"],[37378,"ApertureValue"],[37379,"BrightnessValue"],[37380,"ExposureCompensation"],[37381,"MaxApertureValue"],[37382,"SubjectDistance"],[37383,"MeteringMode"],[37384,"LightSource"],[37385,"Flash"],[37386,"FocalLength"],[37393,"ImageNumber"],[37394,"SecurityClassification"],[37395,"ImageHistory"],[37396,"SubjectArea"],[37500,"MakerNote"],[37510,"UserComment"],[37520,"SubSecTime"],[37521,"SubSecTimeOriginal"],[37522,"SubSecTimeDigitized"],[37888,"AmbientTemperature"],[37889,"Humidity"],[37890,"Pressure"],[37891,"WaterDepth"],[37892,"Acceleration"],[37893,"CameraElevationAngle"],[40960,"FlashpixVersion"],[40961,"ColorSpace"],[40962,"ExifImageWidth"],[40963,"ExifImageHeight"],[40964,"RelatedSoundFile"],[41483,"FlashEnergy"],[41486,"FocalPlaneXResolution"],[41487,"FocalPlaneYResolution"],[41488,"FocalPlaneResolutionUnit"],[41492,"SubjectLocation"],[41493,"ExposureIndex"],[41495,"SensingMethod"],[41728,"FileSource"],[41729,"SceneType"],[41730,"CFAPattern"],[41985,"CustomRendered"],[41986,"ExposureMode"],[41987,"WhiteBalance"],[41988,"DigitalZoomRatio"],[41989,"FocalLengthIn35mmFormat"],[41990,"SceneCaptureType"],[41991,"GainControl"],[41992,"Contrast"],[41993,"Saturation"],[41994,"Sharpness"],[41996,"SubjectDistanceRange"],[42016,"ImageUniqueID"],[42032,"OwnerName"],[42033,"SerialNumber"],[42034,"LensInfo"],[42035,"LensMake"],[42036,"LensModel"],[42037,"LensSerialNumber"],[42080,"CompositeImage"],[42081,"CompositeImageCount"],[42082,"CompositeImageExposureTimes"],[42240,"Gamma"],[59932,"Padding"],[59933,"OffsetSchema"],[65e3,"OwnerName"],[65001,"SerialNumber"],[65002,"Lens"],[65100,"RawFile"],[65101,"Converter"],[65102,"WhiteBalance"],[65105,"Exposure"],[65106,"Shadows"],[65107,"Brightness"],[65108,"Contrast"],[65109,"Saturation"],[65110,"Sharpness"],[65111,"Smoothness"],[65112,"MoireFilter"],[40965,"InteropIFD"]]),ct(Pt,"gps",[[0,"GPSVersionID"],[1,"GPSLatitudeRef"],[2,"GPSLatitude"],[3,"GPSLongitudeRef"],[4,"GPSLongitude"],[5,"GPSAltitudeRef"],[6,"GPSAltitude"],[7,"GPSTimeStamp"],[8,"GPSSatellites"],[9,"GPSStatus"],[10,"GPSMeasureMode"],[11,"GPSDOP"],[12,"GPSSpeedRef"],[13,"GPSSpeed"],[14,"GPSTrackRef"],[15,"GPSTrack"],[16,"GPSImgDirectionRef"],[17,"GPSImgDirection"],[18,"GPSMapDatum"],[19,"GPSDestLatitudeRef"],[20,"GPSDestLatitude"],[21,"GPSDestLongitudeRef"],[22,"GPSDestLongitude"],[23,"GPSDestBearingRef"],[24,"GPSDestBearing"],[25,"GPSDestDistanceRef"],[26,"GPSDestDistance"],[27,"GPSProcessingMethod"],[28,"GPSAreaInformation"],[29,"GPSDateStamp"],[30,"GPSDifferential"],[31,"GPSHPositioningError"]]),ct(On,["ifd0","ifd1"],[[274,{1:"Horizontal (normal)",2:"Mirror horizontal",3:"Rotate 180",4:"Mirror vertical",5:"Mirror horizontal and rotate 270 CW",6:"Rotate 90 CW",7:"Mirror horizontal and rotate 90 CW",8:"Rotate 270 CW"}],[296,{1:"None",2:"inches",3:"cm"}]]);let Ro=ct(On,"exif",[[34850,{0:"Not defined",1:"Manual",2:"Normal program",3:"Aperture priority",4:"Shutter priority",5:"Creative program",6:"Action program",7:"Portrait mode",8:"Landscape mode"}],[37121,{0:"-",1:"Y",2:"Cb",3:"Cr",4:"R",5:"G",6:"B"}],[37383,{0:"Unknown",1:"Average",2:"CenterWeightedAverage",3:"Spot",4:"MultiSpot",5:"Pattern",6:"Partial",255:"Other"}],[37384,{0:"Unknown",1:"Daylight",2:"Fluorescent",3:"Tungsten (incandescent light)",4:"Flash",9:"Fine weather",10:"Cloudy weather",11:"Shade",12:"Daylight fluorescent (D 5700 - 7100K)",13:"Day white fluorescent (N 4600 - 5400K)",14:"Cool white fluorescent (W 3900 - 4500K)",15:"White fluorescent (WW 3200 - 3700K)",17:"Standard light A",18:"Standard light B",19:"Standard light C",20:"D55",21:"D65",22:"D75",23:"D50",24:"ISO studio tungsten",255:"Other"}],[37385,{0:"Flash did not fire",1:"Flash fired",5:"Strobe return light not detected",7:"Strobe return light detected",9:"Flash fired, compulsory flash mode",13:"Flash fired, compulsory flash mode, return light not detected",15:"Flash fired, compulsory flash mode, return light detected",16:"Flash did not fire, compulsory flash mode",24:"Flash did not fire, auto mode",25:"Flash fired, auto mode",29:"Flash fired, auto mode, return light not detected",31:"Flash fired, auto mode, return light detected",32:"No flash function",65:"Flash fired, red-eye reduction mode",69:"Flash fired, red-eye reduction mode, return light not detected",71:"Flash fired, red-eye reduction mode, return light detected",73:"Flash fired, compulsory flash mode, red-eye reduction mode",77:"Flash fired, compulsory flash mode, red-eye reduction mode, return light not detected",79:"Flash fired, compulsory flash mode, red-eye reduction mode, return light detected",89:"Flash fired, auto mode, red-eye reduction mode",93:"Flash fired, auto mode, return light not detected, red-eye reduction mode",95:"Flash fired, auto mode, return light detected, red-eye reduction mode"}],[41495,{1:"Not defined",2:"One-chip color area sensor",3:"Two-chip color area sensor",4:"Three-chip color area sensor",5:"Color sequential area sensor",7:"Trilinear sensor",8:"Color sequential linear sensor"}],[41728,{1:"Film Scanner",2:"Reflection Print Scanner",3:"Digital Camera"}],[41729,{1:"Directly photographed"}],[41985,{0:"Normal",1:"Custom",2:"HDR (no original saved)",3:"HDR (original saved)",4:"Original (for HDR)",6:"Panorama",7:"Portrait HDR",8:"Portrait"}],[41986,{0:"Auto",1:"Manual",2:"Auto bracket"}],[41987,{0:"Auto",1:"Manual"}],[41990,{0:"Standard",1:"Landscape",2:"Portrait",3:"Night",4:"Other"}],[41991,{0:"None",1:"Low gain up",2:"High gain up",3:"Low gain down",4:"High gain down"}],[41996,{0:"Unknown",1:"Macro",2:"Close",3:"Distant"}],[42080,{0:"Unknown",1:"Not a Composite Image",2:"General Composite Image",3:"Composite Image Captured While Shooting"}]]);const t0={1:"No absolute unit of measurement",2:"Inch",3:"Centimeter"};Ro.set(37392,t0),Ro.set(41488,t0);const Ad={0:"Normal",1:"Low",2:"High"};function n0(n){return typeof n=="object"&&n.length!==void 0?n[0]:n}function r0(n){let e=Array.from(n).slice(1);return e[1]>15&&(e=e.map((t=>String.fromCharCode(t)))),e[2]!=="0"&&e[2]!==0||e.pop(),e.join(".")}function Td(n){if(typeof n=="string"){var[e,t,i,o,a,l]=n.trim().split(/[-: ]/g).map(Number),c=new Date(e,t-1,i);return Number.isNaN(o)||Number.isNaN(a)||Number.isNaN(l)||(c.setHours(o),c.setMinutes(a),c.setSeconds(l)),Number.isNaN(+c)?n:c}}function Co(n){if(typeof n=="string")return n;let e=[];if(n[1]===0&&n[n.length-1]===0)for(let t=0;t<n.length;t+=2)e.push(i0(n[t+1],n[t]));else for(let t=0;t<n.length;t+=2)e.push(i0(n[t],n[t+1]));return Ci(String.fromCodePoint(...e))}function i0(n,e){return n<<8|e}Ro.set(41992,Ad),Ro.set(41993,Ad),Ro.set(41994,Ad),ct(Gr,["ifd0","ifd1"],[[50827,function(n){return typeof n!="string"?Iw(n):n}],[306,Td],[40091,Co],[40092,Co],[40093,Co],[40094,Co],[40095,Co]]),ct(Gr,"exif",[[40960,r0],[36864,r0],[36867,Td],[36868,Td],[40962,n0],[40963,n0]]),ct(Gr,"gps",[[0,n=>Array.from(n).join(".")],[7,n=>Array.from(n).join(":")]]);class Dd extends In{static canHandle(e,t){return e.getUint8(t+1)===225&&e.getUint32(t+4)===1752462448&&e.getString(t+4,20)==="http://ns.adobe.com/"}static headerLength(e,t){return e.getString(t+4,34)==="http://ns.adobe.com/xmp/extension/"?79:33}static findPosition(e,t){let i=super.findPosition(e,t);return i.multiSegment=i.extended=i.headerLength===79,i.multiSegment?(i.chunkCount=e.getUint8(t+72),i.chunkNumber=e.getUint8(t+76),e.getUint8(t+77)!==0&&i.chunkNumber++):(i.chunkCount=1/0,i.chunkNumber=-1),i}static handleMultiSegments(e){return e.map((t=>t.chunk.getString())).join("")}normalizeInput(e){return typeof e=="string"?e:Jt.from(e).getString()}parse(e=this.chunk){if(!this.localOptions.parse)return e;e=(function(a){let l={},c={};for(let d of Vw)l[d]=[],c[d]=0;return a.replace(mT,((d,p,f)=>{if(p==="<"){let m=++c[f];return l[f].push(m),`${d}#${m}`}return`${d}#${l[f].pop()}`}))})(e);let t=_s.findAll(e,"rdf","Description");t.length===0&&t.push(new _s("rdf","Description",void 0,e));let i,o={};for(let a of t)for(let l of a.properties)i=pT(l.ns,o),Bw(l,i);return(function(a){let l;for(let c in a)l=a[c]=Hl(a[c]),l===void 0&&delete a[c];return Hl(a)})(o)}assignToOutput(e,t){if(this.localOptions.parse)for(let[i,o]of Object.entries(t))switch(i){case"tiff":this.assignObjectToOutput(e,"ifd0",o);break;case"exif":this.assignObjectToOutput(e,"exif",o);break;case"xmlns":break;default:this.assignObjectToOutput(e,i,o)}else e.xmp=t}}ke(Dd,"type","xmp"),ke(Dd,"multiSegment",!0),pt.set("xmp",Dd);class Gl{static findAll(e){return $w(e,/([a-zA-Z0-9-]+):([a-zA-Z0-9-]+)=("[^"]*"|'[^']*')/gm).map(Gl.unpackMatch)}static unpackMatch(e){let t=e[1],i=e[2],o=e[3].slice(1,-1);return o=zw(o),new Gl(t,i,o)}constructor(e,t,i){this.ns=e,this.name=t,this.value=i}serialize(){return this.value}}class _s{static findAll(e,t,i){if(t!==void 0||i!==void 0){t=t||"[\\w\\d-]+",i=i||"[\\w\\d-]+";var o=new RegExp(`<(${t}):(${i})(#\\d+)?((\\s+?[\\w\\d-:]+=("[^"]*"|'[^']*'))*\\s*)(\\/>|>([\\s\\S]*?)<\\/\\1:\\2\\3>)`,"gm")}else o=/<([\w\d-]+):([\w\d-]+)(#\d+)?((\s+?[\w\d-:]+=("[^"]*"|'[^']*'))*\s*)(\/>|>([\s\S]*?)<\/\1:\2\3>)/gm;return $w(e,o).map(_s.unpackMatch)}static unpackMatch(e){let t=e[1],i=e[2],o=e[4],a=e[8];return new _s(t,i,o,a)}constructor(e,t,i,o){this.ns=e,this.name=t,this.attrString=i,this.innerXml=o,this.attrs=Gl.findAll(i),this.children=_s.findAll(o),this.value=this.children.length===0?zw(o):void 0,this.properties=[...this.attrs,...this.children]}get isPrimitive(){return this.value!==void 0&&this.attrs.length===0&&this.children.length===0}get isListContainer(){return this.children.length===1&&this.children[0].isList}get isList(){let{ns:e,name:t}=this;return e==="rdf"&&(t==="Seq"||t==="Bag"||t==="Alt")}get isListItem(){return this.ns==="rdf"&&this.name==="li"}serialize(){if(this.properties.length===0&&this.value===void 0)return;if(this.isPrimitive)return this.value;if(this.isListContainer)return this.children[0].serialize();if(this.isList)return fT(this.children.map(hT));if(this.isListItem&&this.children.length===1&&this.attrs.length===0)return this.children[0].serialize();let e={};for(let t of this.properties)Bw(t,e);return this.value!==void 0&&(e.value=this.value),Hl(e)}}function Bw(n,e){let t=n.serialize();t!==void 0&&(e[n.name]=t)}var hT=n=>n.serialize(),fT=n=>n.length===1?n[0]:n,pT=(n,e)=>e[n]?e[n]:e[n]={};function $w(n,e){let t,i=[];if(!n)return i;for(;(t=e.exec(n))!==null;)i.push(t);return i}function zw(n){if((function(i){return i==null||i==="null"||i==="undefined"||i===""||i.trim()===""})(n))return;let e=Number(n);if(!Number.isNaN(e))return e;let t=n.toLowerCase();return t==="true"||t!=="false"&&n.trim()}const Vw=["rdf:li","rdf:Seq","rdf:Bag","rdf:Alt","rdf:Description"],mT=new RegExp(`(<|\\/)(${Vw.join("|")})`,"g");var gT=Object.freeze({__proto__:null,default:cT,Exifr:Jr,fileParsers:Gn,segmentParsers:pt,fileReaders:Kn,tagKeys:Pt,tagValues:On,tagRevivers:Gr,createDictionary:ct,extendDictionary:Di,fetchUrlAsArrayBuffer:Ai,readBlobAsArrayBuffer:Ti,chunkedProps:$r,otherSegments:Is,segments:ji,tiffBlocks:st,segmentsAndBlocks:zr,tiffExtractables:Vr,inheritables:Os,allFormatters:Hr,Options:Mi,parse:au,gpsOnlyOptions:ef,gps:Rw,thumbnailOnlyOptions:tf,thumbnail:Lw,thumbnailUrl:Mw,orientationOnlyOptions:nf,orientation:rf,rotations:sf,get rotateCanvas(){return _i},get rotateCss(){return Pi},rotation:Fw});let s0=Vl("fs",(n=>n.promises));Kn.set("fs",class extends uu{async readWhole(){this.chunked=!1,this.fs=await s0;let n=await this.fs.readFile(this.input);this._swapBuffer(n)}async readChunked(){this.chunked=!0,this.fs=await s0,await this.open(),await this.readChunk(0,this.options.firstChunkSize)}async open(){this.fh===void 0&&(this.fh=await this.fs.open(this.input,"r"),this.size=(await this.fh.stat(this.input)).size)}async _readChunk(n,e){this.fh===void 0&&await this.open(),n+e>this.size&&(e=this.size-n);var t=this.subarray(n,e,!0);return await this.fh.read(t.dataView,0,e,n),t}async close(){if(this.fh){let n=this.fh;this.fh=void 0,await n.close()}}});Kn.set("base64",class extends uu{constructor(...n){super(...n),this.input=this.input.replace(/^data:([^;]+);base64,/gim,""),this.size=this.input.length/4*3,this.input.endsWith("==")?this.size-=2:this.input.endsWith("=")&&(this.size-=1)}async _readChunk(n,e){let t,i,o=this.input;n===void 0?(n=0,t=0,i=0):(t=4*Math.floor(n/3),i=n-t/4*3),e===void 0&&(e=this.size);let a=n+e,l=t+4*Math.ceil(a/3);o=o.slice(t,l);let c=Math.min(e,this.size-n);if(ou){let d=su.from(o,"base64").slice(i,i+c);return this.set(d,n,!0)}{let d=this.subarray(n,c,!0),p=atob(o),f=d.toUint8();for(let m=0;m<c;m++)f[m]=p.charCodeAt(i+m);return d}}});class o0 extends lu{static canHandle(e,t){return t===18761||t===19789}extendOptions(e){let{ifd0:t,xmp:i,iptc:o,icc:a}=e;i.enabled&&t.deps.add(700),o.enabled&&t.deps.add(33723),a.enabled&&t.deps.add(34675),t.finalizeFilters()}async parse(){let{tiff:e,xmp:t,iptc:i,icc:o}=this.options;if(e.enabled||t.enabled||i.enabled||o.enabled){let a=Math.max(ph(this.options),this.options.chunkSize);await this.file.ensureChunk(0,a),this.createParser("tiff",this.file),this.parsers.tiff.parseHeader(),await this.parsers.tiff.parseIfd0Block(),this.adaptTiffPropAsSegment("xmp"),this.adaptTiffPropAsSegment("iptc"),this.adaptTiffPropAsSegment("icc")}}adaptTiffPropAsSegment(e){if(this.parsers.tiff[e]){let t=this.parsers.tiff[e];this.injectSegment(e,t)}}}ke(o0,"type","tiff"),Gn.set("tiff",o0);let vT=Vl("zlib");const yT=["ihdr","iccp","text","itxt","exif"];class a0 extends lu{constructor(...e){super(...e),ke(this,"catchError",(t=>this.errors.push(t))),ke(this,"metaChunks",[]),ke(this,"unknownChunks",[])}static canHandle(e,t){return t===35152&&e.getUint32(0)===2303741511&&e.getUint32(4)===218765834}async parse(){let{file:e}=this;await this.findPngChunksInRange(8,e.byteLength),await this.readSegments(this.metaChunks),this.findIhdr(),this.parseTextChunks(),await this.findExif().catch(this.catchError),await this.findXmp().catch(this.catchError),await this.findIcc().catch(this.catchError)}async findPngChunksInRange(e,t){let{file:i}=this;for(;e<t;){let o=i.getUint32(e),a=i.getUint32(e+4),l=i.getString(e+4,4).toLowerCase(),c=o+4+4+4,d={type:l,offset:e,length:c,start:e+4+4,size:o,marker:a};yT.includes(l)?this.metaChunks.push(d):this.unknownChunks.push(d),e+=c}}parseTextChunks(){let e=this.metaChunks.filter((t=>t.type==="text"));for(let t of e){let[i,o]=this.file.getString(t.start,t.size).split("\0");this.injectKeyValToIhdr(i,o)}}injectKeyValToIhdr(e,t){let i=this.parsers.ihdr;i&&i.raw.set(e,t)}findIhdr(){let e=this.metaChunks.find((t=>t.type==="ihdr"));e&&this.options.ihdr.enabled!==!1&&this.createParser("ihdr",e.chunk)}async findExif(){let e=this.metaChunks.find((t=>t.type==="exif"));e&&this.injectSegment("tiff",e.chunk)}async findXmp(){let e=this.metaChunks.filter((t=>t.type==="itxt"));for(let t of e)t.chunk.getString(0,17)==="XML:com.adobe.xmp"&&this.injectSegment("xmp",t.chunk)}async findIcc(){let e=this.metaChunks.find((c=>c.type==="iccp"));if(!e)return;let{chunk:t}=e,i=t.getUint8Array(0,81),o=0;for(;o<80&&i[o]!==0;)o++;let a=o+2,l=t.getString(0,o);if(this.injectKeyValToIhdr("ProfileName",l),zl){let c=await vT,d=t.getUint8Array(a);d=c.inflateSync(d),this.injectSegment("icc",d)}}}ke(a0,"type","png"),Gn.set("png",a0),ct(Pt,"interop",[[1,"InteropIndex"],[2,"InteropVersion"],[4096,"RelatedImageFileFormat"],[4097,"RelatedImageWidth"],[4098,"RelatedImageHeight"]]),Di(Pt,"ifd0",[[11,"ProcessingSoftware"],[254,"SubfileType"],[255,"OldSubfileType"],[263,"Thresholding"],[264,"CellWidth"],[265,"CellLength"],[266,"FillOrder"],[269,"DocumentName"],[280,"MinSampleValue"],[281,"MaxSampleValue"],[285,"PageName"],[286,"XPosition"],[287,"YPosition"],[290,"GrayResponseUnit"],[297,"PageNumber"],[321,"HalftoneHints"],[322,"TileWidth"],[323,"TileLength"],[332,"InkSet"],[337,"TargetPrinter"],[18246,"Rating"],[18249,"RatingPercent"],[33550,"PixelScale"],[34264,"ModelTransform"],[34377,"PhotoshopSettings"],[50706,"DNGVersion"],[50707,"DNGBackwardVersion"],[50708,"UniqueCameraModel"],[50709,"LocalizedCameraModel"],[50736,"DNGLensInfo"],[50739,"ShadowScale"],[50740,"DNGPrivateData"],[33920,"IntergraphMatrix"],[33922,"ModelTiePoint"],[34118,"SEMInfo"],[34735,"GeoTiffDirectory"],[34736,"GeoTiffDoubleParams"],[34737,"GeoTiffAsciiParams"],[50341,"PrintIM"],[50721,"ColorMatrix1"],[50722,"ColorMatrix2"],[50723,"CameraCalibration1"],[50724,"CameraCalibration2"],[50725,"ReductionMatrix1"],[50726,"ReductionMatrix2"],[50727,"AnalogBalance"],[50728,"AsShotNeutral"],[50729,"AsShotWhiteXY"],[50730,"BaselineExposure"],[50731,"BaselineNoise"],[50732,"BaselineSharpness"],[50734,"LinearResponseLimit"],[50735,"CameraSerialNumber"],[50741,"MakerNoteSafety"],[50778,"CalibrationIlluminant1"],[50779,"CalibrationIlluminant2"],[50781,"RawDataUniqueID"],[50827,"OriginalRawFileName"],[50828,"OriginalRawFileData"],[50831,"AsShotICCProfile"],[50832,"AsShotPreProfileMatrix"],[50833,"CurrentICCProfile"],[50834,"CurrentPreProfileMatrix"],[50879,"ColorimetricReference"],[50885,"SRawType"],[50898,"PanasonicTitle"],[50899,"PanasonicTitle2"],[50931,"CameraCalibrationSig"],[50932,"ProfileCalibrationSig"],[50933,"ProfileIFD"],[50934,"AsShotProfileName"],[50936,"ProfileName"],[50937,"ProfileHueSatMapDims"],[50938,"ProfileHueSatMapData1"],[50939,"ProfileHueSatMapData2"],[50940,"ProfileToneCurve"],[50941,"ProfileEmbedPolicy"],[50942,"ProfileCopyright"],[50964,"ForwardMatrix1"],[50965,"ForwardMatrix2"],[50966,"PreviewApplicationName"],[50967,"PreviewApplicationVersion"],[50968,"PreviewSettingsName"],[50969,"PreviewSettingsDigest"],[50970,"PreviewColorSpace"],[50971,"PreviewDateTime"],[50972,"RawImageDigest"],[50973,"OriginalRawFileDigest"],[50981,"ProfileLookTableDims"],[50982,"ProfileLookTableData"],[51043,"TimeCodes"],[51044,"FrameRate"],[51058,"TStop"],[51081,"ReelName"],[51089,"OriginalDefaultFinalSize"],[51090,"OriginalBestQualitySize"],[51091,"OriginalDefaultCropSize"],[51105,"CameraLabel"],[51107,"ProfileHueSatMapEncoding"],[51108,"ProfileLookTableEncoding"],[51109,"BaselineExposureOffset"],[51110,"DefaultBlackRender"],[51111,"NewRawImageDigest"],[51112,"RawToPreviewGain"]]);let l0=[[273,"StripOffsets"],[279,"StripByteCounts"],[288,"FreeOffsets"],[289,"FreeByteCounts"],[291,"GrayResponseCurve"],[292,"T4Options"],[293,"T6Options"],[300,"ColorResponseUnit"],[320,"ColorMap"],[324,"TileOffsets"],[325,"TileByteCounts"],[326,"BadFaxLines"],[327,"CleanFaxData"],[328,"ConsecutiveBadFaxLines"],[330,"SubIFD"],[333,"InkNames"],[334,"NumberofInks"],[336,"DotRange"],[338,"ExtraSamples"],[339,"SampleFormat"],[340,"SMinSampleValue"],[341,"SMaxSampleValue"],[342,"TransferRange"],[343,"ClipPath"],[344,"XClipPathUnits"],[345,"YClipPathUnits"],[346,"Indexed"],[347,"JPEGTables"],[351,"OPIProxy"],[400,"GlobalParametersIFD"],[401,"ProfileType"],[402,"FaxProfile"],[403,"CodingMethods"],[404,"VersionYear"],[405,"ModeNumber"],[433,"Decode"],[434,"DefaultImageColor"],[435,"T82Options"],[437,"JPEGTables"],[512,"JPEGProc"],[515,"JPEGRestartInterval"],[517,"JPEGLosslessPredictors"],[518,"JPEGPointTransforms"],[519,"JPEGQTables"],[520,"JPEGDCTables"],[521,"JPEGACTables"],[559,"StripRowCounts"],[999,"USPTOMiscellaneous"],[18247,"XP_DIP_XML"],[18248,"StitchInfo"],[28672,"SonyRawFileType"],[28688,"SonyToneCurve"],[28721,"VignettingCorrection"],[28722,"VignettingCorrParams"],[28724,"ChromaticAberrationCorrection"],[28725,"ChromaticAberrationCorrParams"],[28726,"DistortionCorrection"],[28727,"DistortionCorrParams"],[29895,"SonyCropTopLeft"],[29896,"SonyCropSize"],[32781,"ImageID"],[32931,"WangTag1"],[32932,"WangAnnotation"],[32933,"WangTag3"],[32934,"WangTag4"],[32953,"ImageReferencePoints"],[32954,"RegionXformTackPoint"],[32955,"WarpQuadrilateral"],[32956,"AffineTransformMat"],[32995,"Matteing"],[32996,"DataType"],[32997,"ImageDepth"],[32998,"TileDepth"],[33300,"ImageFullWidth"],[33301,"ImageFullHeight"],[33302,"TextureFormat"],[33303,"WrapModes"],[33304,"FovCot"],[33305,"MatrixWorldToScreen"],[33306,"MatrixWorldToCamera"],[33405,"Model2"],[33421,"CFARepeatPatternDim"],[33422,"CFAPattern2"],[33423,"BatteryLevel"],[33424,"KodakIFD"],[33445,"MDFileTag"],[33446,"MDScalePixel"],[33447,"MDColorTable"],[33448,"MDLabName"],[33449,"MDSampleInfo"],[33450,"MDPrepDate"],[33451,"MDPrepTime"],[33452,"MDFileUnits"],[33589,"AdventScale"],[33590,"AdventRevision"],[33628,"UIC1Tag"],[33629,"UIC2Tag"],[33630,"UIC3Tag"],[33631,"UIC4Tag"],[33918,"IntergraphPacketData"],[33919,"IntergraphFlagRegisters"],[33921,"INGRReserved"],[34016,"Site"],[34017,"ColorSequence"],[34018,"IT8Header"],[34019,"RasterPadding"],[34020,"BitsPerRunLength"],[34021,"BitsPerExtendedRunLength"],[34022,"ColorTable"],[34023,"ImageColorIndicator"],[34024,"BackgroundColorIndicator"],[34025,"ImageColorValue"],[34026,"BackgroundColorValue"],[34027,"PixelIntensityRange"],[34028,"TransparencyIndicator"],[34029,"ColorCharacterization"],[34030,"HCUsage"],[34031,"TrapIndicator"],[34032,"CMYKEquivalent"],[34152,"AFCP_IPTC"],[34232,"PixelMagicJBIGOptions"],[34263,"JPLCartoIFD"],[34306,"WB_GRGBLevels"],[34310,"LeafData"],[34687,"TIFF_FXExtensions"],[34688,"MultiProfiles"],[34689,"SharedData"],[34690,"T88Options"],[34732,"ImageLayer"],[34750,"JBIGOptions"],[34856,"Opto-ElectricConvFactor"],[34857,"Interlace"],[34908,"FaxRecvParams"],[34909,"FaxSubAddress"],[34910,"FaxRecvTime"],[34929,"FedexEDR"],[34954,"LeafSubIFD"],[37387,"FlashEnergy"],[37388,"SpatialFrequencyResponse"],[37389,"Noise"],[37390,"FocalPlaneXResolution"],[37391,"FocalPlaneYResolution"],[37392,"FocalPlaneResolutionUnit"],[37397,"ExposureIndex"],[37398,"TIFF-EPStandardID"],[37399,"SensingMethod"],[37434,"CIP3DataFile"],[37435,"CIP3Sheet"],[37436,"CIP3Side"],[37439,"StoNits"],[37679,"MSDocumentText"],[37680,"MSPropertySetStorage"],[37681,"MSDocumentTextPosition"],[37724,"ImageSourceData"],[40965,"InteropIFD"],[40976,"SamsungRawPointersOffset"],[40977,"SamsungRawPointersLength"],[41217,"SamsungRawByteOrder"],[41218,"SamsungRawUnknown"],[41484,"SpatialFrequencyResponse"],[41485,"Noise"],[41489,"ImageNumber"],[41490,"SecurityClassification"],[41491,"ImageHistory"],[41494,"TIFF-EPStandardID"],[41995,"DeviceSettingDescription"],[42112,"GDALMetadata"],[42113,"GDALNoData"],[44992,"ExpandSoftware"],[44993,"ExpandLens"],[44994,"ExpandFilm"],[44995,"ExpandFilterLens"],[44996,"ExpandScanner"],[44997,"ExpandFlashLamp"],[46275,"HasselbladRawImage"],[48129,"PixelFormat"],[48130,"Transformation"],[48131,"Uncompressed"],[48132,"ImageType"],[48256,"ImageWidth"],[48257,"ImageHeight"],[48258,"WidthResolution"],[48259,"HeightResolution"],[48320,"ImageOffset"],[48321,"ImageByteCount"],[48322,"AlphaOffset"],[48323,"AlphaByteCount"],[48324,"ImageDataDiscard"],[48325,"AlphaDataDiscard"],[50215,"OceScanjobDesc"],[50216,"OceApplicationSelector"],[50217,"OceIDNumber"],[50218,"OceImageLogic"],[50255,"Annotations"],[50459,"HasselbladExif"],[50547,"OriginalFileName"],[50560,"USPTOOriginalContentType"],[50656,"CR2CFAPattern"],[50710,"CFAPlaneColor"],[50711,"CFALayout"],[50712,"LinearizationTable"],[50713,"BlackLevelRepeatDim"],[50714,"BlackLevel"],[50715,"BlackLevelDeltaH"],[50716,"BlackLevelDeltaV"],[50717,"WhiteLevel"],[50718,"DefaultScale"],[50719,"DefaultCropOrigin"],[50720,"DefaultCropSize"],[50733,"BayerGreenSplit"],[50737,"ChromaBlurRadius"],[50738,"AntiAliasStrength"],[50752,"RawImageSegmentation"],[50780,"BestQualityScale"],[50784,"AliasLayerMetadata"],[50829,"ActiveArea"],[50830,"MaskedAreas"],[50935,"NoiseReductionApplied"],[50974,"SubTileBlockSize"],[50975,"RowInterleaveFactor"],[51008,"OpcodeList1"],[51009,"OpcodeList2"],[51022,"OpcodeList3"],[51041,"NoiseProfile"],[51114,"CacheVersion"],[51125,"DefaultUserCrop"],[51157,"NikonNEFInfo"],[65024,"KdcIFD"]];Di(Pt,"ifd0",l0),Di(Pt,"exif",l0),ct(On,"gps",[[23,{M:"Magnetic North",T:"True North"}],[25,{K:"Kilometers",M:"Miles",N:"Nautical Miles"}]]);class jd extends In{static canHandle(e,t){return e.getUint8(t+1)===224&&e.getUint32(t+4)===1246120262&&e.getUint8(t+8)===0}parse(){return this.parseTags(),this.translate(),this.output}parseTags(){this.raw=new Map([[0,this.chunk.getUint16(0)],[2,this.chunk.getUint8(2)],[3,this.chunk.getUint16(3)],[5,this.chunk.getUint16(5)],[7,this.chunk.getUint8(7)],[8,this.chunk.getUint8(8)]])}}ke(jd,"type","jfif"),ke(jd,"headerLength",9),pt.set("jfif",jd),ct(Pt,"jfif",[[0,"JFIFVersion"],[2,"ResolutionUnit"],[3,"XResolution"],[5,"YResolution"],[7,"ThumbnailWidth"],[8,"ThumbnailHeight"]]);class u0 extends In{parse(){return this.parseTags(),this.translate(),this.output}parseTags(){this.raw=new Map([[0,this.chunk.getUint32(0)],[4,this.chunk.getUint32(4)],[8,this.chunk.getUint8(8)],[9,this.chunk.getUint8(9)],[10,this.chunk.getUint8(10)],[11,this.chunk.getUint8(11)],[12,this.chunk.getUint8(12)],...Array.from(this.raw)])}}ke(u0,"type","ihdr"),pt.set("ihdr",u0),ct(Pt,"ihdr",[[0,"ImageWidth"],[4,"ImageHeight"],[8,"BitDepth"],[9,"ColorType"],[10,"Compression"],[11,"Filter"],[12,"Interlace"]]),ct(On,"ihdr",[[9,{0:"Grayscale",2:"RGB",3:"Palette",4:"Grayscale with Alpha",6:"RGB with Alpha",DEFAULT:"Unknown"}],[10,{0:"Deflate/Inflate",DEFAULT:"Unknown"}],[11,{0:"Adaptive",DEFAULT:"Unknown"}],[12,{0:"Noninterlaced",1:"Adam7 Interlace",DEFAULT:"Unknown"}]]);class xl extends In{static canHandle(e,t){return e.getUint8(t+1)===226&&e.getUint32(t+4)===1229144927}static findPosition(e,t){let i=super.findPosition(e,t);return i.chunkNumber=e.getUint8(t+16),i.chunkCount=e.getUint8(t+17),i.multiSegment=i.chunkCount>1,i}static handleMultiSegments(e){return(function(t){let i=(function(o){let a=o[0].constructor,l=0;for(let p of o)l+=p.length;let c=new a(l),d=0;for(let p of o)c.set(p,d),d+=p.length;return c})(t.map((o=>o.chunk.toUint8())));return new Jt(i)})(e)}parse(){return this.raw=new Map,this.parseHeader(),this.parseTags(),this.translate(),this.output}parseHeader(){let{raw:e}=this;this.chunk.byteLength<84&&mt("ICC header is too short");for(let[t,i]of Object.entries(wT)){t=parseInt(t,10);let o=i(this.chunk,t);o!=="\0\0\0\0"&&e.set(t,o)}}parseTags(){let e,t,i,o,a,{raw:l}=this,c=this.chunk.getUint32(128),d=132,p=this.chunk.byteLength;for(;c--;){if(e=this.chunk.getString(d,4),t=this.chunk.getUint32(d+4),i=this.chunk.getUint32(d+8),o=this.chunk.getString(t,4),t+i>p)return void console.warn("reached the end of the first ICC chunk. Enable options.tiff.multiSegment to read all ICC segments.");a=this.parseTag(o,t,i),a!==void 0&&a!=="\0\0\0\0"&&l.set(e,a),d+=12}}parseTag(e,t,i){switch(e){case"desc":return this.parseDesc(t);case"mluc":return this.parseMluc(t);case"text":return this.parseText(t,i);case"sig ":return this.parseSig(t)}if(!(t+i>this.chunk.byteLength))return this.chunk.getUint8Array(t,i)}parseDesc(e){let t=this.chunk.getUint32(e+8)-1;return Ci(this.chunk.getString(e+12,t))}parseText(e,t){return Ci(this.chunk.getString(e+8,t-8))}parseSig(e){return Ci(this.chunk.getString(e+8,4))}parseMluc(e){let{chunk:t}=this,i=t.getUint32(e+8),o=t.getUint32(e+12),a=e+16,l=[];for(let c=0;c<i;c++){let d=t.getString(a+0,2),p=t.getString(a+2,2),f=t.getUint32(a+4),m=t.getUint32(a+8)+e,g=Ci(t.getUnicodeString(m,f));l.push({lang:d,country:p,text:g}),a+=o}return i===1?l[0].text:l}translateValue(e,t){return typeof e=="string"?t[e]||t[e.toLowerCase()]||e:t[e]||e}}ke(xl,"type","icc"),ke(xl,"multiSegment",!0),ke(xl,"headerLength",18);const wT={4:sr,8:function(n,e){return[n.getUint8(e),n.getUint8(e+1)>>4,n.getUint8(e+1)%16].map((t=>t.toString(10))).join(".")},12:sr,16:sr,20:sr,24:function(n,e){const t=n.getUint16(e),i=n.getUint16(e+2)-1,o=n.getUint16(e+4),a=n.getUint16(e+6),l=n.getUint16(e+8),c=n.getUint16(e+10);return new Date(Date.UTC(t,i,o,a,l,c))},36:sr,40:sr,48:sr,52:sr,64:(n,e)=>n.getUint32(e),80:sr};function sr(n,e){return Ci(n.getString(e,4))}pt.set("icc",xl),ct(Pt,"icc",[[4,"ProfileCMMType"],[8,"ProfileVersion"],[12,"ProfileClass"],[16,"ColorSpaceData"],[20,"ProfileConnectionSpace"],[24,"ProfileDateTime"],[36,"ProfileFileSignature"],[40,"PrimaryPlatform"],[44,"CMMFlags"],[48,"DeviceManufacturer"],[52,"DeviceModel"],[56,"DeviceAttributes"],[64,"RenderingIntent"],[68,"ConnectionSpaceIlluminant"],[80,"ProfileCreator"],[84,"ProfileID"],["Header","ProfileHeader"],["MS00","WCSProfiles"],["bTRC","BlueTRC"],["bXYZ","BlueMatrixColumn"],["bfd","UCRBG"],["bkpt","MediaBlackPoint"],["calt","CalibrationDateTime"],["chad","ChromaticAdaptation"],["chrm","Chromaticity"],["ciis","ColorimetricIntentImageState"],["clot","ColorantTableOut"],["clro","ColorantOrder"],["clrt","ColorantTable"],["cprt","ProfileCopyright"],["crdi","CRDInfo"],["desc","ProfileDescription"],["devs","DeviceSettings"],["dmdd","DeviceModelDesc"],["dmnd","DeviceMfgDesc"],["dscm","ProfileDescriptionML"],["fpce","FocalPlaneColorimetryEstimates"],["gTRC","GreenTRC"],["gXYZ","GreenMatrixColumn"],["gamt","Gamut"],["kTRC","GrayTRC"],["lumi","Luminance"],["meas","Measurement"],["meta","Metadata"],["mmod","MakeAndModel"],["ncl2","NamedColor2"],["ncol","NamedColor"],["ndin","NativeDisplayInfo"],["pre0","Preview0"],["pre1","Preview1"],["pre2","Preview2"],["ps2i","PS2RenderingIntent"],["ps2s","PostScript2CSA"],["psd0","PostScript2CRD0"],["psd1","PostScript2CRD1"],["psd2","PostScript2CRD2"],["psd3","PostScript2CRD3"],["pseq","ProfileSequenceDesc"],["psid","ProfileSequenceIdentifier"],["psvm","PS2CRDVMSize"],["rTRC","RedTRC"],["rXYZ","RedMatrixColumn"],["resp","OutputResponse"],["rhoc","ReflectionHardcopyOrigColorimetry"],["rig0","PerceptualRenderingIntentGamut"],["rig2","SaturationRenderingIntentGamut"],["rpoc","ReflectionPrintOutputColorimetry"],["sape","SceneAppearanceEstimates"],["scoe","SceneColorimetryEstimates"],["scrd","ScreeningDesc"],["scrn","Screening"],["targ","CharTarget"],["tech","Technology"],["vcgt","VideoCardGamma"],["view","ViewingConditions"],["vued","ViewingCondDesc"],["wtpt","MediaWhitePoint"]]);const pl={"4d2p":"Erdt Systems",AAMA:"Aamazing Technologies",ACER:"Acer",ACLT:"Acolyte Color Research",ACTI:"Actix Sytems",ADAR:"Adara Technology",ADBE:"Adobe",ADI:"ADI Systems",AGFA:"Agfa Graphics",ALMD:"Alps Electric",ALPS:"Alps Electric",ALWN:"Alwan Color Expertise",AMTI:"Amiable Technologies",AOC:"AOC International",APAG:"Apago",APPL:"Apple Computer",AST:"AST","AT&T":"AT&T",BAEL:"BARBIERI electronic",BRCO:"Barco NV",BRKP:"Breakpoint",BROT:"Brother",BULL:"Bull",BUS:"Bus Computer Systems","C-IT":"C-Itoh",CAMR:"Intel",CANO:"Canon",CARR:"Carroll Touch",CASI:"Casio",CBUS:"Colorbus PL",CEL:"Crossfield",CELx:"Crossfield",CGS:"CGS Publishing Technologies International",CHM:"Rochester Robotics",CIGL:"Colour Imaging Group, London",CITI:"Citizen",CL00:"Candela",CLIQ:"Color IQ",CMCO:"Chromaco",CMiX:"CHROMiX",COLO:"Colorgraphic Communications",COMP:"Compaq",COMp:"Compeq/Focus Technology",CONR:"Conrac Display Products",CORD:"Cordata Technologies",CPQ:"Compaq",CPRO:"ColorPro",CRN:"Cornerstone",CTX:"CTX International",CVIS:"ColorVision",CWC:"Fujitsu Laboratories",DARI:"Darius Technology",DATA:"Dataproducts",DCP:"Dry Creek Photo",DCRC:"Digital Contents Resource Center, Chung-Ang University",DELL:"Dell Computer",DIC:"Dainippon Ink and Chemicals",DICO:"Diconix",DIGI:"Digital","DL&C":"Digital Light & Color",DPLG:"Doppelganger",DS:"Dainippon Screen",DSOL:"DOOSOL",DUPN:"DuPont",EPSO:"Epson",ESKO:"Esko-Graphics",ETRI:"Electronics and Telecommunications Research Institute",EVER:"Everex Systems",EXAC:"ExactCODE",Eizo:"Eizo",FALC:"Falco Data Products",FF:"Fuji Photo Film",FFEI:"FujiFilm Electronic Imaging",FNRD:"Fnord Software",FORA:"Fora",FORE:"Forefront Technology",FP:"Fujitsu",FPA:"WayTech Development",FUJI:"Fujitsu",FX:"Fuji Xerox",GCC:"GCC Technologies",GGSL:"Global Graphics Software",GMB:"Gretagmacbeth",GMG:"GMG",GOLD:"GoldStar Technology",GOOG:"Google",GPRT:"Giantprint",GTMB:"Gretagmacbeth",GVC:"WayTech Development",GW2K:"Sony",HCI:"HCI",HDM:"Heidelberger Druckmaschinen",HERM:"Hermes",HITA:"Hitachi America",HP:"Hewlett-Packard",HTC:"Hitachi",HiTi:"HiTi Digital",IBM:"IBM",IDNT:"Scitex",IEC:"Hewlett-Packard",IIYA:"Iiyama North America",IKEG:"Ikegami Electronics",IMAG:"Image Systems",IMI:"Ingram Micro",INTC:"Intel",INTL:"N/A (INTL)",INTR:"Intra Electronics",IOCO:"Iocomm International Technology",IPS:"InfoPrint Solutions Company",IRIS:"Scitex",ISL:"Ichikawa Soft Laboratory",ITNL:"N/A (ITNL)",IVM:"IVM",IWAT:"Iwatsu Electric",Idnt:"Scitex",Inca:"Inca Digital Printers",Iris:"Scitex",JPEG:"Joint Photographic Experts Group",JSFT:"Jetsoft Development",JVC:"JVC Information Products",KART:"Scitex",KFC:"KFC Computek Components",KLH:"KLH Computers",KMHD:"Konica Minolta",KNCA:"Konica",KODA:"Kodak",KYOC:"Kyocera",Kart:"Scitex",LCAG:"Leica",LCCD:"Leeds Colour",LDAK:"Left Dakota",LEAD:"Leading Technology",LEXM:"Lexmark International",LINK:"Link Computer",LINO:"Linotronic",LITE:"Lite-On",Leaf:"Leaf",Lino:"Linotronic",MAGC:"Mag Computronic",MAGI:"MAG Innovision",MANN:"Mannesmann",MICN:"Micron Technology",MICR:"Microtek",MICV:"Microvitec",MINO:"Minolta",MITS:"Mitsubishi Electronics America",MITs:"Mitsuba",MNLT:"Minolta",MODG:"Modgraph",MONI:"Monitronix",MONS:"Monaco Systems",MORS:"Morse Technology",MOTI:"Motive Systems",MSFT:"Microsoft",MUTO:"MUTOH INDUSTRIES",Mits:"Mitsubishi Electric",NANA:"NANAO",NEC:"NEC",NEXP:"NexPress Solutions",NISS:"Nissei Sangyo America",NKON:"Nikon",NONE:"none",OCE:"Oce Technologies",OCEC:"OceColor",OKI:"Oki",OKID:"Okidata",OKIP:"Okidata",OLIV:"Olivetti",OLYM:"Olympus",ONYX:"Onyx Graphics",OPTI:"Optiquest",PACK:"Packard Bell",PANA:"Matsushita Electric Industrial",PANT:"Pantone",PBN:"Packard Bell",PFU:"PFU",PHIL:"Philips Consumer Electronics",PNTX:"HOYA",POne:"Phase One A/S",PREM:"Premier Computer Innovations",PRIN:"Princeton Graphic Systems",PRIP:"Princeton Publishing Labs",QLUX:"Hong Kong",QMS:"QMS",QPCD:"QPcard AB",QUAD:"QuadLaser",QUME:"Qume",RADI:"Radius",RDDx:"Integrated Color Solutions",RDG:"Roland DG",REDM:"REDMS Group",RELI:"Relisys",RGMS:"Rolf Gierling Multitools",RICO:"Ricoh",RNLD:"Edmund Ronald",ROYA:"Royal",RPC:"Ricoh Printing Systems",RTL:"Royal Information Electronics",SAMP:"Sampo",SAMS:"Samsung",SANT:"Jaime Santana Pomares",SCIT:"Scitex",SCRN:"Dainippon Screen",SDP:"Scitex",SEC:"Samsung",SEIK:"Seiko Instruments",SEIk:"Seikosha",SGUY:"ScanGuy.com",SHAR:"Sharp Laboratories",SICC:"International Color Consortium",SONY:"Sony",SPCL:"SpectraCal",STAR:"Star",STC:"Sampo Technology",Scit:"Scitex",Sdp:"Scitex",Sony:"Sony",TALO:"Talon Technology",TAND:"Tandy",TATU:"Tatung",TAXA:"TAXAN America",TDS:"Tokyo Denshi Sekei",TECO:"TECO Information Systems",TEGR:"Tegra",TEKT:"Tektronix",TI:"Texas Instruments",TMKR:"TypeMaker",TOSB:"Toshiba",TOSH:"Toshiba",TOTK:"TOTOKU ELECTRIC",TRIU:"Triumph",TSBT:"Toshiba",TTX:"TTX Computer Products",TVM:"TVM Professional Monitor",TW:"TW Casper",ULSX:"Ulead Systems",UNIS:"Unisys",UTZF:"Utz Fehlau & Sohn",VARI:"Varityper",VIEW:"Viewsonic",VISL:"Visual communication",VIVO:"Vivo Mobile Communication",WANG:"Wang",WLBR:"Wilbur Imaging",WTG2:"Ware To Go",WYSE:"WYSE Technology",XERX:"Xerox",XRIT:"X-Rite",ZRAN:"Zoran",Zebr:"Zebra Technologies",appl:"Apple Computer",bICC:"basICColor",berg:"bergdesign",ceyd:"Integrated Color Solutions",clsp:"MacDermid ColorSpan",ds:"Dainippon Screen",dupn:"DuPont",ffei:"FujiFilm Electronic Imaging",flux:"FluxData",iris:"Scitex",kart:"Scitex",lcms:"Little CMS",lino:"Linotronic",none:"none",ob4d:"Erdt Systems",obic:"Medigraph",quby:"Qubyx Sarl",scit:"Scitex",scrn:"Dainippon Screen",sdp:"Scitex",siwi:"SIWI GRAFIKA",yxym:"YxyMaster"},c0={scnr:"Scanner",mntr:"Monitor",prtr:"Printer",link:"Device Link",abst:"Abstract",spac:"Color Space Conversion Profile",nmcl:"Named Color",cenc:"ColorEncodingSpace profile",mid:"MultiplexIdentification profile",mlnk:"MultiplexLink profile",mvis:"MultiplexVisualization profile",nkpf:"Nikon Input Device Profile (NON-STANDARD!)"};ct(On,"icc",[[4,pl],[12,c0],[40,Object.assign({},pl,c0)],[48,pl],[80,pl],[64,{0:"Perceptual",1:"Relative Colorimetric",2:"Saturation",3:"Absolute Colorimetric"}],["tech",{amd:"Active Matrix Display",crt:"Cathode Ray Tube Display",kpcd:"Photo CD",pmd:"Passive Matrix Display",dcam:"Digital Camera",dcpj:"Digital Cinema Projector",dmpc:"Digital Motion Picture Camera",dsub:"Dye Sublimation Printer",epho:"Electrophotographic Printer",esta:"Electrostatic Printer",flex:"Flexography",fprn:"Film Writer",fscn:"Film Scanner",grav:"Gravure",ijet:"Ink Jet Printer",imgs:"Photo Image Setter",mpfr:"Motion Picture Film Recorder",mpfs:"Motion Picture Film Scanner",offs:"Offset Lithography",pjtv:"Projection Television",rpho:"Photographic Paper Printer",rscn:"Reflective Scanner",silk:"Silkscreen",twax:"Thermal Wax Printer",vidc:"Video Camera",vidm:"Video Monitor"}]]);class ml extends In{static canHandle(e,t,i){return e.getUint8(t+1)===237&&e.getString(t+4,9)==="Photoshop"&&this.containsIptc8bim(e,t,i)!==void 0}static headerLength(e,t,i){let o,a=this.containsIptc8bim(e,t,i);if(a!==void 0)return o=e.getUint8(t+a+7),o%2!=0&&(o+=1),o===0&&(o=4),a+8+o}static containsIptc8bim(e,t,i){for(let o=0;o<i;o++)if(this.isIptcSegmentHead(e,t+o))return o}static isIptcSegmentHead(e,t){return e.getUint8(t)===56&&e.getUint32(t)===943868237&&e.getUint16(t+4)===1028}parse(){let{raw:e}=this,t=this.chunk.byteLength-1,i=!1;for(let o=0;o<t;o++)if(this.chunk.getUint8(o)===28&&this.chunk.getUint8(o+1)===2){i=!0;let a=this.chunk.getUint16(o+3),l=this.chunk.getUint8(o+2),c=this.chunk.getLatin1String(o+5,a);e.set(l,this.pluralizeValue(e.get(l),c)),o+=4+a}else if(i)break;return this.translate(),this.output}pluralizeValue(e,t){return e!==void 0?e instanceof Array?(e.push(t),e):[e,t]:t}}ke(ml,"type","iptc"),ke(ml,"translateValues",!1),ke(ml,"reviveValues",!1),pt.set("iptc",ml),ct(Pt,"iptc",[[0,"ApplicationRecordVersion"],[3,"ObjectTypeReference"],[4,"ObjectAttributeReference"],[5,"ObjectName"],[7,"EditStatus"],[8,"EditorialUpdate"],[10,"Urgency"],[12,"SubjectReference"],[15,"Category"],[20,"SupplementalCategories"],[22,"FixtureIdentifier"],[25,"Keywords"],[26,"ContentLocationCode"],[27,"ContentLocationName"],[30,"ReleaseDate"],[35,"ReleaseTime"],[37,"ExpirationDate"],[38,"ExpirationTime"],[40,"SpecialInstructions"],[42,"ActionAdvised"],[45,"ReferenceService"],[47,"ReferenceDate"],[50,"ReferenceNumber"],[55,"DateCreated"],[60,"TimeCreated"],[62,"DigitalCreationDate"],[63,"DigitalCreationTime"],[65,"OriginatingProgram"],[70,"ProgramVersion"],[75,"ObjectCycle"],[80,"Byline"],[85,"BylineTitle"],[90,"City"],[92,"Sublocation"],[95,"State"],[100,"CountryCode"],[101,"Country"],[103,"OriginalTransmissionReference"],[105,"Headline"],[110,"Credit"],[115,"Source"],[116,"CopyrightNotice"],[118,"Contact"],[120,"Caption"],[121,"LocalCaption"],[122,"Writer"],[125,"RasterizedCaption"],[130,"ImageType"],[131,"ImageOrientation"],[135,"LanguageIdentifier"],[150,"AudioType"],[151,"AudioSamplingRate"],[152,"AudioSamplingResolution"],[153,"AudioDuration"],[154,"AudioOutcue"],[184,"JobID"],[185,"MasterDocumentID"],[186,"ShortDocumentID"],[187,"UniqueDocumentID"],[188,"OwnerID"],[200,"ObjectPreviewFileFormat"],[201,"ObjectPreviewFileVersion"],[202,"ObjectPreviewData"],[221,"Prefs"],[225,"ClassifyState"],[228,"SimilarityIndex"],[230,"DocumentNotes"],[231,"DocumentHistory"],[232,"ExifCameraInfo"],[255,"CatalogSets"]]),ct(On,"iptc",[[10,{0:"0 (reserved)",1:"1 (most urgent)",2:"2",3:"3",4:"4",5:"5 (normal urgency)",6:"6",7:"7",8:"8 (least urgent)",9:"9 (user-defined priority)"}],[75,{a:"Morning",b:"Both Morning and Evening",p:"Evening"}],[131,{L:"Landscape",P:"Portrait",S:"Square"}]]);const xT=async n=>{try{const e=await gT.parse(n);return e?{camera:e.Make&&e.Model?`${e.Make} ${e.Model}`:void 0,lens:e.LensModel||void 0,focalLength:e.FocalLength?`${e.FocalLength}mm`:void 0,aperture:e.FNumber?`f/${e.FNumber}`:void 0,shutterSpeed:e.ExposureTime?`${e.ExposureTime}s`:void 0,iso:e.ISO?`ISO ${e.ISO}`:void 0,dateTime:e.DateTimeOriginal?.toISOString()||void 0,location:e.GPSLatitude&&e.GPSLongitude?`${e.GPSLatitude.toFixed(6)}, ${e.GPSLongitude.toFixed(6)}`:void 0}:void 0}catch(e){console.error("Error extracting EXIF data:",e);return}};function ST(){const[n,e]=J.useState("en"),[t,i]=J.useState(!1),[o,a]=J.useState(!1),[l,c]=J.useState(""),[d,p]=J.useState([]),[f,m]=J.useState("date"),[g,y]=J.useState(null),[x,S]=J.useState(!1),C={category:l||void 0,tags:d.length>0?d:void 0,sortBy:f},{photos:P,loading:I,error:A,addPhoto:j,deletePhoto:H,incrementViews:T,toggleLike:V}=QE(C),{searchQuery:k,setSearchQuery:_,filteredPhotos:F}=FA(P),z=J.useMemo(()=>f==="random"?[...F].sort(()=>Math.random()-.5):F,[F,f]),B=J.useMemo(()=>{const Z=new Set;return P.forEach(Y=>{Y.tags?.forEach(ie=>Z.add(ie))}),Array.from(Z)},[P]),N=()=>{e(n==="en"?"ja":"en")},L=async Z=>{for(const Y of Z)try{const ie=await GA(Y.file),ve=await KA(Y.file),de=await Bv(ie),fe=await Bv(ve,"thumbnails"),xe=await xT(Y.file),Pe=await qA(de);await j({title:Y.title,description:Y.description,image:de,thumbnail:fe,category:Y.category,tags:Y.tags,exif:xe,colors:Pe,date:new Date().toLocaleDateString(n==="ja"?"ja-JP":"en-US",{year:"numeric",month:"long",day:"numeric"}),is_draft:Y.isDraft,user_id:"admin"})}catch(ie){throw console.error("Error adding photo:",ie),ie}},q=async Z=>{try{await H(Z)}catch(Y){console.error("Error deleting photo:",Y),alert("Failed to delete photo")}},D=Z=>{y(Z),T(Z.id)},E=Z=>Z===XS?(i(!0),!0):!1,X=()=>{i(!1),a(!1),S(!1)},U=()=>{a(!o)},K=Z=>{d.includes(Z)?p(d.filter(Y=>Y!==Z)):p([...d,Z])},R=()=>{if(!g)return;const Y=(z.findIndex(ie=>ie.id===g.id)+1)%z.length;y(z[Y]),T(z[Y].id)},W=()=>{if(!g)return;const Z=z.findIndex(ie=>ie.id===g.id),Y=Z===0?z.length-1:Z-1;y(z[Y]),T(z[Y].id)},ne=qS[n];return O.jsxs(O.Fragment,{children:[O.jsx(qx,{currentLang:n,translations:ne,onToggleLanguage:N,isDarkMode:!1,onToggleDarkMode:function(){throw new Error("Function not implemented.")}}),O.jsxs("div",{className:"container",children:[A&&O.jsxs("div",{className:"error-banner",children:[O.jsx("h3",{children:"⚠️ Database Connection Error"}),O.jsx("p",{children:A})]}),t&&!x&&O.jsx(rb,{translations:ne,onAddPhotos:L,currentLang:n}),t&&O.jsx("div",{className:"admin-toolbar",children:O.jsxs("button",{className:`toolbar-btn ${x?"active":""}`,onClick:()=>S(!x),children:["📊 ",ne.analytics]})}),t&&x?O.jsx(YE,{translations:ne}):O.jsxs(O.Fragment,{children:[O.jsx(L_,{value:k,onChange:_,translations:ne}),O.jsx(M_,{selectedCategory:l,selectedTags:d,sortBy:f,onCategoryChange:c,onTagToggle:K,onSortChange:m,translations:ne,availableTags:B}),I?O.jsxs("div",{className:"loading-state",children:[O.jsx("div",{className:"spinner"}),O.jsx("p",{children:"Loading photos..."})]}):O.jsx(I_,{photos:z,isAdmin:t,translations:ne,onDeletePhoto:q,onPhotoClick:D,onLike:V})]})]}),O.jsx(R_,{isOpen:o,isAdmin:t,translations:ne,onToggle:U,onLogin:E,onLogout:X}),O.jsx(XE,{photo:g,photos:z,isOpen:!!g,onClose:()=>y(null),onNext:R,onPrev:W,translations:ne,isAdmin:t,onLike:V})]})}Kx.createRoot(document.getElementById("root")).render(O.jsx(J.StrictMode,{children:O.jsx(ST,{})}));
